(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Sd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function mw(){if(I_)return pl;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return pl.Fragment=e,pl.jsx=n,pl.jsxs=n,pl}var N_;function gw(){return N_||(N_=1,Sd.exports=mw()),Sd.exports}var E=gw(),Ad={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function pw(){if(C_)return Ie;C_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function Z(C,$,se){this.props=C,this.context=$,this.refs=J,this.updater=se||z}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function le(){}le.prototype=Z.prototype;function he(C,$,se){this.props=C,this.context=$,this.refs=J,this.updater=se||z}var ce=he.prototype=new le;ce.constructor=he,W(ce,Z.prototype),ce.isPureReactComponent=!0;var Ce=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function N(C,$,se,ie,me,ke){return se=ke.ref,{$$typeof:r,type:C,key:$,ref:se!==void 0?se:null,props:ke}}function A(C,$){return N(C.type,$,void 0,void 0,void 0,C.props)}function I(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(se){return $[se]})}var O=/\/+/g;function P(C,$){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):$.toString(36)}function R(){}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ve(C,$,se,ie,me){var ke=typeof C;(ke==="undefined"||ke==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ke){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case r:case e:be=!0;break;case b:return be=C._init,Ve(be(C._payload),$,se,ie,me)}}if(be)return me=me(C),be=ie===""?"."+P(C,0):ie,Ce(me)?(se="",be!=null&&(se=be.replace(O,"$&/")+"/"),Ve(me,$,se,"",function(Mn){return Mn})):me!=null&&(I(me)&&(me=A(me,se+(me.key==null||C&&C.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+be)),$.push(me)),1;be=0;var Vt=ie===""?".":ie+":";if(Ce(C))for(var Qe=0;Qe<C.length;Qe++)ie=C[Qe],ke=Vt+P(ie,Qe),be+=Ve(ie,$,se,ke,me);else if(Qe=D(C),typeof Qe=="function")for(C=Qe.call(C),Qe=0;!(ie=C.next()).done;)ie=ie.value,ke=Vt+P(ie,Qe++),be+=Ve(ie,$,se,ke,me);else if(ke==="object"){if(typeof C.then=="function")return Ve(ne(C),$,se,ie,me);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return be}function G(C,$,se){if(C==null)return C;var ie=[],me=0;return Ve(C,ie,"","",function(ke){return $.call(se,ke,me++)}),ie}function te(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(se){(C._status===0||C._status===-1)&&(C._status=1,C._result=se)},function(se){(C._status===0||C._status===-1)&&(C._status=2,C._result=se)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var fe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Re(){}return Ie.Children={map:G,forEach:function(C,$,se){G(C,function(){$.apply(this,arguments)},se)},count:function(C){var $=0;return G(C,function(){$++}),$},toArray:function(C){return G(C,function($){return $})||[]},only:function(C){if(!I(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ie.Component=Z,Ie.Fragment=n,Ie.Profiler=l,Ie.PureComponent=he,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return re.H.useMemoCache(C)}},Ie.cache=function(C){return function(){return C.apply(null,arguments)}},Ie.cloneElement=function(C,$,se){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=W({},C.props),me=C.key,ke=void 0;if($!=null)for(be in $.ref!==void 0&&(ke=void 0),$.key!==void 0&&(me=""+$.key),$)!ve.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(ie[be]=$[be]);var be=arguments.length-2;if(be===1)ie.children=se;else if(1<be){for(var Vt=Array(be),Qe=0;Qe<be;Qe++)Vt[Qe]=arguments[Qe+2];ie.children=Vt}return N(C.type,me,void 0,void 0,ke,ie)},Ie.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ie.createElement=function(C,$,se){var ie,me={},ke=null;if($!=null)for(ie in $.key!==void 0&&(ke=""+$.key),$)ve.call($,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=$[ie]);var be=arguments.length-2;if(be===1)me.children=se;else if(1<be){for(var Vt=Array(be),Qe=0;Qe<be;Qe++)Vt[Qe]=arguments[Qe+2];me.children=Vt}if(C&&C.defaultProps)for(ie in be=C.defaultProps,be)me[ie]===void 0&&(me[ie]=be[ie]);return N(C,ke,void 0,void 0,null,me)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(C){return{$$typeof:g,render:C}},Ie.isValidElement=I,Ie.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:te}},Ie.memo=function(C,$){return{$$typeof:y,type:C,compare:$===void 0?null:$}},Ie.startTransition=function(C){var $=re.T,se={};re.T=se;try{var ie=C(),me=re.S;me!==null&&me(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Re,fe)}catch(ke){fe(ke)}finally{re.T=$}},Ie.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ie.use=function(C){return re.H.use(C)},Ie.useActionState=function(C,$,se){return re.H.useActionState(C,$,se)},Ie.useCallback=function(C,$){return re.H.useCallback(C,$)},Ie.useContext=function(C){return re.H.useContext(C)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(C,$){return re.H.useDeferredValue(C,$)},Ie.useEffect=function(C,$,se){var ie=re.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(C,$)},Ie.useId=function(){return re.H.useId()},Ie.useImperativeHandle=function(C,$,se){return re.H.useImperativeHandle(C,$,se)},Ie.useInsertionEffect=function(C,$){return re.H.useInsertionEffect(C,$)},Ie.useLayoutEffect=function(C,$){return re.H.useLayoutEffect(C,$)},Ie.useMemo=function(C,$){return re.H.useMemo(C,$)},Ie.useOptimistic=function(C,$){return re.H.useOptimistic(C,$)},Ie.useReducer=function(C,$,se){return re.H.useReducer(C,$,se)},Ie.useRef=function(C){return re.H.useRef(C)},Ie.useState=function(C){return re.H.useState(C)},Ie.useSyncExternalStore=function(C,$,se){return re.H.useSyncExternalStore(C,$,se)},Ie.useTransition=function(){return re.H.useTransition()},Ie.version="19.1.1",Ie}var D_;function gm(){return D_||(D_=1,Ad.exports=pw()),Ad.exports}var pe=gm(),xd={exports:{}},yl={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function yw(){return O_||(O_=1,(function(r){function e(G,te){var fe=G.length;G.push(te);e:for(;0<fe;){var Re=fe-1>>>1,C=G[Re];if(0<l(C,te))G[Re]=te,G[fe]=C,fe=Re;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],fe=G.pop();if(fe!==te){G[0]=fe;e:for(var Re=0,C=G.length,$=C>>>1;Re<$;){var se=2*(Re+1)-1,ie=G[se],me=se+1,ke=G[me];if(0>l(ie,fe))me<C&&0>l(ke,ie)?(G[Re]=ke,G[me]=fe,Re=me):(G[Re]=ie,G[se]=fe,Re=se);else if(me<C&&0>l(ke,fe))G[Re]=ke,G[me]=fe,Re=me;else break e}}return te}function l(G,te){var fe=G.sortIndex-te.sortIndex;return fe!==0?fe:G.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],b=1,S=null,D=3,z=!1,W=!1,J=!1,Z=!1,le=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ce(G){for(var te=n(y);te!==null;){if(te.callback===null)s(y);else if(te.startTime<=G)s(y),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(y)}}function re(G){if(J=!1,Ce(G),!W)if(n(p)!==null)W=!0,ve||(ve=!0,P());else{var te=n(y);te!==null&&Ve(re,te.startTime-G)}}var ve=!1,N=-1,A=5,I=-1;function V(){return Z?!0:!(r.unstable_now()-I<A)}function O(){if(Z=!1,ve){var G=r.unstable_now();I=G;var te=!0;try{e:{W=!1,J&&(J=!1,he(N),N=-1),z=!0;var fe=D;try{t:{for(Ce(G),S=n(p);S!==null&&!(S.expirationTime>G&&V());){var Re=S.callback;if(typeof Re=="function"){S.callback=null,D=S.priorityLevel;var C=Re(S.expirationTime<=G);if(G=r.unstable_now(),typeof C=="function"){S.callback=C,Ce(G),te=!0;break t}S===n(p)&&s(p),Ce(G)}else s(p);S=n(p)}if(S!==null)te=!0;else{var $=n(y);$!==null&&Ve(re,$.startTime-G),te=!1}}break e}finally{S=null,D=fe,z=!1}te=void 0}}finally{te?P():ve=!1}}}var P;if(typeof ce=="function")P=function(){ce(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=O,P=function(){ne.postMessage(null)}}else P=function(){le(O,0)};function Ve(G,te){N=le(function(){G(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var te=3;break;default:te=D}var fe=D;D=te;try{return G()}finally{D=fe}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=D;D=G;try{return te()}finally{D=fe}},r.unstable_scheduleCallback=function(G,te,fe){var Re=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,G={id:b++,callback:te,priorityLevel:G,startTime:fe,expirationTime:C,sortIndex:-1},fe>Re?(G.sortIndex=fe,e(y,G),n(p)===null&&G===n(y)&&(J?(he(N),N=-1):J=!0,Ve(re,fe-Re))):(G.sortIndex=C,e(p,G),W||z||(W=!0,ve||(ve=!0,P()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var te=D;return function(){var fe=D;D=te;try{return G.apply(this,arguments)}finally{D=fe}}}})(Id)),Id}var M_;function _w(){return M_||(M_=1,Rd.exports=yw()),Rd.exports}var Nd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function vw(){if(V_)return Yt;V_=1;var r=gm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,b)},Yt.flushSync=function(p){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=b,s.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:z}):b==="script"&&s.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var k_;function Ew(){if(k_)return Nd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=vw(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function Tw(){if(P_)return yl;P_=1;var r=_w(),e=gm(),n=Ew();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),he=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case Z:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ce:return(t.displayName||"Context")+".Provider";case he:return(t._context.displayName||"Context")+".Consumer";case Ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ne(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ne(t(i))}catch{}}return null}var Ve=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],C=-1;function $(t){return{current:t}}function se(t){0>C||(t.current=Re[C],Re[C]=null,C--)}function ie(t,i){C++,Re[C]=t.current,t.current=i}var me=$(null),ke=$(null),be=$(null),Vt=$(null);function Qe(t,i){switch(ie(be,i),ie(ke,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=n_(i),t=i_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(me),ie(me,t)}function Mn(){se(me),se(ke),se(be)}function uo(t){t.memoizedState!==null&&ie(Vt,t);var i=me.current,a=i_(i,t.type);i!==a&&(ie(ke,t),ie(me,a))}function Ws(t){ke.current===t&&(se(me),se(ke)),Vt.current===t&&(se(Vt),hl._currentValue=fe)}var Zs=Object.prototype.hasOwnProperty,Wr=r.unstable_scheduleCallback,Js=r.unstable_cancelCallback,Sh=r.unstable_shouldYield,co=r.unstable_requestPaint,rn=r.unstable_now,tu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,ho=r.unstable_IdlePriority,xh=r.log,Zr=r.unstable_setDisableYieldValue,Wi=null,Ht=null;function _n(t){if(typeof xh=="function"&&Zr(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Wi,t)}catch{}}var Wt=Math.clz32?Math.clz32:iu,Rh=Math.log,nu=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(Rh(t)/nu|0)|0}var Kn=256,Zi=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vn(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Vn(o):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=o&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=o&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ji(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ea(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),t}function er(){var t=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),t}function ta(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ct(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ru(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Wt(a),K=1<<F;T[F]=0,x[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&tr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function nr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function mo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function go(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yi(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:b_(t.type))}function Ih(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Xn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Xn,kt="__reactProps$"+Xn,_i="__reactContainer$"+Xn,Jr="__reactEvents$"+Xn,es="__reactListeners$"+Xn,Nh="__reactHandles$"+Xn,kn="__reactResources$"+Xn,ir="__reactMarker$"+Xn;function na(t){delete t[ht],delete t[kt],delete t[Jr],delete t[es],delete t[Nh]}function $n(t){var i=t[ht];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[ht]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=o_(t);t!==null;){if(a=t[ht])return a;t=o_(t)}return i}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[ht]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function rr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function sr(t){var i=t[kn];return i||(i=t[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ir]=!0}var su=new Set,ts={};function Zn(t,i){Jn(t,i),Jn(t+"Capture",i)}function Jn(t,i){for(ts[t]=i,t=0;t<i.length;t++)su.add(i[t])}var ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},ia={};function Ch(t){return Zs.call(ia,t)?!0:Zs.call(ei,t)?!1:ns.test(t)?ia[t]=!0:(ei[t]=!0,!1)}function is(t,i,a){if(Ch(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function rs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function En(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var ss,ra;function vi(t){if(ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ss=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ss+t+ra}var sa=!1;function aa(t,i){if(!t||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var B=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){B=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){B=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var x=v.split(`
`),j=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var F=`
`+x[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function Dh(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return vi("Activity");default:return""}}function Pn(t){try{var i="";do i+=Dh(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function as(t){var i=ar(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function or(t){t._valueTracker||(t._valueTracker=as(t))}function Ke(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ar(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var os=/[\n"\\]/g;function Nt(t){return t.replace(os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function po(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+st(i)):t.value!==""+st(i)&&(t.value=""+st(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?_o(t,v,st(i)):a!=null?_o(t,v,st(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+st(T):t.removeAttribute("name")}function yo(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+st(a):"",i=i!=null?""+st(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function _o(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function lr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+st(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function au(t,i,a){if(i!=null&&(i=""+st(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+st(a):""}function ou(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ve(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=st(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ti=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Ti.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Eo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&vo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&vo(t,d,i[d])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(t){return uu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var To=null;function bo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ur=null,Zt=null;function cu(t){var i=Wn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(po(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(s(90));po(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Ke(o)}break e;case"textarea":au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&lr(t,!!a.multiple,i,!1)}}}var ls=!1;function us(t,i,a){if(ls)return t(i,a);ls=!0;try{var o=t(i);return o}finally{if(ls=!1,(ur!==null||Zt!==null)&&(Ju(),ur&&(i=ur,t=Zt,Zt=ur=null,cu(i),t)))for(i=0;i<t.length;i++)cu(t[i])}}function cr(t,i){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(Jt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){bi=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{bi=!1}var bn=null,Je=null,la=null;function hu(){if(la)return la;var t,i=Je,a=i.length,o,h="value"in bn?bn.value:bn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function wo(){return!1}function wt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:wo,this.isPropagationStopped=wo,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=wt(Gt),ds=b({},Gt,{view:0,detail:0}),ms=wt(ds),ua,gs,ti,ps=b({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(ua=t.screenX-ti.screenX,gs=t.screenY-ti.screenY):gs=ua=0,ti=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:gs}}),ys=wt(ps),Oh=b({},ps,{dataTransfer:0}),fu=wt(Oh),_s=b({},ds,{relatedTarget:0}),ca=wt(_s),du=b({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),So=wt(du),Ao=b({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=wt(Ao),ha=b({},Gt,{data:0}),xo=wt(ha),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pu[t])?!!i[t]:!1}function fa(){return yu}var _u=b({},ds,{key:function(t){if(t.key){var i=gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=wt(_u),en=b({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=wt(en),vu=b({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),fr=wt(vu),u=b({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=wt(u),_=b({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w=wt(_),U=b({},Gt,{newState:0,oldState:0}),H=wt(U),ee=[9,13,27,32],Ae=Jt&&"CompositionEvent"in window,it=null;Jt&&"documentMode"in document&&(it=document.documentMode);var Ge=Jt&&"TextEvent"in window&&!it,dt=Jt&&(!Ae||it&&8<it&&11>=it),cn=" ",ni=!1;function Un(t,i){switch(t){case"keyup":return ee.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function Io(t,i){switch(t){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(ni=!0,cn);case"textInput":return t=i.data,t===cn&&ni?null:t;default:return null}}function BT(t,i){if(zn)return t==="compositionend"||!Ae&&Un(t,i)?(t=hu(),la=Je=bn=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return dt&&i.locale!=="ko"?null:i.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!qT[t.type]:i==="textarea"}function yg(t,i,a,o){ur?Zt?Zt.push(o):Zt=[o]:ur=o,i=sc(i,"onChange"),0<i.length&&(a=new fs("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var No=null,Co=null;function HT(t){Wy(t,0)}function Eu(t){var i=rr(t);if(Ke(i))return t}function _g(t,i){if(t==="change")return i}var vg=!1;if(Jt){var Mh;if(Jt){var Vh="oninput"in document;if(!Vh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Vh=typeof Eg.oninput=="function"}Mh=Vh}else Mh=!1;vg=Mh&&(!document.documentMode||9<document.documentMode)}function Tg(){No&&(No.detachEvent("onpropertychange",bg),Co=No=null)}function bg(t){if(t.propertyName==="value"&&Eu(Co)){var i=[];yg(i,Co,t,bo(t)),us(HT,i)}}function GT(t,i,a){t==="focusin"?(Tg(),No=i,Co=a,No.attachEvent("onpropertychange",bg)):t==="focusout"&&Tg()}function FT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Co)}function YT(t,i){if(t==="click")return Eu(i)}function QT(t,i){if(t==="input"||t==="change")return Eu(i)}function KT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:KT;function Do(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Zs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=wg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function kh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var XT=Jt&&"documentMode"in document&&11>=document.documentMode,ma=null,Ph=null,Oo=null,Lh=!1;function Rg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lh||ma==null||ma!==Ei(o)||(o=ma,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Do(Oo,o)||(Oo=o,o=sc(Ph,"onSelect"),0<o.length&&(i=new fs("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ma)))}function vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Uh={},Ig={};Jt&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Es(t){if(Uh[t])return Uh[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ig)return Uh[t]=i[a];return t}var Ng=Es("animationend"),Cg=Es("animationiteration"),Dg=Es("animationstart"),$T=Es("transitionrun"),WT=Es("transitionstart"),ZT=Es("transitioncancel"),Og=Es("transitionend"),Mg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Bn(t,i){Mg.set(t,i),Zn(i,[t])}var Vg=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Pn(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Pn(i)}}var Sn=[],pa=0,zh=0;function Tu(){for(var t=pa,i=zh=pa=0;i<t;){var a=Sn[i];Sn[i++]=null;var o=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&kg(a,h,d)}}function bu(t,i,a,o){Sn[pa++]=t,Sn[pa++]=i,Sn[pa++]=a,Sn[pa++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,i,a,o){return bu(t,i,a,o),wu(t)}function ya(t,i){return bu(t,null,null,i),wu(t)}function kg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function wu(t){if(50<il)throw il=0,Kf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var _a={};function JT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,o){return new JT(t,i,a,o)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Su(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")qh(t)&&(v=1);else if(typeof t=="string")v=tw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=fn(31,a,i,h),t.elementType=I,t.lanes=d,t;case W:return Ts(a.children,h,d,i);case J:v=8,h|=24;break;case Z:return t=fn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case re:return t=fn(13,a,i,h),t.elementType=re,t.lanes=d,t;case ve:return t=fn(19,a,i,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:case ce:v=10;break e;case he:v=9;break e;case Ce:v=11;break e;case N:v=14;break e;case A:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=fn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Ts(t,i,a,o){return t=fn(7,t,o,i),t.lanes=a,t}function Hh(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function Gh(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var va=[],Ea=0,Au=null,xu=0,An=[],xn=0,bs=null,Ai=1,xi="";function ws(t,i){va[Ea++]=xu,va[Ea++]=Au,Au=t,xu=i}function Lg(t,i,a){An[xn++]=Ai,An[xn++]=xi,An[xn++]=bs,bs=t;var o=Ai;t=xi;var h=32-Wt(o)-1;o&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ai=1<<32-Wt(i)+h|a<<h|o,xi=d+t}else Ai=1<<d|a<<h|o,xi=t}function Fh(t){t.return!==null&&(ws(t,1),Lg(t,1,0))}function Yh(t){for(;t===Au;)Au=va[--Ea],va[Ea]=null,xu=va[--Ea],va[Ea]=null;for(;t===bs;)bs=An[--xn],An[xn]=null,xi=An[--xn],An[xn]=null,Ai=An[--xn],An[xn]=null}var tn=null,lt=null,qe=!1,Ss=null,ii=!1,Qh=Error(s(519));function As(t){var i=Error(s(418,""));throw ko(wn(i,t)),Qh}function Ug(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[ht]=t,i[kt]=o,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)Me(sl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),yo(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),or(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ou(i,o.value,o.defaultValue,o.children),or(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||t_(i.textContent,a)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=ac),i=!0):i=!1,i||As(t)}function jg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:tn=tn.return}}function Mo(t){if(t!==tn)return!1;if(!qe)return jg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cd(t.type,t.memoizedProps)),a=!a),a&&lt&&As(t),jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Hn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Ir(t.type)?(t=md,md=null,lt=t):lt=i):lt=tn?Hn(t.stateNode.nextSibling):null;return!0}function Vo(){lt=tn=null,qe=!1}function zg(){var t=Ss;return t!==null&&(on===null?on=t:on.push.apply(on,t),Ss=null),t}function ko(t){Ss===null?Ss=[t]:Ss.push(t)}var Kh=$(null),xs=null,Ri=null;function dr(t,i,a){ie(Kh,i._currentValue),i._currentValue=a}function Ii(t){t._currentValue=Kh.current,se(Kh)}function Xh(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function $h(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xh(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Po(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Vt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hl):t=[hl])}h=h.return}t!==null&&$h(i,t,a,o),i.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){xs=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Bg(xs,t)}function Iu(t,i){return xs===null&&Rs(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ri=Ri.next=i;return a}var eb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},tb=r.unstable_scheduleCallback,nb=r.unstable_NormalPriority,St={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new eb,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&tb(nb,function(){t.controller.abort()})}var Uo=null,Zh=0,Ta=0,ba=null;function ib(t,i){if(Uo===null){var a=Uo=[];Zh=0,Ta=td(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zh++,i.then(qg,qg),i}function qg(){if(--Zh===0&&Uo!==null){ba!==null&&(ba.status="fulfilled");var t=Uo;Uo=null,Ta=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function rb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Hg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ib(t,i),Hg!==null&&Hg(t,i)};var Is=$(null);function Jh(){var t=Is.current;return t!==null?t:et.pooledCache}function Nu(t,i){i===null?ie(Is,Is.current):ie(Is,i.pool)}function Gg(){var t=Jh();return t===null?null:{parent:St._currentValue,pool:t}}var jo=Error(s(460)),Fg=Error(s(474)),Cu=Error(s(542)),ef={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function Qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xg(t),t;default:if(typeof i.status=="string")i.then(Du,Du);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xg(t),t}throw zo=i,jo}}var zo=null;function Kg(){if(zo===null)throw Error(s(459));var t=zo;return zo=null,t}function Xg(t){if(t===jo||t===Cu)throw Error(s(483))}var mr=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=wu(t),kg(t,null,a),i}return bu(t,o,i,a),wu(t)}function Bo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,nr(t,a)}}function rf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sf=!1;function qo(){if(sf){var t=ba;if(t!==null)throw t}}function Ho(t,i,a,o){sf=!1;var h=t.updateQueue;mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,v===null?d=j:v.next=j,v=x;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==v&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=x))}if(d!==null){var K=h.baseState;v=0,F=j=x=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(je&B)===B:(o&B)===B){B!==0&&B===Ta&&(sf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,ye=T;B=i;var We=a;switch(ye.tag){case 1:if(we=ye.payload,typeof we=="function"){K=we.call(We,K,B);break e}K=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ye.payload,B=typeof we=="function"?we.call(We,K,B):we,B==null)break e;K=b({},K,B);break e;case 2:mr=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=q,x=K):F=F.next=q,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(x=K),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Sr|=v,t.lanes=v,t.memoizedState=K}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var wa=$(null),Ou=$(0);function Zg(t,i){t=ki,ie(Ou,t),ie(wa,i),ki=t|i.baseLanes}function af(){ie(Ou,ki),ie(wa,wa.current)}function of(){ki=Ou.current,se(wa),se(Ou)}var yr=0,Ne=null,Xe=null,yt=null,Mu=!1,Sa=!1,Ns=!1,Vu=0,Go=0,Aa=null,sb=0;function mt(){throw Error(s(321))}function lf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function uf(t,i,a,o,h,d){return yr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?kp:Pp,Ns=!1,d=a(o,h),Ns=!1,Sa&&(d=ep(i,a,o,h)),Jg(t),d}function Jg(t){G.H=zu;var i=Xe!==null&&Xe.next!==null;if(yr=0,yt=Xe=Ne=null,Mu=!1,Go=0,Aa=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Ru(t)&&(Ct=!0))}function ep(t,i,a,o){Ne=t;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=fb,d=i(a,o)}while(Sa);return d}function ab(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Fo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function cf(){var t=Vu!==0;return Vu=0,t}function hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ff(t){if(Mu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mu=!1}yr=0,yt=Xe=Ne=null,Sa=!1,Go=Vu=0,Aa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ne.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Ne.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ne.memoizedState=yt=t:yt=yt.next=t}return yt}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var i=Go;return Go+=1,Aa===null&&(Aa=[]),t=Qg(Aa,t,i),i=Ne,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?kp:Pp),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===ce)return Ft(t)}throw Error(s(438,String(t)))}function mf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=df(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Ni(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=_t();return gf(i,Xe,t)}function gf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,x=null,j=i,F=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(je&K)===K:(yr&K)===K){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Ta&&(F=!0);else if((yr&B)===B){j=j.next,B===Ta&&(F=!0);continue}else K={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=K,v=d):x=x.next=K,Ne.lanes|=B,Sr|=B;K=j.action,Ns&&a(d,K),d=j.hasEagerState?j.eagerState:a(d,K)}else B={lane:K,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=B,v=d):x=x.next=B,Ne.lanes|=K,Sr|=K;j=j.next}while(j!==null&&j!==i);if(x===null?v=d:x.next=T,!hn(d,t.memoizedState)&&(Ct=!0,F&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function pf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function tp(t,i,a){var o=Ne,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Ct=!0),h=h.queue;var T=rp.bind(null,o,h,t);if(Yo(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,xa(9,Lu(),ip.bind(null,o,h,a,i),null),et===null)throw Error(s(349));d||(yr&124)!==0||np(o,i,a)}return a}function np(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=df(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ip(t,i,a,o){i.value=a,i.getSnapshot=o,sp(i)&&ap(t)}function rp(t,i,a){return a(function(){sp(i)&&ap(t)})}function sp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function ap(t){var i=ya(t,2);i!==null&&yn(i,t,2)}function yf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ns){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},i}function op(t,i,a,o){return t.baseState=a,gf(t,Xe,typeof o=="function"?o:Ni)}function ob(t,i,a,o,h){if(ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,lp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function lp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,o),x=G.S;x!==null&&x(v,T),up(t,i,T)}catch(j){_f(t,i,j)}finally{G.T=d}}else try{d=a(h,o),up(t,i,d)}catch(j){_f(t,i,j)}}function up(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){cp(t,i,o)},function(o){return _f(t,i,o)}):cp(t,i,a)}function cp(t,i,a){i.status="fulfilled",i.value=a,hp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,lp(t,a)))}function _f(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,hp(i),i=i.next;while(i!==o)}t.action=null}function hp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fp(t,i){return i}function dp(t,i){if(qe){var a=et.formState;if(a!==null){e:{var o=Ne;if(qe){if(lt){t:{for(var h=lt,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Hn(h.nextSibling),o=h.data==="F!";break e}}As(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:i},a.queue=o,a=Op.bind(null,Ne,o),o.dispatch=a,o=yf(!1),d=wf.bind(null,Ne,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=ob.bind(null,Ne,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function mp(t){var i=_t();return gp(i,Xe,t)}function gp(t,i,a){if(i=gf(t,i,fp)[0],t=Pu(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Fo(i)}catch(v){throw v===jo?Cu:v}else o=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,xa(9,Lu(),lb.bind(null,h,a),null)),[o,d,t]}function lb(t,i){t.action=i}function pp(t){var i=_t(),a=Xe;if(a!==null)return gp(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function xa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=df(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Lu(){return{destroy:void 0,resource:void 0}}function yp(){return _t().memoizedState}function Uu(t,i,a,o){var h=sn();o=o===void 0?null:o,Ne.flags|=t,h.memoizedState=xa(1|i,Lu(),a,o)}function Yo(t,i,a,o){var h=_t();o=o===void 0?null:o;var d=h.memoizedState.inst;Xe!==null&&o!==null&&lf(o,Xe.memoizedState.deps)?h.memoizedState=xa(i,d,a,o):(Ne.flags|=t,h.memoizedState=xa(1|i,d,a,o))}function _p(t,i){Uu(8390656,8,t,i)}function vp(t,i){Yo(2048,8,t,i)}function Ep(t,i){return Yo(4,2,t,i)}function Tp(t,i){return Yo(4,4,t,i)}function bp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wp(t,i,a){a=a!=null?a.concat([t]):null,Yo(4,4,bp.bind(null,i,t),a)}function vf(){}function Sp(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&lf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ap(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&lf(i,o[1]))return o[0];if(o=t(),Ns){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[o,i],o}function Ef(t,i,a){return a===void 0||(yr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Iy(),Ne.lanes|=t,Sr|=t,a)}function xp(t,i,a,o){return hn(a,i)?a:wa.current!==null?(t=Ef(t,a,o),hn(t,i)||(Ct=!0),t):(yr&42)===0?(Ct=!0,t.memoizedState=a):(t=Iy(),Ne.lanes|=t,Sr|=t,i)}function Rp(t,i,a,o,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,wf(t,!1,i,a);try{var x=h(),j=G.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var F=rb(x,o);Qo(t,i,F,pn(t))}else Qo(t,i,o,pn(t))}catch(K){Qo(t,i,{then:function(){},status:"rejected",reason:K},pn())}finally{te.p=d,G.T=v}}function ub(){}function Tf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Ip(t).queue;Rp(t,h,i,fe,a===null?ub:function(){return Np(t),a(o)})}function Ip(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Np(t){var i=Ip(t).next.queue;Qo(t,i,{},pn())}function bf(){return Ft(hl)}function Cp(){return _t().memoizedState}function Dp(){return _t().memoizedState}function cb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=gr(a);var o=pr(i,t,a);o!==null&&(yn(o,i,a),Bo(o,i,a)),i={cache:Wh()},t.payload=i;return}i=i.return}}function hb(t,i,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Mp(i,a):(a=Bh(t,i,a,o),a!==null&&(yn(a,t,o),Vp(a,i,o)))}function Op(t,i,a){var o=pn();Qo(t,i,a,o)}function Qo(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Mp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return bu(t,i,h,0),et===null&&Tu(),!1}catch{}finally{}if(a=Bh(t,i,h,o),a!==null)return yn(a,t,o),Vp(a,i,o),!0}return!1}function wf(t,i,a,o){if(o={lane:2,revertLane:td(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(i)throw Error(s(479))}else i=Bh(t,a,o,2),i!==null&&yn(i,t,2)}function ju(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Mp(t,i){Sa=Mu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,nr(t,a)}}var zu={readContext:Ft,use:ku,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},kp={readContext:Ft,use:ku,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:_p,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,bp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Uu(4194308,4,t,i)},useInsertionEffect:function(t,i){Uu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Ns){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Ns){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=hb.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=yf(t);var i=t.queue,a=Op.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(t,i){var a=sn();return Ef(a,t,i)},useTransition:function(){var t=yf(!1);return t=Rp.bind(null,Ne,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ne,h=sn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(je&124)!==0||np(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_p(rp.bind(null,o,d,t),[t]),o.flags|=2048,xa(9,Lu(),ip.bind(null,o,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(qe){var a=xi,o=Ai;a=(o&~(1<<32-Wt(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=sb++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:bf,useFormState:dp,useActionState:dp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:mf,useCacheRefresh:function(){return sn().memoizedState=cb.bind(null,Ne)}},Pp={readContext:Ft,use:ku,useCallback:Sp,useContext:Ft,useEffect:vp,useImperativeHandle:wp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:Ap,useReducer:Pu,useRef:yp,useState:function(){return Pu(Ni)},useDebugValue:vf,useDeferredValue:function(t,i){var a=_t();return xp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Pu(Ni)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:tp,useId:Cp,useHostTransitionStatus:bf,useFormState:mp,useActionState:mp,useOptimistic:function(t,i){var a=_t();return op(a,Xe,t,i)},useMemoCache:mf,useCacheRefresh:Dp},fb={readContext:Ft,use:ku,useCallback:Sp,useContext:Ft,useEffect:vp,useImperativeHandle:wp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:Ap,useReducer:pf,useRef:yp,useState:function(){return pf(Ni)},useDebugValue:vf,useDeferredValue:function(t,i){var a=_t();return Xe===null?Ef(a,t,i):xp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=pf(Ni)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:tp,useId:Cp,useHostTransitionStatus:bf,useFormState:pp,useActionState:pp,useOptimistic:function(t,i){var a=_t();return Xe!==null?op(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Dp},Ra=null,Ko=0;function Bu(t){var i=Ko;return Ko+=1,Ra===null&&(Ra=[]),Qg(Ra,t,i)}function Xo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function qu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lp(t){var i=t._init;return i(t._payload)}function Up(t){function i(k,M){if(t){var L=k.deletions;L===null?(k.deletions=[M],k.flags|=16):L.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Si(k,M),k.index=0,k.sibling=null,k}function d(k,M,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<M?(k.flags|=67108866,M):L):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,L,Y){return M===null||M.tag!==6?(M=Hh(L,k.mode,Y),M.return=k,M):(M=h(M,L),M.return=k,M)}function x(k,M,L,Y){var ue=L.type;return ue===W?F(k,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===A&&Lp(ue)===M.type)?(M=h(M,L.props),Xo(M,L),M.return=k,M):(M=Su(L.type,L.key,L.props,null,k.mode,Y),Xo(M,L),M.return=k,M)}function j(k,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Gh(L,k.mode,Y),M.return=k,M):(M=h(M,L.children||[]),M.return=k,M)}function F(k,M,L,Y,ue){return M===null||M.tag!==7?(M=Ts(L,k.mode,Y,ue),M.return=k,M):(M=h(M,L),M.return=k,M)}function K(k,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hh(""+M,k.mode,L),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return L=Su(M.type,M.key,M.props,null,k.mode,L),Xo(L,M),L.return=k,L;case z:return M=Gh(M,k.mode,L),M.return=k,M;case A:var Y=M._init;return M=Y(M._payload),K(k,M,L)}if(Ve(M)||P(M))return M=Ts(M,k.mode,L,null),M.return=k,M;if(typeof M.then=="function")return K(k,Bu(M),L);if(M.$$typeof===ce)return K(k,Iu(k,M),L);qu(k,M)}return null}function B(k,M,L,Y){var ue=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:T(k,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ue?x(k,M,L,Y):null;case z:return L.key===ue?j(k,M,L,Y):null;case A:return ue=L._init,L=ue(L._payload),B(k,M,L,Y)}if(Ve(L)||P(L))return ue!==null?null:F(k,M,L,Y,null);if(typeof L.then=="function")return B(k,M,Bu(L),Y);if(L.$$typeof===ce)return B(k,M,Iu(k,L),Y);qu(k,L)}return null}function q(k,M,L,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,T(M,k,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return k=k.get(Y.key===null?L:Y.key)||null,x(M,k,Y,ue);case z:return k=k.get(Y.key===null?L:Y.key)||null,j(M,k,Y,ue);case A:var De=Y._init;return Y=De(Y._payload),q(k,M,L,Y,ue)}if(Ve(Y)||P(Y))return k=k.get(L)||null,F(M,k,Y,ue,null);if(typeof Y.then=="function")return q(k,M,L,Bu(Y),ue);if(Y.$$typeof===ce)return q(k,M,L,Iu(M,Y),ue);qu(M,Y)}return null}function we(k,M,L,Y){for(var ue=null,De=null,de=M,_e=M=0,Ot=null;de!==null&&_e<L.length;_e++){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var Be=B(k,de,L[_e],Y);if(Be===null){de===null&&(de=Ot);break}t&&de&&Be.alternate===null&&i(k,de),M=d(Be,M,_e),De===null?ue=Be:De.sibling=Be,De=Be,de=Ot}if(_e===L.length)return a(k,de),qe&&ws(k,_e),ue;if(de===null){for(;_e<L.length;_e++)de=K(k,L[_e],Y),de!==null&&(M=d(de,M,_e),De===null?ue=de:De.sibling=de,De=de);return qe&&ws(k,_e),ue}for(de=o(de);_e<L.length;_e++)Ot=q(de,k,_e,L[_e],Y),Ot!==null&&(t&&Ot.alternate!==null&&de.delete(Ot.key===null?_e:Ot.key),M=d(Ot,M,_e),De===null?ue=Ot:De.sibling=Ot,De=Ot);return t&&de.forEach(function(Mr){return i(k,Mr)}),qe&&ws(k,_e),ue}function ye(k,M,L,Y){if(L==null)throw Error(s(151));for(var ue=null,De=null,de=M,_e=M=0,Ot=null,Be=L.next();de!==null&&!Be.done;_e++,Be=L.next()){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var Mr=B(k,de,Be.value,Y);if(Mr===null){de===null&&(de=Ot);break}t&&de&&Mr.alternate===null&&i(k,de),M=d(Mr,M,_e),De===null?ue=Mr:De.sibling=Mr,De=Mr,de=Ot}if(Be.done)return a(k,de),qe&&ws(k,_e),ue;if(de===null){for(;!Be.done;_e++,Be=L.next())Be=K(k,Be.value,Y),Be!==null&&(M=d(Be,M,_e),De===null?ue=Be:De.sibling=Be,De=Be);return qe&&ws(k,_e),ue}for(de=o(de);!Be.done;_e++,Be=L.next())Be=q(de,k,_e,Be.value,Y),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?_e:Be.key),M=d(Be,M,_e),De===null?ue=Be:De.sibling=Be,De=Be);return t&&de.forEach(function(dw){return i(k,dw)}),qe&&ws(k,_e),ue}function We(k,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:e:{for(var ue=L.key;M!==null;){if(M.key===ue){if(ue=L.type,ue===W){if(M.tag===7){a(k,M.sibling),Y=h(M,L.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===A&&Lp(ue)===M.type){a(k,M.sibling),Y=h(M,L.props),Xo(Y,L),Y.return=k,k=Y;break e}a(k,M);break}else i(k,M);M=M.sibling}L.type===W?(Y=Ts(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=Su(L.type,L.key,L.props,null,k.mode,Y),Xo(Y,L),Y.return=k,k=Y)}return v(k);case z:e:{for(ue=L.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(k,M.sibling),Y=h(M,L.children||[]),Y.return=k,k=Y;break e}else{a(k,M);break}else i(k,M);M=M.sibling}Y=Gh(L,k.mode,Y),Y.return=k,k=Y}return v(k);case A:return ue=L._init,L=ue(L._payload),We(k,M,L,Y)}if(Ve(L))return we(k,M,L,Y);if(P(L)){if(ue=P(L),typeof ue!="function")throw Error(s(150));return L=ue.call(L),ye(k,M,L,Y)}if(typeof L.then=="function")return We(k,M,Bu(L),Y);if(L.$$typeof===ce)return We(k,M,Iu(k,L),Y);qu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(k,M.sibling),Y=h(M,L),Y.return=k,k=Y):(a(k,M),Y=Hh(L,k.mode,Y),Y.return=k,k=Y),v(k)):a(k,M)}return function(k,M,L,Y){try{Ko=0;var ue=We(k,M,L,Y);return Ra=null,ue}catch(de){if(de===jo||de===Cu)throw de;var De=fn(29,de,null,k.mode);return De.lanes=Y,De.return=k,De}finally{}}}var Ia=Up(!0),jp=Up(!1),Rn=$(null),ri=null;function _r(t){var i=t.alternate;ie(At,At.current&1),ie(Rn,t),ri===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(ri=t)}function zp(t){if(t.tag===22){if(ie(At,At.current),ie(Rn,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else vr()}function vr(){ie(At,At.current),ie(Rn,Rn.current)}function Ci(t){se(Rn),ri===t&&(ri=null),se(At)}var At=$(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Af={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=pn(),h=gr(o);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,o),i!==null&&(yn(i,t,o),Bo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=pn(),h=gr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,o),i!==null&&(yn(i,t,o),Bo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),o=gr(a);o.tag=2,i!=null&&(o.callback=i),i=pr(t,o,a),i!==null&&(yn(i,t,a),Bo(i,t,a))}};function Bp(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Do(a,o)||!Do(h,d):!0}function qp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Af.enqueueReplaceState(i,i.state,null)}function Cs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hp(t){Gu(t)}function Gp(t){console.error(t)}function Fp(t){Gu(t)}function Fu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(t,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,i)},a}function Qp(t){return t=gr(t),t.tag=3,t}function Kp(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Yp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yp(i,a,o),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function db(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Po(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ri===null?$f():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ef?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Zf(t,o,h)),!1;case 22:return a.flags|=65536,o===ef?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Zf(t,o,h)),!1}throw Error(s(435,a.tag))}return Zf(t,o,h),$f(),!1}if(qe)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Qh&&(t=Error(s(422),{cause:o}),ko(wn(t,a)))):(o!==Qh&&(i=Error(s(423),{cause:o}),ko(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=wn(o,a),h=xf(t.stateNode,o,h),rf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:o});if(d=wn(d,a),nl===null?nl=[d]:nl.push(d),ut!==4&&(ut=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=xf(a.stateNode,o,t),rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qp(h),Kp(h,t,a,o),rf(a,h),!1}a=a.return}while(a!==null);return!1}var Xp=Error(s(461)),Ct=!1;function Pt(t,i,a,o){i.child=t===null?jp(i,null,a,o):Ia(i,t.child,a,o)}function $p(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Rs(i),o=uf(t,i,a,v,d,h),T=cf(),t!==null&&!Ct?(hf(t,i,h),Di(t,i,h)):(qe&&T&&Fh(i),i.flags|=1,Pt(t,i,o,h),i.child)}function Wp(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!qh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Zp(t,i,d,o,h)):(t=Su(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Vf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(v,o)&&t.ref===i.ref)return Di(t,i,h)}return i.flags|=1,t=Si(d,o),t.ref=i.ref,t.return=i,i.child=t}function Zp(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Do(d,o)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=o=d,Vf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Di(t,i,h)}return Rf(t,i,a,o,h)}function Jp(t,i,a){var o=i.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return ey(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):af(),zp(i);else return i.lanes=i.childLanes=536870912,ey(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Nu(i,d.cachePool),Zg(i,d),vr(),i.memoizedState=null):(t!==null&&Nu(i,null),af(),vr());return Pt(t,i,h,a),i.child}function ey(t,i,a,o){var h=Jh();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Nu(i,null),af(),zp(i),t!==null&&Po(t,i,o,!0),null}function Yu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rf(t,i,a,o,h){return Rs(i),a=uf(t,i,a,o,void 0,h),o=cf(),t!==null&&!Ct?(hf(t,i,h),Di(t,i,h)):(qe&&o&&Fh(i),i.flags|=1,Pt(t,i,a,h),i.child)}function ty(t,i,a,o,h,d){return Rs(i),i.updateQueue=null,a=ep(i,o,a,h),Jg(t),o=cf(),t!==null&&!Ct?(hf(t,i,d),Di(t,i,d)):(qe&&o&&Fh(i),i.flags|=1,Pt(t,i,a,d),i.child)}function ny(t,i,a,o,h){if(Rs(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},tf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Af.enqueueReplaceState(d,d.state,null),Ho(i,o,d,h),qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=Cs(a,T);d.props=x;var j=d.context,F=a.contextType;v=_a,typeof F=="object"&&F!==null&&(v=Ft(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&qp(i,d,o,v),mr=!1;var B=i.memoizedState;d.state=B,Ho(i,o,d,h),qo(),j=i.memoizedState,T||B!==j||mr?(typeof K=="function"&&(Sf(i,a,K,o),j=i.memoizedState),(x=mr||Bp(i,a,x,o,B,j,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=v,o=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,nf(t,i),v=i.memoizedProps,F=Cs(a,v),d.props=F,K=i.pendingProps,B=d.context,j=a.contextType,x=_a,typeof j=="object"&&j!==null&&(x=Ft(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||B!==x)&&qp(i,d,o,x),mr=!1,B=i.memoizedState,d.state=B,Ho(i,o,d,h),qo();var q=i.memoizedState;v!==K||B!==q||mr||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof T=="function"&&(Sf(i,a,T,o),q=i.memoizedState),(F=mr||Bp(i,a,F,o,B,q,x)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=x,o=F):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Yu(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Ia(i,t.child,null,h),i.child=Ia(i,null,a,h)):Pt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Di(t,i,h),t}function iy(t,i,a,o){return Vo(),i.flags|=256,Pt(t,i,a,o),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Gg()}}function Cf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function ry(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?_r(i):vr(),qe){var T=lt,x;if(x=T){e:{for(x=T,T=ii;x.nodeType!==8;){if(!T){T=null;break e}if(x=Hn(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},x=fn(18,null,null,0),x.stateNode=T,x.return=i,i.child=x,tn=i,lt=null,x=!0):x=!1}x||As(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dd(T)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return T=o.children,o=o.fallback,h?(vr(),h=i.mode,T=Qu({mode:"hidden",children:T},h),o=Ts(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=Nf(a),h.childLanes=Cf(t,v,a),i.memoizedState=If,o):(_r(i),Df(i,T))}if(x=t.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=Of(t,i,a)):i.memoizedState!==null?(vr(),i.child=t.child,i.flags|=128,i=null):(vr(),h=o.fallback,T=i.mode,o=Qu({mode:"visible",children:o.children},T),h=Ts(h,T,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Ia(i,t.child,null,a),o=i.child,o.memoizedState=Nf(a),o.childLanes=Cf(t,v,a),i.memoizedState=If,i=h);else if(_r(i),dd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),i=Of(t,i,a)}else if(Ct||Po(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=et,v!==null&&(o=a&-a,o=(o&42)!==0?1:mo(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,ya(t,o),yn(v,t,o),Xp;T.data==="$?"||$f(),i=Of(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,lt=Hn(T.nextSibling),tn=i,qe=!0,Ss=null,ii=!1,t!==null&&(An[xn++]=Ai,An[xn++]=xi,An[xn++]=bs,Ai=t.id,xi=t.overflow,bs=i),i=Df(i,o.children),i.flags|=4096);return i}return h?(vr(),h=o.fallback,T=i.mode,x=t.child,j=x.sibling,o=Si(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?h=Si(j,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=t.child.memoizedState,T===null?T=Nf(a):(x=T.cachePool,x!==null?(j=St._currentValue,x=x.parent!==j?{parent:j,pool:j}:x):x=Gg(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=Cf(t,v,a),i.memoizedState=If,o):(_r(i),a=t.child,t=a.sibling,a=Si(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Df(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Of(t,i,a){return Ia(i,t.child,null,a),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Xh(t.return,i,a)}function Mf(t,i,a,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function ay(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Pt(t,i,o.children,a),o=At.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,a,i);else if(t.tag===19)sy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ie(At,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Mf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Mf(i,!0,a,null,d);break;case"together":Mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Po(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Si(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Si(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Vf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function mb(t,i,a){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),dr(i,St,t.memoizedState.cache),Vo();break;case 27:case 5:uo(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:dr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(t,i,a):(_r(i),t=Di(t,i,a),t!==null?t.sibling:null);_r(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Po(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ay(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(At,At.current),o)break;return null;case 22:case 23:return i.lanes=0,Jp(t,i,a);case 24:dr(i,St,t.memoizedState.cache)}return Di(t,i,a)}function oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Vf(t,a)&&(i.flags&128)===0)return Ct=!1,mb(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,qe&&(i.flags&1048576)!==0&&Lg(i,xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")qh(o)?(t=Cs(o,t),i.tag=1,i=ny(null,i,o,t,a)):(i.tag=0,i=Rf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===Ce){i.tag=11,i=$p(null,i,o,t,a);break e}else if(h===N){i.tag=14,i=Wp(null,i,o,t,a);break e}}throw i=ne(o)||o,Error(s(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Cs(o,i.pendingProps),ny(t,i,o,h,a);case 3:e:{if(Qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,nf(t,i),Ho(i,o,null,a);var v=i.memoizedState;if(o=v.cache,dr(i,St,o),o!==d.cache&&$h(i,[St],a,!0),qo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=iy(t,i,o,a);break e}else if(o!==h){h=wn(Error(s(424)),i),ko(h),i=iy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Hn(t.firstChild),tn=i,qe=!0,Ss=null,ii=!0,a=jp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vo(),o===h){i=Di(t,i,a);break e}Pt(t,i,o,a)}i=i.child}return i;case 26:return Yu(t,i),t===null?(a=h_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,o=oc(be.current).createElement(a),o[ht]=i,o[kt]=t,Ut(o,a,t),ft(o),i.stateNode=o):i.memoizedState=h_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return uo(i),t===null&&qe&&(o=i.stateNode=l_(i.type,i.pendingProps,be.current),tn=i,ii=!0,h=lt,Ir(i.type)?(md=h,lt=Hn(o.firstChild)):lt=h),Pt(t,i,i.pendingProps.children,a),Yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=o=lt)&&(o=qb(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,tn=i,lt=Hn(o.firstChild),ii=!1,h=!0):h=!1),h||As(i)),uo(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,cd(h,d)?o=null:v!==null&&cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=uf(t,i,ab,null,null,a),hl._currentValue=h),Yu(t,i),Pt(t,i,o,a),i.child;case 6:return t===null&&qe&&((t=a=lt)&&(a=Hb(a,i.pendingProps,ii),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||As(i)),null;case 13:return ry(t,i,a);case 4:return Qe(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ia(i,null,o,a):Pt(t,i,o,a),i.child;case 11:return $p(t,i,i.type,i.pendingProps,a);case 7:return Pt(t,i,i.pendingProps,a),i.child;case 8:return Pt(t,i,i.pendingProps.children,a),i.child;case 12:return Pt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,dr(i,i.type,o.value),Pt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Rs(i),h=Ft(h),o=o(h),i.flags|=1,Pt(t,i,o,a),i.child;case 14:return Wp(t,i,i.type,i.pendingProps,a);case 15:return Zp(t,i,i.type,i.pendingProps,a);case 19:return ay(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=Qu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Si(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Jp(t,i,a);case 24:return Rs(i),o=Ft(St),t===null?(h=Jh(),h===null&&(h=et,d=Wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},tf(i),dr(i,St,h)):((t.lanes&a)!==0&&(nf(t,i),Ho(i,null,null,a),qo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),dr(i,St,o)):(o=d.cache,dr(i,St,o),o!==h.cache&&$h(i,[St],a,!0))),Pt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(t){t.flags|=4}function ly(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(i)){if(i=Rn.current,i!==null&&((je&4194048)===je?ri!==null:(je&62914560)!==je&&(je&536870912)===0||i!==ri))throw zo=ef,Fg;t.flags|=8192}}function Ku(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?er():536870912,t.lanes|=i,Oa|=i)}function $o(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function gb(t,i,a){var o=i.pendingProps;switch(Yh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ii(St),Mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Mo(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg())),at(i),null;case 26:return a=i.memoizedState,t===null?(Oi(i),a!==null?(at(i),ly(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Oi(i),at(i),ly(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==o&&Oi(i),at(i),i.flags&=-16777217),null;case 27:Ws(i),a=be.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=me.current,Mo(i)?Ug(i):(t=l_(h,o,a),i.stateNode=t,Oi(i))}return at(i),null;case 5:if(Ws(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=me.current,Mo(i))Ug(i);else{switch(h=oc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[ht]=i,t[kt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ut(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,Mo(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ht]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,a)),t||As(i)}else t=oc(t).createTextNode(o),t[ht]=i,i.stateNode=t}return at(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Mo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ht]=i}else Vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),at(i),null;case 4:return Mn(),t===null&&sd(i.stateNode.containerInfo),at(i),null;case 10:return Ii(i.type),at(i),null;case 19:if(se(At),h=i.memoizedState,h===null)return at(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)$o(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Hu(t),d!==null){for(i.flags|=128,$o(h,!1),t=d.updateQueue,i.updateQueue=t,Ku(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Pg(a,t),a=a.sibling;return ie(At,At.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>Wu&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304)}else{if(!o)if(t=Hu(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Ku(i,t),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(i),null}else 2*rn()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,o=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=At.current,ie(At,o?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Ci(i),of(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&se(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(St),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pb(t,i){switch(Yh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ii(St),Mn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 13:if(Ci(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(At),null;case 4:return Mn(),null;case 10:return Ii(i.type),null;case 22:case 23:return Ci(i),of(),t!==null&&se(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ii(St),null;case 25:return null;default:return null}}function uy(t,i){switch(Yh(i),i.tag){case 3:Ii(St),Mn();break;case 26:case 27:case 5:Ws(i);break;case 4:Mn();break;case 13:Ci(i);break;case 19:se(At);break;case 10:Ii(i.type);break;case 22:case 23:Ci(i),of(),t!==null&&se(Is);break;case 24:Ii(St)}}function Wo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function Er(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var x=a,j=T;try{j()}catch(F){Ze(h,x,F)}}}o=o.next}while(o!==d)}}catch(F){Ze(i,i.return,F)}}function cy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(o){Ze(t,t.return,o)}}}function hy(t,i,a){a.props=Cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ze(t,i,o)}}function Zo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ze(t,i,h)}}function si(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function fy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function kf(t,i,a){try{var o=t.stateNode;Lb(o,t.type,a,i),o[kt]=i}catch(h){Ze(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ac));else if(o!==4&&(o===27&&Ir(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Lf(t,i,a),t=t.sibling;t!==null;)Lf(t,i,a),t=t.sibling}function Xu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xu(t,i,a),t=t.sibling;t!==null;)Xu(t,i,a),t=t.sibling}function my(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ut(i,o,a),i[ht]=t,i[kt]=a}catch(d){Ze(t,t.return,d)}}var Mi=!1,gt=!1,Uf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function yb(t,i){if(t=t.containerInfo,ld=dc,t=xg(t),kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,x=-1,j=0,F=0,K=t,B=null;t:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(T=v+h),K!==d||o!==0&&K.nodeType!==3||(x=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(q=K.firstChild)!==null;)B=K,K=q;for(;;){if(K===t)break t;if(B===a&&++j===h&&(T=v),B===d&&++F===o&&(x=v),(q=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=q}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(ud={focusedElem:t,selectionRange:a},dc=!1,Dt=i;Dt!==null;)if(i=Dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dt=t;else for(;Dt!==null;){switch(i=Dt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var we=Cs(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(we,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dt=t;break}Dt=i.return}}function py(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),o&4&&Wo(5,a);break;case 1:if(Tr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Cs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}o&64&&cy(a),o&512&&Zo(a,a.return);break;case 3:if(Tr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&o&4&&my(a);case 26:case 5:Tr(t,a),i===null&&o&4&&fy(a),o&512&&Zo(a,a.return);break;case 12:Tr(t,a);break;case 13:Tr(t,a),o&4&&vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xb.bind(null,a),Gb(t,a))));break;case 22:if(o=a.memoizedState!==null||Mi,!o){i=i!==null&&i.memoizedState!==null||gt,h=Mi;var d=gt;Mi=o,(gt=i)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),Mi=h,gt=d}break;case 30:break;default:Tr(t,a)}}function yy(t){var i=t.alternate;i!==null&&(t.alternate=null,yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&na(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function Vi(t,i,a){for(a=a.child;a!==null;)_y(t,i,a),a=a.sibling}function _y(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 26:gt||si(a,i),Vi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||si(a,i);var o=rt,h=an;Ir(a.type)&&(rt=a.stateNode,an=!1),Vi(t,i,a),ol(a.stateNode),rt=o,an=h;break;case 5:gt||si(a,i);case 6:if(o=rt,h=an,rt=null,Vi(t,i,a),rt=o,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:rt!==null&&(an?(t=rt,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gl(t)):a_(rt,a.stateNode));break;case 4:o=rt,h=an,rt=a.stateNode.containerInfo,an=!0,Vi(t,i,a),rt=o,an=h;break;case 0:case 11:case 14:case 15:gt||Er(2,a,i),gt||Er(4,a,i),Vi(t,i,a);break;case 1:gt||(si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,i,o)),Vi(t,i,a);break;case 21:Vi(t,i,a);break;case 22:gt=(o=gt)||a.memoizedState!==null,Vi(t,i,a),gt=o;break;default:Vi(t,i,a)}}function vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gl(t)}catch(a){Ze(i,i.return,a)}}function _b(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gy),i;default:throw Error(s(435,t.tag))}}function jf(t,i){var a=_b(t);i.forEach(function(o){var h=Rb.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){rt=T.stateNode,an=!1;break e}break;case 5:rt=T.stateNode,an=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(rt===null)throw Error(s(160));_y(d,v,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,t),i=i.sibling}var qn=null;function Ey(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),o&4&&(Er(3,t,t.return),Wo(3,t),Er(5,t,t.return));break;case 1:dn(i,t),mn(t),o&512&&(gt||a===null||si(a,a.return)),o&64&&Mi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=qn;if(dn(i,t),mn(t),o&512&&(gt||a===null||si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ut(d,o,a),d[ht]=t,ft(d),o=d;break e;case"link":var v=m_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),Ut(d,o,a),h.head.appendChild(d);break;case"meta":if(v=m_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),Ut(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ht]=t,ft(d),o=d}t.stateNode=o}else g_(h,t.type,t.stateNode);else t.stateNode=d_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?g_(h,t.type,t.stateNode):d_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&kf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),o&512&&(gt||a===null||si(a,a.return)),a!==null&&o&4&&kf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),o&512&&(gt||a===null||si(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(q){Ze(t,t.return,q)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,kf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(dn(i,t),mn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(q){Ze(t,t.return,q)}}break;case 3:if(cc=null,h=qn,qn=lc(i.containerInfo),dn(i,t),qn=h,mn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(q){Ze(t,t.return,q)}Uf&&(Uf=!1,Ty(t));break;case 4:o=qn,qn=lc(t.stateNode.containerInfo),dn(i,t),mn(t),qn=o;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Mi,F=gt;if(Mi=j||h,gt=F||x,dn(i,t),gt=F,Mi=j,mn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Mi||gt||Ds(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var K=x.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Ze(x,x.return,q)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(q){Ze(x,x.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,jf(t,a))));break;case 19:dn(i,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pf(t);Xu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=Pf(t);Xu(t,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,j=Pf(t);Lf(t,j,x);break;default:throw Error(s(161))}}catch(F){Ze(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)py(t,i.alternate,i),i=i.sibling}function Ds(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),Ds(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),Ds(i);break;case 27:ol(i.stateNode);case 26:case 5:si(i,i.return),Ds(i);break;case 22:i.memoizedState===null&&Ds(i);break;case 30:Ds(i);break;default:Ds(i)}t=t.sibling}}function br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),Wo(4,d);break;case 1:if(br(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)$g(x[h],T)}catch(j){Ze(o,o.return,j)}}a&&v&64&&cy(d),Zo(d,d.return);break;case 27:my(d);case 26:case 5:br(h,d,a),a&&o===null&&v&4&&fy(d),Zo(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&vy(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),Zo(d,d.return);break;case 30:break;default:br(h,d,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Lo(a))}function Bf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t))}function ai(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(t,i,a,o),i=i.sibling}function by(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,o),h&2048&&Wo(9,i);break;case 1:ai(t,i,a,o);break;case 3:ai(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t)));break;case 12:if(h&2048){ai(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ze(i,i.return,x)}}else ai(t,i,a,o);break;case 13:ai(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,o):Jo(t,i):d._visibility&2?ai(t,i,a,o):(d._visibility|=2,Na(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ai(t,i,a,o),h&2048&&Bf(i.alternate,i);break;default:ai(t,i,a,o)}}function Na(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,x=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Na(d,v,T,x,h),Wo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Na(d,v,T,x,h):Jo(d,v):(F._visibility|=2,Na(d,v,T,x,h)),h&&j&2048&&zf(v.alternate,v);break;case 24:Na(d,v,T,x,h),h&&j&2048&&Bf(v.alternate,v);break;default:Na(d,v,T,x,h)}i=i.sibling}}function Jo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Jo(a,o),h&2048&&zf(o.alternate,o);break;case 24:Jo(a,o),h&2048&&Bf(o.alternate,o);break;default:Jo(a,o)}i=i.sibling}}var el=8192;function Ca(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 26:Ca(t),t.flags&el&&t.memoizedState!==null&&iw(qn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=qn;qn=lc(t.stateNode.containerInfo),Ca(t),qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Ca(t),el=i):Ca(t));break;default:Ca(t)}}function Sy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Dt=o,xy(o,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Er(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$u(t)):tl(t);break;default:tl(t)}}function $u(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Dt=o,xy(o,t)}Sy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Er(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$u(i));break;default:$u(i)}t=t.sibling}}function xy(t,i){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Dt=o;else e:for(a=t;Dt!==null;){o=Dt;var h=o.sibling,d=o.return;if(yy(o),o===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}var vb={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Eb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Oe=null,je=0,Ye=0,gn=null,wr=!1,Da=!1,qf=!1,ki=0,ut=0,Sr=0,Os=0,Hf=0,In=0,Oa=0,nl=null,on=null,Gf=!1,Ff=0,Wu=1/0,Zu=null,Ar=null,Lt=0,xr=null,Ma=null,Va=0,Yf=0,Qf=null,Ry=null,il=0,Kf=null;function pn(){if((Fe&2)!==0&&je!==0)return je&-je;if(G.T!==null){var t=Ta;return t!==0?t:td()}return yi()}function Iy(){In===0&&(In=(je&536870912)===0||qe?fo():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),In}function yn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Rr(t,je,In,!1)),ct(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Os|=a),ut===4&&Rr(t,je,In,!1)),oi(t))}function Ny(t,i,a){if((Fe&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ji(t,i),h=o?wb(t,i):Wf(t,i,!0),d=o;do{if(h===0){Da&&!o&&Rr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Tb(a)){h=Wf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=nl;var x=T.current.memoizedState.isDehydrated;if(x&&(ka(T,v).flags|=256),v=Wf(T,v,!1),v!==2){if(qf&&!x){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(t,0),Rr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(o,i,In,!wr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-rn(),10<h)){if(Rr(o,i,In,!wr),vn(o,0,!0)!==0)break e;o.timeoutHandle=r_(Cy.bind(null,o,a,on,Zu,Gf,i,In,Os,Oa,wr,d,2,-0,0),h);break e}Cy(o,a,on,Zu,Gf,i,In,Os,Oa,wr,d,0,-0,0)}}break}while(!0);oi(t)}function Cy(t,i,a,o,h,d,v,T,x,j,F,K,B,q){if(t.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:nw},wy(i),K=rw(),K!==null)){t.cancelPendingCommit=K(Ly.bind(null,t,i,d,a,o,h,v,T,x,F,1,B,q)),Rr(t,d,v,!j);return}Ly(t,i,d,a,o,h,v,T,x)}function Tb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,a,o){i&=~Hf,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&tr(t,a,i)}function Ju(){return(Fe&6)===0?(rl(0),!1):!0}function Xf(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Ri=xs=null,ff(t),Ra=null,Ko=0,t=Oe;for(;t!==null;)uy(t.alternate,t),t=t.return;Oe=null}}function ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xf(),et=t,Oe=a=Si(t.current,null),je=i,Ye=0,gn=null,wr=!1,Da=Ji(t,i),qf=!1,Oa=In=Hf=Os=Sr=ut=0,on=nl=null,Gf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Wt(o),d=1<<h;i|=t[h],o&=~d}return ki=i,Tu(),a}function Dy(t,i){Ne=null,G.H=zu,i===jo||i===Cu?(i=Kg(),Ye=3):i===Fg?(i=Kg(),Ye=4):Ye=i===Xp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Oe===null&&(ut=1,Fu(t,wn(i,t.current)))}function Oy(){var t=G.H;return G.H=zu,t===null?zu:t}function My(){var t=G.A;return G.A=vb,t}function $f(){ut=4,wr||(je&4194048)!==je&&Rn.current!==null||(Da=!0),(Sr&134217727)===0&&(Os&134217727)===0||et===null||Rr(et,je,In,!1)}function Wf(t,i,a){var o=Fe;Fe|=2;var h=Oy(),d=My();(et!==t||je!==i)&&(Zu=null,ka(t,i)),i=!1;var v=ut;e:do try{if(Ye!==0&&Oe!==null){var T=Oe,x=gn;switch(Ye){case 8:Xf(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var j=Ye;if(Ye=0,gn=null,Pa(t,T,x,j),a&&Da){v=0;break e}break;default:j=Ye,Ye=0,gn=null,Pa(t,T,x,j)}}bb(),v=ut;break}catch(F){Dy(t,F)}while(!0);return i&&t.shellSuspendCounter++,Ri=xs=null,Fe=o,G.H=h,G.A=d,Oe===null&&(et=null,je=0,Tu()),v}function bb(){for(;Oe!==null;)Vy(Oe)}function wb(t,i){var a=Fe;Fe|=2;var o=Oy(),h=My();et!==t||je!==i?(Zu=null,Wu=rn()+500,ka(t,i)):Da=Ji(t,i);e:do try{if(Ye!==0&&Oe!==null){i=Oe;var d=gn;t:switch(Ye){case 1:Ye=0,gn=null,Pa(t,i,d,1);break;case 2:case 9:if(Yg(d)){Ye=0,gn=null,ky(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),oi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Yg(d)?(Ye=0,gn=null,ky(i)):(Ye=0,gn=null,Pa(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||p_(v)){Ye=0,gn=null;var x=T.sibling;if(x!==null)Oe=x;else{var j=T.return;j!==null?(Oe=j,ec(j)):Oe=null}break t}}Ye=0,gn=null,Pa(t,i,d,5);break;case 6:Ye=0,gn=null,Pa(t,i,d,6);break;case 8:Xf(),ut=6;break e;default:throw Error(s(462))}}Sb();break}catch(F){Dy(t,F)}while(!0);return Ri=xs=null,G.H=o,G.A=h,Fe=a,Oe!==null?0:(et=null,je=0,Tu(),ut)}function Sb(){for(;Oe!==null&&!Sh();)Vy(Oe)}function Vy(t){var i=oy(t.alternate,t,ki);t.memoizedProps=t.pendingProps,i===null?ec(t):Oe=i}function ky(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ty(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=ty(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:ff(i);default:uy(a,i),i=Oe=Pg(i,ki),i=oy(a,i,ki)}t.memoizedProps=t.pendingProps,i===null?ec(t):Oe=i}function Pa(t,i,a,o){Ri=xs=null,ff(i),Ra=null,Ko=0;var h=i.return;try{if(db(t,h,i,a,je)){ut=1,Fu(t,wn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ut=1,Fu(t,wn(a,t.current)),Oe=null;return}i.flags&32768?(qe||o===1?t=!0:Da||(je&536870912)!==0?t=!1:(wr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(i,t)):ec(i)}function ec(t){var i=t;do{if((i.flags&32768)!==0){Py(i,wr);return}t=i.return;var a=gb(i.alternate,i,ki);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ut===0&&(ut=5)}function Py(t,i){do{var a=pb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ut=6,Oe=null}function Ly(t,i,a,o,h,d,v,T,x){t.cancelPendingCommit=null;do tc();while(Lt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,ru(t,a,d,v,T,x),t===et&&(Oe=et=null,je=0),Ma=i,xr=t,Va=a,Yf=d,Qf=h,Ry=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ib(pi,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=te.p,te.p=2,v=Fe,Fe|=4;try{yb(t,i,a)}finally{Fe=v,te.p=h,G.T=o}}Lt=1,Uy(),jy(),zy()}}function Uy(){if(Lt===1){Lt=0;var t=xr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=Fe;Fe|=4;try{Ey(i,t);var d=ud,v=xg(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ag(T.ownerDocument.documentElement,T)){if(x!==null&&kh(T)){var j=x.start,F=x.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var q=B.getSelection(),we=T.textContent.length,ye=Math.min(x.start,we),We=x.end===void 0?ye:Math.min(x.end,we);!q.extend&&ye>We&&(v=We,We=ye,ye=v);var k=Sg(T,ye),M=Sg(T,We);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var L=K.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),ye>We?(q.addRange(L),q.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),q.addRange(L))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}dc=!!ld,ud=ld=null}finally{Fe=h,te.p=o,G.T=a}}t.current=i,Lt=2}}function jy(){if(Lt===2){Lt=0;var t=xr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=te.p;te.p=2;var h=Fe;Fe|=4;try{py(t,i.alternate,i)}finally{Fe=h,te.p=o,G.T=a}}Lt=3}}function zy(){if(Lt===4||Lt===3){Lt=0,co();var t=xr,i=Ma,a=Va,o=Ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ma=xr=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),go(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=te.p,te.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,te.p=h}}(Va&3)!==0&&tc(),oi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Kf?il++:(il=0,Kf=t):il=0,rl(0)}}function By(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Lo(i)))}function tc(t){return Uy(),jy(),zy(),qy()}function qy(){if(Lt!==5)return!1;var t=xr,i=Yf;Yf=0;var a=go(Va),o=G.T,h=te.p;try{te.p=32>a?32:a,G.T=null,a=Qf,Qf=null;var d=xr,v=Va;if(Lt=0,Ma=xr=null,Va=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,Ay(d.current),by(d,d.current,v,a),Fe=T,rl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Wi,d)}catch{}return!0}finally{te.p=h,G.T=o,By(t,i)}}function Hy(t,i,a){i=wn(a,i),i=xf(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(ct(t,2),oi(t))}function Ze(t,i,a){if(t.tag===3)Hy(t,t,a);else for(;i!==null;){if(i.tag===3){Hy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ar===null||!Ar.has(o))){t=wn(a,t),a=Qp(2),o=pr(i,a,2),o!==null&&(Kp(a,o,i,t),ct(o,2),oi(o));break}}i=i.return}}function Zf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Eb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(qf=!0,h.add(a),t=Ab.bind(null,t,i,a),i.then(t,t))}function Ab(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(je&a)===a&&(ut===4||ut===3&&(je&62914560)===je&&300>rn()-Ff?(Fe&2)===0&&ka(t,0):Hf|=a,Oa===je&&(Oa=0)),oi(t)}function Gy(t,i){i===0&&(i=er()),t=ya(t,i),t!==null&&(ct(t,i),oi(t))}function xb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function Rb(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Gy(t,a)}function Ib(t,i){return Wr(t,i)}var nc=null,La=null,Jf=!1,ic=!1,ed=!1,Ms=0;function oi(t){t!==La&&t.next===null&&(La===null?nc=La=t:La=La.next=t),ic=!0,Jf||(Jf=!0,Cb())}function rl(t,i){if(!ed&&ic){ed=!0;do for(var a=!1,o=nc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ky(o,d))}else d=je,d=vn(o,o===et?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ji(o,d)||(a=!0,Ky(o,d));o=o.next}while(a);ed=!1}}function Nb(){Fy()}function Fy(){ic=Jf=!1;var t=0;Ms!==0&&(Ub()&&(t=Ms),Ms=0);for(var i=rn(),a=null,o=nc;o!==null;){var h=o.next,d=Yy(o,i);d===0?(o.next=null,a===null?nc=h:a.next=h,h===null&&(La=a)):(a=o,(t!==0||(d&3)!==0)&&(ic=!0)),o=h}rl(t)}function Yy(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,x=h[v];x===-1?((T&a)===0||(T&o)!==0)&&(h[v]=ea(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=je,a=vn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Js(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ji(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Js(o),go(a)){case 2:case 8:a=It;break;case 32:a=pi;break;case 268435456:a=ho;break;default:a=pi}return o=Qy.bind(null,t),a=Wr(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Js(o),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tc()&&t.callbackNode!==a)return null;var o=je;return o=vn(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ny(t,o,i),Yy(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Qy.bind(null,t):null)}function Ky(t,i){if(tc())return null;Ny(t,i,!0)}function Cb(){zb(function(){(Fe&6)!==0?Wr(bt,Nb):Fy()})}function td(){return Ms===0&&(Ms=fo()),Ms}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ln(""+t)}function $y(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Db(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Xy((h[kt]||null).action),v=o.submitter;v&&(i=(i=v[kt]||null)?Xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fs("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var x=v?$y(h,v):new FormData(h);Tf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=v?$y(h,v):new FormData(h),Tf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var nd=0;nd<jh.length;nd++){var id=jh[nd],Ob=id.toLowerCase(),Mb=id[0].toUpperCase()+id.slice(1);Bn(Ob,"on"+Mb)}Bn(Ng,"onAnimationEnd"),Bn(Cg,"onAnimationIteration"),Bn(Dg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn($T,"onTransitionRun"),Bn(WT,"onTransitionStart"),Bn(ZT,"onTransitionCancel"),Bn(Og,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Wy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(F){Gu(F)}h.currentTarget=null,d=x}else for(v=0;v<o.length;v++){if(T=o[v],x=T.instance,j=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(F){Gu(F)}h.currentTarget=null,d=x}}}}function Me(t,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var o=t+"__bubble";a.has(o)||(Zy(i,t,2,!1),a.add(o))}function rd(t,i,a){var o=0;i&&(o|=4),Zy(a,t,o,i)}var rc="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[rc]){t[rc]=!0,su.forEach(function(a){a!=="selectionchange"&&(Vb.has(a)||rd(a,!1,t),rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[rc]||(i[rc]=!0,rd("selectionchange",!1,i))}}function Zy(t,i,a,o){switch(b_(i)){case 2:var h=ow;break;case 8:h=lw;break;default:h=vd}a=h.bind(null,i,a,t),h=void 0,!bi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ad(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=$n(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){o=d=v;continue e}T=T.parentNode}}o=o.return}us(function(){var j=d,F=bo(a),K=[];e:{var B=Mg.get(t);if(B!==void 0){var q=fs,we=t;switch(t){case"keypress":if(cs(a)===0)break e;case"keydown":case"keyup":q=da;break;case"focusin":we="focus",q=ca;break;case"focusout":we="blur",q=ca;break;case"beforeblur":case"afterblur":q=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=fr;break;case Ng:case Cg:case Dg:q=So;break;case Og:q=m;break;case"scroll":case"scrollend":q=ms;break;case"wheel":q=w;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ro;break;case"toggle":case"beforetoggle":q=H}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),k=ye?B!==null?B+"Capture":null:B;ye=[];for(var M=j,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=cr(M,k),Y!=null&&ye.push(al(M,Y,L))),We)break;M=M.return}0<ye.length&&(B=new q(B,we,null,a,F),K.push({event:B,listeners:ye}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==To&&(we=a.relatedTarget||a.fromElement)&&($n(we)||we[_i]))break e;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(we=a.relatedTarget||a.toElement,q=j,we=we?$n(we):null,we!==null&&(We=c(we),ye=we.tag,we!==We||ye!==5&&ye!==27&&ye!==6)&&(we=null)):(q=null,we=j),q!==we)){if(ye=ys,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ro,Y="onPointerLeave",k="onPointerEnter",M="pointer"),We=q==null?B:rr(q),L=we==null?B:rr(we),B=new ye(Y,M+"leave",q,a,F),B.target=We,B.relatedTarget=L,Y=null,$n(F)===j&&(ye=new ye(k,M+"enter",we,a,F),ye.target=L,ye.relatedTarget=We,Y=ye),We=Y,q&&we)t:{for(ye=q,k=we,M=0,L=ye;L;L=Ua(L))M++;for(L=0,Y=k;Y;Y=Ua(Y))L++;for(;0<M-L;)ye=Ua(ye),M--;for(;0<L-M;)k=Ua(k),L--;for(;M--;){if(ye===k||k!==null&&ye===k.alternate)break t;ye=Ua(ye),k=Ua(k)}ye=null}else ye=null;q!==null&&Jy(K,B,q,ye,!1),we!==null&&We!==null&&Jy(K,We,we,ye,!0)}}e:{if(B=j?rr(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ue=_g;else if(pg(B))if(vg)ue=QT;else{ue=FT;var De=GT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&oa(j.elementType)&&(ue=_g):ue=YT;if(ue&&(ue=ue(t,j))){yg(K,ue,a,F);break e}De&&De(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&_o(B,"number",B.value)}switch(De=j?rr(j):window,t){case"focusin":(pg(De)||De.contentEditable==="true")&&(ma=De,Ph=j,Oo=null);break;case"focusout":Oo=Ph=ma=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Rg(K,a,F);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Rg(K,a,F)}var de;if(Ae)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else zn?Un(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(dt&&a.locale!=="ko"&&(zn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&zn&&(de=hu()):(bn=F,Je="value"in bn?bn.value:bn.textContent,zn=!0)),De=sc(j,_e),0<De.length&&(_e=new xo(_e,t,null,a,F),K.push({event:_e,listeners:De}),de?_e.data=de:(de=jn(a),de!==null&&(_e.data=de)))),(de=Ge?Io(t,a):BT(t,a))&&(_e=sc(j,"onBeforeInput"),0<_e.length&&(De=new xo("onBeforeInput","beforeinput",null,a,F),K.push({event:De,listeners:_e}),De.data=de)),Db(K,t,j,a,F)}Wy(K,i)})}function al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function sc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=cr(t,a),h!=null&&o.unshift(al(t,h,d)),h=cr(t,i),h!=null&&o.push(al(t,h,d))),t.tag===3)return o;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=cr(a,d),j!=null&&v.unshift(al(a,j,x))):h||(j=cr(a,d),j!=null&&v.push(al(a,j,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var kb=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(kb,`
`).replace(Pb,"")}function t_(t,i){return i=e_(i),e_(t)===i}function ac(){}function $e(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Tn(t,""+o);break;case"className":rs(t,"class",o);break;case"tabIndex":rs(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(t,a,o);break;case"style":Eo(t,o,d);break;case"data":if(i!=="object"){rs(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ln(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ln(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ac);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ln(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),is(t,"popover",o);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":is(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lu.get(a)||a,is(t,a,o))}}function od(t,i,a,o,h,d){switch(a){case"style":Eo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):is(t,a,o)}}}function Ut(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),o&&$e(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":x=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:$e(t,i,o,F,a,null)}}yo(t,d,T,x,j,v,h,!1),or(t);return;case"select":Me("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?lr(t,!!o,i,!1):a!=null&&lr(t,!!o,a,!0);return;case"textarea":Me("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}ou(t,o,h,d),or(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(t,i,x,o,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<sl.length;o++)Me(sl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,j,o,a,null)}return;default:if(oa(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&od(t,i,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&$e(t,i,T,o,a,null))}function Lb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,x=null,j=null,F=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=K;default:o.hasOwnProperty(q)||$e(t,i,q,null,o,K)}}for(var B in o){var q=o[B];if(K=a[B],o.hasOwnProperty(B)&&(q!=null||K!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==K&&$e(t,i,B,q,o,K)}}po(t,v,T,x,j,F,d,h);return;case"select":q=v=T=B=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(d)||$e(t,i,d,null,o,x)}for(h in o)if(d=o[h],x=a[h],o.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==x&&$e(t,i,h,d,o,x)}i=T,a=v,o=q,B!=null?lr(t,!!a,B,!1):!!o!=!!a&&(i!=null?lr(t,!!a,i,!0):lr(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,o,d)}au(t,B,q);return;case"option":for(var we in a)if(B=a[we],a.hasOwnProperty(we)&&B!=null&&!o.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:$e(t,i,we,null,o,B)}for(x in o)if(B=o[x],q=a[x],o.hasOwnProperty(x)&&B!==q&&(B!=null||q!=null))switch(x){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$e(t,i,x,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&$e(t,i,ye,null,o,B);for(j in o)if(B=o[j],q=a[j],o.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:$e(t,i,j,B,o,q)}return;default:if(oa(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!o.hasOwnProperty(We)&&od(t,i,We,void 0,o,B);for(F in o)B=o[F],q=a[F],!o.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||od(t,i,F,B,o,q);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&$e(t,i,k,null,o,B);for(K in o)B=o[K],q=a[K],!o.hasOwnProperty(K)||B===q||B==null&&q==null||$e(t,i,K,B,o,q)}var ld=null,ud=null;function oc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(Bb)}:r_;function Bb(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function a_(t,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var T=v.nextSibling,x=v.nodeName;v[ir]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),gl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);gl(i)}function fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ir])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Hb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Gb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var md=null;function o_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function l_(t,i,a){switch(i=oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);na(t)}var Nn=new Map,u_=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=te.d;te.d={f:Fb,r:Yb,D:Qb,C:Kb,L:Xb,m:$b,X:Zb,S:Wb,M:Jb};function Fb(){var t=Pi.f(),i=Ju();return t||i}function Yb(t){var i=Wn(t);i!==null&&i.tag===5&&i.type==="form"?Np(i):Pi.r(t)}var ja=typeof document>"u"?null:document;function c_(t,i,a){var o=ja;if(o&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ut(i,"link",t),ft(i),o.head.appendChild(i)))}}function Qb(t){Pi.D(t),c_("dns-prefetch",t,null)}function Kb(t,i){Pi.C(t,i),c_("preconnect",t,i)}function Xb(t,i,a){Pi.L(t,i,a);var o=ja;if(o&&t&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}Nn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(ll(d))||i==="script"&&o.querySelector(ul(d))||(i=o.createElement("link"),Ut(i,"link",t),ft(i),o.head.appendChild(i)))}}function $b(t,i){Pi.m(t,i);var a=ja;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(o)+'"][href="'+Nt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Nn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Nn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}o=a.createElement("link"),Ut(o,"link",t),ft(o),a.head.appendChild(o)}}}function Wb(t,i,a){Pi.S(t,i,a);var o=ja;if(o&&t){var h=sr(o).hoistableStyles,d=za(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(ll(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(d))&&gd(t,a);var x=v=o.createElement("link");ft(x),Ut(x,"link",t),x._p=new Promise(function(j,F){x.onload=j,x.onerror=F}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Zb(t,i){Pi.X(t,i);var a=ja;if(a&&t){var o=sr(a).hoistableScripts,h=Ba(t),d=o.get(h);d||(d=a.querySelector(ul(h)),d||(t=b({src:t,async:!0},i),(i=Nn.get(h))&&pd(t,i),d=a.createElement("script"),ft(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Jb(t,i){Pi.M(t,i);var a=ja;if(a&&t){var o=sr(a).hoistableScripts,h=Ba(t),d=o.get(h);d||(d=a.querySelector(ul(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&pd(t,i),d=a.createElement("script"),ft(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function h_(t,i,a,o){var h=(h=be.current)?lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=sr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=sr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),d||ew(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=sr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Nt(t)+'"'}function ll(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ew(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ut(i,"link",a),ft(i),t.head.appendChild(i))}function Ba(t){return'[src="'+Nt(t)+'"]'}function ul(t){return"script[async]"+t}function d_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(o)return i.instance=o,ft(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ft(o),Ut(o,"style",h),uc(o,a.precedence,t),i.instance=o;case"stylesheet":h=za(a.href);var d=t.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;o=f_(a),(h=Nn.get(h))&&gd(o,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Ut(d,"link",o),i.state.loading|=4,uc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(ul(d)))?(i.instance=h,ft(h),h):(o=a,(h=Nn.get(d))&&(o=b({},a),pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Ut(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,uc(o,a.precedence,t));return i.instance}function uc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var cc=null;function m_(t,i,a){if(cc===null){var o=new Map,h=cc=new Map;h.set(a,o)}else h=cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ir]||d[ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function g_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function tw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function nw(){}function iw(t,i,a){if(cl===null)throw Error(s(475));var o=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=t.querySelector(ll(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=hc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=f_(a),(h=Nn.get(h))&&gd(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Ut(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=hc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function rw(){if(cl===null)throw Error(s(475));var t=cl;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function yd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,i.forEach(sw,t),fc=null,hc.call(t))}function sw(t,i){if(!(i.state.loading&4)){var a=fc.get(t);if(a)var o=a.get(null);else{a=new Map,fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var hl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function aw(t,i,a,o,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y_(t,i,a,o,h,d,v,T,x,j,F,K){return t=new aw(t,i,a,v,T,x,j,K),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=Wh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},tf(d),t}function __(t){return t?(t=_a,t):_a}function v_(t,i,a,o,h,d){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=gr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=pr(t,o,i),a!==null&&(yn(a,t,i),Bo(a,t,i))}function E_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function _d(t,i){E_(t,i),(t=t.alternate)&&E_(t,i)}function T_(t){if(t.tag===13){var i=ya(t,67108864);i!==null&&yn(i,t,67108864),_d(t,67108864)}}var dc=!0;function ow(t,i,a,o){var h=G.T;G.T=null;var d=te.p;try{te.p=2,vd(t,i,a,o)}finally{te.p=d,G.T=h}}function lw(t,i,a,o){var h=G.T;G.T=null;var d=te.p;try{te.p=8,vd(t,i,a,o)}finally{te.p=d,G.T=h}}function vd(t,i,a,o){if(dc){var h=Ed(o);if(h===null)ad(t,i,o,mc,a),w_(t,o);else if(cw(h,t,i,a,o))o.stopPropagation();else if(w_(t,o),i&4&&-1<uw.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Wt(v);T.entanglements[1]|=x,v&=~x}oi(d),(Fe&6)===0&&(Wu=rn()+500,rl(0))}}break;case 13:T=ya(d,2),T!==null&&yn(T,d,2),Ju(),_d(d,2)}if(d=Ed(o),d===null&&ad(t,i,o,mc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ad(t,i,o,null,a)}}function Ed(t){return t=bo(t),Td(t)}var mc=null;function Td(t){if(mc=null,t=$n(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mc=t,null}function b_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case bt:return 2;case It:return 8;case pi:case Ah:return 32;case ho:return 268435456;default:return 32}default:return 32}}var bd=!1,Nr=null,Cr=null,Dr=null,fl=new Map,dl=new Map,Or=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&T_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cw(t,i,a,o,h){switch(i){case"focusin":return Nr=ml(Nr,t,i,a,o,h),!0;case"dragenter":return Cr=ml(Cr,t,i,a,o,h),!0;case"mouseover":return Dr=ml(Dr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,t,i,a,o,h)),!0}return!1}function S_(t){var i=$n(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Ih(t.priority,function(){if(a.tag===13){var o=pn();o=mo(o);var h=ya(a,o);h!==null&&yn(h,a,o),_d(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);To=o,a.target.dispatchEvent(o),To=null}else return i=Wn(a),i!==null&&T_(i),t.blockedOn=a,!1;i.shift()}return!0}function A_(t,i,a){gc(t)&&a.delete(i)}function hw(){bd=!1,Nr!==null&&gc(Nr)&&(Nr=null),Cr!==null&&gc(Cr)&&(Cr=null),Dr!==null&&gc(Dr)&&(Dr=null),fl.forEach(A_),dl.forEach(A_)}function pc(t,i){t.blockedOn===i&&(t.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hw)))}var yc=null;function x_(t){yc!==t&&(yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===t&&(yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Td(o||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(i,3),i-=3,Tf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function gl(t){function i(x){return pc(x,t)}Nr!==null&&pc(Nr,t),Cr!==null&&pc(Cr,t),Dr!==null&&pc(Dr,t),fl.forEach(i),dl.forEach(i);for(var a=0;a<Or.length;a++){var o=Or[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)S_(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[kt]||null;if(typeof d=="function")v||x_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[kt]||null)T=v.formAction;else if(Td(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),x_(a)}}}function wd(t){this._internalRoot=t}_c.prototype.render=wd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=pn();v_(a,o,t,i,null,null)},_c.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;v_(t.current,2,null,t,null,null),Ju(),i[_i]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var i=yi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,t),a===0&&S_(t)}};var R_=e.version;if(R_!=="19.1.1")throw Error(s(527,R_,"19.1.1"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var fw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Wi=vc.inject(fw),Ht=vc}catch{}}return yl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Hp,d=Gp,v=Fp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=y_(t,1,!1,null,null,a,o,h,d,v,T,null),t[_i]=i.current,sd(t),new wd(i)},yl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Hp,v=Gp,T=Fp,x=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=y_(t,1,!0,i,a??null,o,h,d,v,T,x,j),i.context=__(null),a=i.current,o=pn(),o=mo(o),h=gr(o),h.callback=null,pr(a,h,o),a=o,i.current.lanes=a,ct(i,a),oi(i),t[_i]=i.current,sd(t),new _c(i)},yl.version="19.1.1",yl}var L_;function bw(){if(L_)return xd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xd.exports=Tw(),xd.exports}var ww=bw();const Sw=()=>{};var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Aw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,z=y&63;p||(z=64,f||(D=64)),s.push(n[b],n[S],n[D],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Aw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new xw;const D=c<<2|g>>4;if(s.push(D),y!==64){const z=g<<4&240|y>>2;if(s.push(z),S!==64){const W=y<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rw=function(r){const e=y0(r);return _0.encodeByteArray(e,!0)},Pc=function(r){return Rw(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=()=>Iw().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Dw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&v0(r[1]);return e&&JSON.parse(e)},nh=()=>{try{return Sw()||Nw()||Cw()||Dw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>nh()?.emulatorHosts?.[r],T0=r=>{const e=E0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},b0=()=>nh()?.config,w0=r=>nh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pm(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}const Sl={};function Vw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?r.emulator.push(e):r.prod.push(e);return r}function kw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let j_=!1;function ym(r,e){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||Sl[r]===e||Sl[r]||j_)return;Sl[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=Vw().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{j_=!0,f()},D}function b(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=kw(s),z=n("text"),W=document.getElementById(z)||document.createElement("span"),J=n("learnmore"),Z=document.getElementById(J)||document.createElement("a"),le=n("preprendIcon"),he=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ce=D.element;g(ce),b(Z,J);const Ce=y();p(he,le),ce.append(he,W,Z,Ce),document.body.appendChild(ce)}c?(W.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Lw(){const r=nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bw(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qw(){return!Lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="FirebaseError";class Yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fw,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?Yw(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Yi(l,g,s)}}function Yw(r,e){return r.replace(Qw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Qw=/\{\$([^}]+)}/g;function Kw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=e[l];if(z_(c)&&z_(f)){if(!zs(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function z_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Xw(r,e){const n=new $w(r,e);return n.subscribe.bind(n)}class $w{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ww(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Jw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jw(r){return r===Vs?void 0:r}function eS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const nS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},iS=Pe.INFO,rS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},sS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=rS[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const aS=(r,e)=>e.some(n=>r instanceof n);let B_,q_;function oS(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Hd=new WeakMap,A0=new WeakMap,Dd=new WeakMap,vm=new WeakMap;function uS(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(jr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,r)}).catch(()=>{}),vm.set(e,r),e}function cS(r){if(Hd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Hd.set(r,e)}let Gd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Hd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hS(r){Gd=r(Gd)}function fS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Od(this),e,...n);return A0.set(s,e.sort?e.sort():[e]),jr(s)}:lS().includes(r)?function(...e){return r.apply(Od(this),e),jr(S0.get(this))}:function(...e){return jr(r.apply(Od(this),e))}}function dS(r){return typeof r=="function"?fS(r):(r instanceof IDBTransaction&&cS(r),aS(r,oS())?new Proxy(r,Gd):r)}function jr(r){if(r instanceof IDBRequest)return uS(r);if(Dd.has(r))return Dd.get(r);const e=dS(r);return e!==r&&(Dd.set(r,e),vm.set(e,r)),e}const Od=r=>vm.get(r);function mS(r,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,e),g=jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(jr(f.result),p.oldVersion,p.newVersion,jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Md=new Map;function H_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=pS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Md.set(e,c),c}hS(r=>({...r,get:(e,n,s)=>H_(e,n)||r.get(e,n,s),has:(e,n)=>!!H_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_S(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _S(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",G_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new _m("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",bS="@firebase/app-check-compat",wS="@firebase/app-check",SS="@firebase/auth",AS="@firebase/auth-compat",xS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",NS="@firebase/functions",CS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",PS="@firebase/performance-compat",LS="@firebase/remote-config",US="@firebase/remote-config-compat",jS="@firebase/storage",zS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",GS="firebase",FS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",YS={[Fd]:"fire-core",[vS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[wS]:"fire-app-check",[bS]:"fire-app-check-compat",[SS]:"fire-auth",[AS]:"fire-auth-compat",[xS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[NS]:"fire-fn",[CS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[PS]:"fire-perf-compat",[LS]:"fire-rc",[US]:"fire-rc-compat",[jS]:"fire-gcs",[zS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,QS=new Map,Qd=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Bs(r){const e=r.name;if(Qd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,r);for(const n of Lc.values())F_(n,r);for(const n of QS.values())F_(n,r);return!0}function ih(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Gl("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=FS;function x0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Yd,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw zr.create("bad-app-name",{appName:String(l)});if(n||(n=b0()),!n)throw zr.create("no-options");const c=Lc.get(l);if(c){if(zs(n,c.options)&&zs(s,c.config))return c;throw zr.create("duplicate-app",{appName:l})}const f=new tS(l);for(const p of Qd.values())f.addComponent(p);const g=new XS(n,s,f);return Lc.set(l,g),g}function Em(r=Yd){const e=Lc.get(r);if(!e&&r===Yd&&b0())return x0();if(!e)throw zr.create("no-app",{appName:r});return e}function ui(r,e,n){let s=YS[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(f.join(" "));return}Bs(new Gr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebase-heartbeat-database",WS=1,Cl="firebase-heartbeat-store";let Vd=null;function R0(){return Vd||(Vd=mS($S,WS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function ZS(r){try{const n=(await R0()).transaction(Cl),s=await n.objectStore(Cl).get(I0(r));return await n.done,s}catch(e){if(e instanceof Yi)qi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e?.message});qi.warn(n.message)}}}async function Y_(r,e){try{const s=(await R0()).transaction(Cl,"readwrite");await s.objectStore(Cl).put(e,I0(r)),await s.done}catch(n){if(n instanceof Yi)qi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n?.message});qi.warn(s.message)}}}function I0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,eA=30;class tA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>eA){const l=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q_(),{heartbeatsToSend:n,unsentEntries:s}=nA(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return qi.warn(e),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function nA(r,e=JS){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),K_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),K_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function K_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function rA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r){Bs(new Gr("platform-logger",e=>new yS(e),"PRIVATE")),Bs(new Gr("heartbeat",e=>new tA(e),"PRIVATE")),ui(Fd,G_,r),ui(Fd,G_,"esm2020"),ui("fire-js","")}sA("");var aA="firebase",oA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(aA,oA,"app");function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lA=N0,C0=new Gl("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new _m("@firebase/auth");function uA(r,...e){Uc.logLevel<=Pe.WARN&&Uc.warn(`Auth (${no}): ${r}`,...e)}function xc(r,...e){Uc.logLevel<=Pe.ERROR&&Uc.error(`Auth (${no}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r,...e){throw bm(r,...e)}function Yn(r,...e){return bm(r,...e)}function Tm(r,e,n){const s={...lA(),[e]:n};return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function zi(r){return Tm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cA(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&On(r,"argument-error"),Tm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return C0.create(r,...e)}function Ee(r,e,...n){if(!r)throw bm(e,...n)}function Ui(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xc(e),new Error(e)}function Hi(r,e){r||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){return typeof self<"u"&&self.location?.href||""}function hA(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hA()||jw()||"connection"in navigator)?navigator.onLine:!0}function dA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=Pw()||zw()}get(){return fA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,e){Hi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pA=new Yl(3e4,6e4);function Qi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ki(r,e,n,s,l={}){return O0(r,l,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const g=Fl({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...c};return Uw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ys(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(await M0(r,r.config.apiHost,n,g),y)})}async function O0(r,e,n){r._canInitEmulator=!1;const s={...mA,...e};try{const l=new _A(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ec(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ec(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Tm(r,b,y);On(r,b)}}catch(l){if(l instanceof Yi)throw l;On(r,"network-request-failed",{message:String(l)})}}async function Ql(r,e,n,s,l={}){const c=await Ki(r,e,n,s,l);return"mfaPendingCredential"in c&&On(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function M0(r,e,n,s){const l=`${e}${n}?${s}`,c=r,f=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return gA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function yA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),pA.get())})}}function Ec(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Yn(r,e,s);return l.customData._tokenResponse=n,l}function $_(r){return r!==void 0&&r.enterprise!==void 0}class vA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EA(r,e){return Ki(r,"GET","/v2/recaptchaConfig",Qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(r,e){return Ki(r,"POST","/v1/accounts:delete",e)}async function jc(r,e){return Ki(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bA(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),l=Sm(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:Al(kd(l.auth_time)),issuedAtTime:Al(kd(l.iat)),expirationTime:Al(kd(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(r){return Number(r)*1e3}function Sm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=v0(n);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(r){const e=Sm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yi&&wA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){const e=r.auth,n=await r.getIdToken(),s=await Dl(r,jc(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?V0(l.providerUserInfo):[],f=xA(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!f?.length,y=g?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function AA(r){const e=Bt(r);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xA(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function V0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(r,e){const n=await O0(r,{},async()=>{const s=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await M0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Ys(r.emulatorConfig.host)&&(p.credentials="include"),D0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IA(r,e){return Ki(r,"POST","/v2/accounts:revokeToken",Qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await RA(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Ya;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new SA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bA(this,e)}reload(){return AA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Dl(this,TA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:z,providerData:W,stsTokenManager:J}=n;Ee(S&&J,e,"internal-error");const Z=Ya.fromJSON(this.name,J);Ee(typeof S=="string",e,"internal-error"),Vr(s,e.name),Vr(l,e.name),Ee(typeof D=="boolean",e,"internal-error"),Ee(typeof z=="boolean",e,"internal-error"),Vr(c,e.name),Vr(f,e.name),Vr(g,e.name),Vr(p,e.name),Vr(y,e.name),Vr(b,e.name);const le=new Gn({uid:S,auth:e,email:l,emailVerified:D,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(le.providerData=W.map(he=>({...he}))),p&&(le._redirectEventId=p),le}static async _fromIdTokenResponse(e,n,s=!1){const l=new Ya;l.updateFromServerResponse(n);const c=new Gn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await zc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?V0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(s);const p=new Gn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function ji(r){Hi(r instanceof Function,"Expected a class definition");let e=Z_.get(r);return e?(Hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Z_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k0.type="NONE";const J_=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r,e,n){return`firebase:${r}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jc(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(ji(J_),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ji(J_);const f=Rc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(f);if(b){let S;if(typeof b=="string"){const D=await jc(e,{idToken:b}).catch(()=>{});if(!D)break;S=await Gn._fromGetAccountInfoResponse(e,D,b)}else S=Gn._fromJSON(e,b);y!==c&&(g=S),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Qa(c,e,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Qa(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B0(e))return"Blackberry";if(q0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||U0(e))&&!e.includes("edge/"))return"Chrome";if(z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function P0(r=$t()){return/firefox\//i.test(r)}function L0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U0(r=$t()){return/crios\//i.test(r)}function j0(r=$t()){return/iemobile/i.test(r)}function z0(r=$t()){return/android/i.test(r)}function B0(r=$t()){return/blackberry/i.test(r)}function q0(r=$t()){return/webos/i.test(r)}function Am(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NA(r=$t()){return Am(r)&&!!window.navigator?.standalone}function CA(){return Bw()&&document.documentMode===10}function H0(r=$t()){return Am(r)||z0(r)||q0(r)||B0(r)||/windows phone/i.test(r)||j0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,e=[]){let n;switch(r){case"Browser":n=ev($t());break;case"Worker":n=`${ev($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,e={}){return Ki(r,"GET","/v2/passwordPolicy",Qi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=6;class VA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new DA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jc(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(zi(this));const n=e?Bt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OA(this),n=new VA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xi(r){return Bt(r)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PA(r){rh=r}function F0(r){return rh.loadJS(r)}function LA(){return rh.recaptchaEnterpriseScript}function UA(){return rh.gapiScript}function jA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zA{constructor(){this.enterprise=new BA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qA="recaptcha-enterprise",Y0="NO_RECAPTCHA";class HA{constructor(e){this.type=qA,this.auth=Xi(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{EA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new vA(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;$_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(Y0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zA().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&$_(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LA();p.length!==0&&(p+=g),F0(p).then(()=>{l(g,c,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function nv(r,e,n,s=!1,l=!1){const c=new HA(r);let f;if(l)f=Y0;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Bc(r,e,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await nv(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r,e){const n=ih(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(zs(c,e??{}))return l;On(l,"already-initialized")}return n.initialize({options:e})}function FA(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function YA(r,e,n){const s=Xi(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Q0(e),{host:f,port:g}=QA(e),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(zs(y,s.config.emulator)&&zs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Ys(f)?(pm(`${c}//${f}${p}`),ym("Auth",!0)):KA()}function Q0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QA(r){const e=Q0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:iv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:iv(f)}}}function iv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function XA(r,e){return Ki(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(r,e){return Ql(r,"POST","/v1/accounts:signInWithPassword",Qi(r,e))}async function WA(r,e){return Ki(r,"POST","/v1/accounts:sendOobCode",Qi(r,e))}async function ZA(r,e){return WA(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(r,e){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",Qi(r,e))}async function e1(r,e){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",Qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends xm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ol(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bc(e,n,"signInWithPassword",$A);case"emailLink":return JA(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bc(e,s,"signUpPassword",XA);case"emailLink":return e1(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e){return Ql(r,"POST","/v1/accounts:signInWithIdp",Qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="http://localhost";class qs extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const f=new qs(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ka(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:t1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i1(r){const e=_l(vl(r)).link,n=e?_l(vl(e)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||n||e||r}class Rm{constructor(e){const n=_l(vl(e)),s=n.apiKey??null,l=n.oobCode??null,c=n1(n.mode??null);Ee(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=i1(e);try{return new Rm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rm.parseLink(n);return Ee(s,"argument-error"),Ol._fromEmailAndCode(e,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Kl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Kl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Kl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,e){return Ql(r,"POST","/v1/accounts:signUp",Qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await Gn._fromIdTokenResponse(e,s,l),f=rv(s);return new Hs({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=rv(s);return new Hs({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Yi{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new qc(e,n,s,l)}}function K0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,c,e,s):c})}async function s1(r,e,n=!1){const s=await Dl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Hs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(r,e,n=!1){const{auth:s}=r;if(un(s.app))return Promise.reject(zi(s));const l="reauthenticate";try{const c=await Dl(r,K0(s,l,e,r),n);Ee(c.idToken,s,"internal-error");const f=Sm(c.idToken);Ee(f,s,"internal-error");const{sub:g}=f;return Ee(r.uid===g,s,"user-mismatch"),Hs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&On(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(r,e,n=!1){if(un(r.app))return Promise.reject(zi(r));const s="signIn",l=await K0(r,s,e),c=await Hs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function o1(r,e){return X0(Xi(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r){const e=Xi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l1(r,e,n){const s=Xi(r);await Bc(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZA)}async function u1(r,e,n){if(un(r.app))return Promise.reject(zi(r));const s=Xi(r),f=await Bc(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$0(r),p}),g=await Hs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function c1(r,e,n){return un(r.app)?Promise.reject(zi(r)):o1(Bt(r),io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$0(r),s})}function h1(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function f1(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function d1(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1e3,g1=10;class Z0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);CA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,g1):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},m1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const p1=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J0.type="SESSION";const eE=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await y1(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=Nm("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function v1(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function E1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T1(){return navigator?.serviceWorker?.controller||null}function b1(){return tE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebaseLocalStorageDb",w1=1,Gc="firebaseLocalStorage",iE="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(r,e){return r.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function S1(){const r=indexedDB.deleteDatabase(nE);return new Xl(r).toPromise()}function $d(){const r=indexedDB.open(nE,w1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:iE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?e(s):(s.close(),await S1(),e(await $d()))})})}async function sv(r,e,n){const s=ah(r,!0).put({[iE]:e,value:n});return new Xl(s).toPromise()}async function A1(r,e){const n=ah(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function av(r,e){const n=ah(r,!0).delete(e);return new Xl(n).toPromise()}const x1=800,R1=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>R1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(b1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await E1(),!this.activeServiceWorker)return;this.sender=new _1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await sv(e,Hc,"1"),await av(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>av(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new Xl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const I1=rE;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,e){return e?ji(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N1(r){return X0(r.auth,new Cm(r),r.bypassAuthState)}function C1(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),a1(n,new Cm(r),r.bypassAuthState)}async function D1(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),s1(n,new Cm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N1;case"linkViaPopup":case"linkViaRedirect":return D1;case"reauthViaPopup":case"reauthViaRedirect":return C1;default:On(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Yl(2e3,1e4);async function M1(r,e,n){if(un(r.app))return Promise.reject(Yn(r,"operation-not-supported-in-this-environment"));const s=Xi(r);cA(r,e,Im);const l=sE(s,n);return new ks(s,"signInViaPopup",e,l).executeNotNull()}class ks extends aE{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O1.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="pendingRedirect",Ic=new Map;class k1 extends aE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const s=await P1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P1(r,e){const n=j1(e),s=U1(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function L1(r,e){Ic.set(r._key(),e)}function U1(r){return ji(r._redirectPersistence)}function j1(r){return Rc(V1,r.config.apiKey,r.name)}async function z1(r,e,n=!1){if(un(r.app))return Promise.reject(zi(r));const s=Xi(r),l=sE(s,e),f=await new k1(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=600*1e3;class q1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B1&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(e))}saveEventToCache(e){this.cachedEventUids.add(ov(e)),this.lastProcessedEventTime=Date.now()}}function ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function H1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(r,e={}){return Ki(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y1=/^https?/;async function Q1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await G1(r);for(const n of e)try{if(K1(n))return}catch{}On(r,"unauthorized-domain")}function K1(r){const e=Kd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Y1.test(n))return!1;if(F1.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Yl(3e4,6e4);function lv(){const r=ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function $1(r){return new Promise((e,n)=>{function s(){lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lv(),n(Yn(r,"network-request-failed"))},timeout:X1.get()})}if(ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ci().gapi?.load)s();else{const l=jA("iframefcb");return ci()[l]=()=>{gapi.load?s():n(Yn(r,"network-request-failed"))},F0(`${UA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function W1(r){return Nc=Nc||$1(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Yl(5e3,15e3),J1="__/auth/iframe",ex="emulator/auth/iframe",tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ix(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?wm(e,ex):`https://${r.config.authDomain}/${J1}`,s={apiKey:e.apiKey,appName:r.name,v:no},l=nx.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Fl(s).slice(1)}`}async function rx(r){const e=await W1(r),n=ci().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ix(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tx,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Yn(r,"network-request-failed"),g=ci().setTimeout(()=>{c(f)},Z1.get());function p(){ci().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ax=500,ox=600,lx="_blank",ux="http://localhost";class uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(r,e,n,s=ax,l=ox){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...sx,width:s.toString(),height:l.toString(),top:c,left:f},y=$t().toLowerCase();n&&(g=U0(y)?lx:n),P0(y)&&(e=e||ux,p.scrollbars="yes");const b=Object.entries(p).reduce((D,[z,W])=>`${D}${z}=${W},`,"");if(NA(y)&&g!=="_self")return hx(e||"",g),new uv(null);const S=window.open(e||"",g,b);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new uv(S)}function hx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="__/auth/handler",dx="emulator/auth/handler",mx=encodeURIComponent("fac");async function cv(r,e,n,s,l,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:l};if(e instanceof Im){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Kw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof Kl){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await r._getAppCheckToken(),y=p?`#${mx}=${encodeURIComponent(p)}`:"";return`${gx(r)}?${Fl(g).slice(1)}${y}`}function gx({config:r}){return r.emulator?wm(r,dx):`https://${r.authDomain}/${fx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=z1,this._overrideRedirectResult=L1}async _openPopup(e,n,s,l){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cv(e,n,s,Kd(),l);return cx(e,c,Nm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await cv(e,n,s,Kd(),l);return v1(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Hi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rx(e),s=new q1(e);return n.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&n(!!c),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H0()||L0()||Am()}}const yx=px;var hv="@firebase/auth",fv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ex(r){Bs(new Gr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},y=new kA(s,l,c,p);return FA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bs(new Gr("auth-internal",e=>{const n=Xi(e.getProvider("auth").getImmediate());return(s=>new _x(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(hv,fv,vx(r)),ui(hv,fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=300,bx=w0("authIdTokenMaxAge")||Tx;let dv=null;const wx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bx)return;const l=n?.token;dv!==l&&(dv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Sx(r=Em()){const e=ih(r,"auth");if(e.isInitialized())return e.getImmediate();const n=GA(r,{popupRedirectResolver:yx,persistence:[I1,p1,eE]}),s=w0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=wx(c.toString());f1(n,f,()=>f(n.currentUser)),h1(n,g=>f(g))}}const l=E0("auth");return l&&YA(n,`http://${l}`),n}function Ax(){return document.getElementsByTagName("head")?.[0]??document}PA({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Yn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ex("Browser");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,lE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,P){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return A.prototype[O].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],O=N.g[2];let P=N.g[3],R;R=A+(P^I&(O^P))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(O^A&(I^O))+V[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=O+(I^P&(A^I))+V[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(A^O&(P^A))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(P^I&(O^P))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(O^A&(I^O))+V[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=O+(I^P&(A^I))+V[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(A^O&(P^A))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(P^I&(O^P))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(O^A&(I^O))+V[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=O+(I^P&(A^I))+V[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(A^O&(P^A))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(P^I&(O^P))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=P+(O^A&(I^O))+V[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=O+(I^P&(A^I))+V[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(A^O&(P^A))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^P&(I^O))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(A^I))+V[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(P^A))+V[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(O^P))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^P&(I^O))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(A^I))+V[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(P^A))+V[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(O^P))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^P&(I^O))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(A^I))+V[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(P^A))+V[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(O^P))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^P&(I^O))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(A^I))+V[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(P^A))+V[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^A&(O^P))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^P)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^O)+V[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=O+(P^A^I)+V[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^A)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^P)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^O)+V[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=O+(P^A^I)+V[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^A)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^P)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^O)+V[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=O+(P^A^I)+V[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^A)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^P)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=P+(A^I^O)+V[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=O+(P^A^I)+V[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^A)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~P))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~O))+V[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=O+(A^(P|~I))+V[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~A))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~P))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~O))+V[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=O+(A^(P|~I))+V[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~A))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~P))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~O))+V[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=O+(A^(P|~I))+V[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~A))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~P))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=P+(I^(A|~O))+V[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=O+(A^(P|~I))+V[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<A;){if(O==0)for(;P<=I;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<A;)if(V[O++]=N.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<A;)if(V[O++]=N[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[A++]=this.g[I]>>>V&255;return N};function c(N,A){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function f(N,A){this.h=A;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const P=N[O]|0;V&&P==A||(I[O]=P,V=!1)}this.g=I}var g={};function p(N){return-128<=N&&N<128?c(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(y(-N));const A=[];let I=1;for(let V=0;N>=I;V++)A[V]=N/I|0,I*=4294967296;return new f(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Z(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P);const R=parseInt(N.substring(P,P+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=p(0),D=p(1),z=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-Z(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(J(this))return"-"+Z(this).toString(N);const A=y(Math.pow(N,6));var I=this;let V="";for(;;){const O=Ce(I,A).g;I=le(I,O.j(A));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,W(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=le(this,N),J(N)?-1:W(N)?0:1};function Z(N){const A=N.g.length,I=[];for(let V=0;V<A;V++)I[V]=~N.g[V];return new f(I,~N.h).add(D)}r.abs=function(){return J(this)?Z(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let P=V+(this.i(O)&65535)+(N.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,P&=65535,R&=65535,I[O]=R<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function le(N,A){return N.add(Z(A))}r.j=function(N){if(W(this)||W(N))return S;if(J(this))return J(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(J(N))return Z(this.j(Z(N)));if(this.l(z)<0&&N.l(z)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const P=this.i(V)>>>16,R=this.i(V)&65535,ne=N.i(O)>>>16,Ve=N.i(O)&65535;I[2*V+2*O]+=R*Ve,he(I,2*V+2*O),I[2*V+2*O+1]+=P*Ve,he(I,2*V+2*O+1),I[2*V+2*O+1]+=R*ne,he(I,2*V+2*O+1),I[2*V+2*O+2]+=P*ne,he(I,2*V+2*O+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new f(I,0)};function he(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ce(N,A){this.g=N,this.h=A}function Ce(N,A){if(W(A))throw Error("division by zero");if(W(N))return new ce(S,S);if(J(N))return A=Ce(Z(N),A),new ce(Z(A.g),Z(A.h));if(J(A))return A=Ce(N,Z(A)),new ce(Z(A.g),A.h);if(N.g.length>30){if(J(N)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var I=D,V=A;V.l(N)<=0;)I=re(I),V=re(V);var O=ve(I,1),P=ve(V,1);for(V=ve(V,2),I=ve(I,2);!W(V);){var R=P.add(V);R.l(N)<=0&&(O=O.add(I),P=R),V=ve(V,1),I=ve(I,1)}return A=le(N,O.j(A)),new ce(O,A)}for(O=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(I),R=P.j(A);J(R)||R.l(N)>0;)I-=V,P=y(I),R=P.j(A);W(P)&&(P=D),O=O.add(P),N=le(N,R)}return new ce(O,N)}r.B=function(N){return Ce(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&N.i(V);return new f(I,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|N.i(V);return new f(I,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^N.i(V);return new f(I,this.h^N.h)};function re(N){const A=N.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(I,N.h)}function ve(N,A){const I=A>>5;A%=32;const V=N.g.length-I,O=[];for(let P=0;P<V;P++)O[P]=A>0?N.i(P+I)>>>A|N.i(P+I+1)<<32-A:N.i(P+I);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Br=f}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,El,cE,Cc,Wd,hE,fE,dE;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)e:{var _=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var U=u[w];if(!(U in _))break e;_=_[U]}u=u[u.length-1],w=_[u],m=m(w),m!=w&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&_.push([w,m[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=p,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(w,U,H){for(var ee=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ee[Ae-2]=arguments[Ae];return m.prototype[U].apply(w,ee)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const _=Array(m);for(let w=0;w<m;w++)_[w]=u[w];return _}return[]}function W(u,m){for(let w=1;w<arguments.length;w++){const U=arguments[w];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const H=U.length||0;u.length=_+H;for(let ee=0;ee<H;ee++)u[_+ee]=U[ee]}else u.push(U)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){f.setTimeout(()=>{throw u},0)}function le(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,_){const w=ce.get();w.set(m,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ce=new J(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ve=!1,N=new he,A=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(I)}};function I(){for(var u;u=le();){try{u.h.call(u.g)}catch(_){Z(_)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ne,O),ne.prototype.init=function(u,m){const _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,_,w,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!w,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Re(u,m,_){for(const w in u)m.call(_,u[w],w,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function $(u){const m={};for(const _ in u)m[_]=u[_];return m}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let _,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(_ in w)u[_]=w[_];for(let H=0;H<se.length;H++)_=se[H],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,m,_,w,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ee=be(u,m,w,U);return ee>-1?(m=u[ee],_||(m.fa=!1)):(m=new te(m,this.src,H,!!w,U),m.fa=_,u.push(m)),m};function ke(u,m){const _=m.type;if(_ in u.g){var w=u.g[_],U=Array.prototype.indexOf.call(w,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(w,U,1),H&&(fe(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function be(u,m,_,w){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==w)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Qe={};function Mn(u,m,_,w,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Mn(u,m[H],_,w,U);return null}return _=tu(_),u&&u[Ve]?u.J(m,_,g(w)?!!w.capture:!1,U):uo(u,m,_,!1,w,U)}function uo(u,m,_,w,U,H){if(!m)throw Error("Invalid event type");const ee=g(U)?!!U.capture:!!U;let Ae=co(u);if(Ae||(u[Vt]=Ae=new me(u)),_=Ae.add(m,_,w,ee,H),_.proxy)return _;if(w=Ws(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)P||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),w,U);else if(u.attachEvent)u.attachEvent(Js(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ws(){function u(_){return m.call(u.src,u.listener,_)}const m=Sh;return u}function Zs(u,m,_,w,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Zs(u,m[H],_,w,U);else w=g(w)?!!w.capture:!!w,_=tu(_),u&&u[Ve]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=be(m,_,w,U),_>-1&&(fe(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=co(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,_,w,U)),(_=u>-1?m[u]:null)&&Wr(_))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])ke(m.i,u);else{var _=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(_,w,u.capture):m.detachEvent?m.detachEvent(Js(_),w):m.addListener&&m.removeListener&&m.removeListener(w),(_=co(m))?(ke(_,u),_.h==0&&(_.src=null,m[Vt]=null)):fe(u)}}}function Js(u){return u in Qe?Qe[u]:Qe[u]="on"+u}function Sh(u,m){if(u.da)u=!0;else{m=new ne(m,this);const _=u.listener,w=u.ha||u.src;u.fa&&Wr(u),u=_.call(w,m)}return u}function co(u){return u=u[Vt],u instanceof me?u:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function tu(u){return typeof u=="function"?u:(u[rn]||(u[rn]=function(m){return u.handleEvent(m)}),u[rn])}function bt(){V.call(this),this.i=new me(this),this.M=this,this.G=null}S(bt,V),bt.prototype[Ve]=!0,bt.prototype.removeEventListener=function(u,m,_,w){Zs(this,u,m,_,w)};function It(u,m){var _,w=u.G;if(w)for(_=[];w;w=w.G)_.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(w,u),ie(m,U)}U=!0;let H,ee;if(_)for(ee=_.length-1;ee>=0;ee--)H=m.g=_[ee],U=pi(H,w,!0,m)&&U;if(H=m.g=u,U=pi(H,w,!0,m)&&U,U=pi(H,w,!1,m)&&U,_)for(ee=0;ee<_.length;ee++)H=m.g=_[ee],U=pi(H,w,!1,m)&&U}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let w=0;w<_.length;w++)fe(_[w]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,_,w){return this.i.add(String(u),m,!1,_,w)},bt.prototype.K=function(u,m,_,w){return this.i.add(String(u),m,!0,_,w)};function pi(u,m,_,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ee=m[H];if(ee&&!ee.da&&ee.capture==_){const Ae=ee.listener,it=ee.ha||ee.src;ee.fa&&ke(u.i,ee),U=Ae.call(it,w)!==!1&&U}}return U&&!w.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function ho(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,ho(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class xh extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){V.call(this),this.h=u,this.g={}}S(Zr,V);var Wi=[];function Ht(u){Re(u.g,function(m,_){this.g.hasOwnProperty(_)&&Wr(m)},u),u.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),Ht(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=f.JSON.stringify,Wt=f.JSON.parse,Rh=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){O.call(this,"d")}S(Zi,O);function Vn(){O.call(this,"c")}S(Vn,O);var vn={},Ji=null;function ea(){return Ji=Ji||new bt}vn.Ia="serverreachability";function fo(u){O.call(this,vn.Ia,u)}S(fo,O);function er(u){const m=ea();It(m,new fo(m))}vn.STAT_EVENT="statevent";function ta(u,m){O.call(this,vn.STAT_EVENT,u),this.stat=m}S(ta,O);function ct(u){const m=ea();It(m,new ta(m,u))}vn.Ja="timingevent";function ru(u,m){O.call(this,vn.Ja,u),this.size=m}S(ru,O);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function mo(u,m,_,w,U,H){u.info(function(){if(u.g)if(H){var ee="",Ae=H.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var it=Ae[Ge].split("=");if(it.length>1){const dt=it[0];it=it[1];const cn=dt.split("_");ee=cn.length>=2&&cn[1]=="type"?ee+(dt+"="+it+"&"):ee+(dt+"=redacted&")}}}else ee=null;else ee=H;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+m+`
`+_+`
`+ee})}function go(u,m,_,w,U,H,ee){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ee})}function yi(u,m,_,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xn(u,_)+(w?" "+w:"")})}function Ih(u,m){u.info(function(){return"TIMEOUT: "+m})}nr.prototype.info=function(){};function Xn(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<w.length;ee++)w[ee]=""}}}}return _n(H)}catch{return m}}var ht={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_i;function Jr(){}S(Jr,nu),Jr.prototype.g=function(){return new XMLHttpRequest},_i=new Jr;function es(u){return encodeURIComponent(String(u))}function Nh(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function kn(u,m,_,w){this.j=u,this.i=m,this.l=_,this.S=w||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var na={},$n={};function Wn(u,m,_){u.M=1,u.A=Ei(st(m)),u.u=_,u.R=!0,rr(u,null)}function rr(u,m){u.F=Date.now(),ts(u),u.B=st(u.A);var _=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),lu(_.i,"t",w),u.C=0,_=u.j.L,u.h=new ir,u.g=fa(u.j,_?m:null,!u.u),u.P>0&&(u.O=new xh(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,w=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Wi[0]=U.toString()),U=Wi);for(let H=0;H<U.length;H++){const ee=Mn(_,U[H],w||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?$(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),er(),mo(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gt(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=Gt(this.g),it=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||fs(this.g)))){this.K||Ae!=4||it==7||(it==8||Ge<=0?er(3):er(2)),Jn(this);var m=this.g.ca();this.X=m;var _=sr(this);if(this.o=m==200,go(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var H=w;break t}}H=null}if(u=H)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ia(this,u);else{this.o=!1,this.m=3,ct(12),ei(this),ns(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<_.length;)if(dt=su(this,_),dt==$n){Ae==4&&(this.m=4,ct(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==na){this.m=4,ct(15),yi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,dt,null),ia(this,dt);if(ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,ct(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,_,"[Invalid Chunked Response]"),ei(this),ns(this);else if(_.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ao(ee),ee.P=!0,ct(11))}}else yi(this.i,this.l,_,null),ia(this,_);Ae==4&&ei(this),this.o&&!this.K&&(Ae==4?xo(this.j,this):(this.o=!1,ts(this)))}else ds(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),ei(this),ns(this)}}}catch{}finally{}};function sr(u){if(!ft(u))return u.g.la();const m=fs(u.g);if(m==="")return"";let _="";const w=m.length,U=Gt(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ei(u),ns(u),"";u.h.i=new f.TextDecoder}for(let H=0;H<w;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(U&&H==w-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ft(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var _=u.C,w=m.indexOf(`
`,_);return w==-1?$n:(_=Number(m.substring(_,w)),isNaN(_)?na:(w+=1,w+_>m.length?$n:(m=m.slice(w,w+_),u.C=w+_,m)))}kn.prototype.cancel=function(){this.K=!0,ei(this)};function ts(u){u.T=Date.now()+u.H,Zn(u,u.H)}function Zn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=tr(y(u.aa,u),m)}function Jn(u){u.D&&(f.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ih(this.i,this.B),this.M!=2&&(er(),ct(17)),ei(this),this.m=2,ns(this)):Zn(this,this.T-u)};function ns(u){u.j.I==0||u.K||xo(u.j,u)}function ei(u){Jn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ht(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ia(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ss(_.h,u))){if(!u.L&&ss(_.h,u)&&_.I==3){try{var w=_.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ha(_),ti(_);else break e;So(_),ct(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=tr(y(_.Va,_),6e3));En(_.h)<=1&&_.ta&&(_.ta=void 0)}else wi(_,11)}else if((u.L||_.g==u)&&ha(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Ge=U[m];const dt=Ge[0];if(!(dt<=_.K))if(_.K=dt,Ge=Ge[1],_.I==2)if(Ge[0]=="c"){_.M=Ge[1],_.ba=Ge[2];const cn=Ge[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const ni=Ge[4];ni!=null&&(_.za=ni,_.j.info("SVER="+_.za));const Un=Ge[5];Un!=null&&typeof Un=="number"&&Un>0&&(w=1.5*Un,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const jn=u.g;if(jn){const zn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zn){var H=w.h;H.g||zn.indexOf("spdy")==-1&&zn.indexOf("quic")==-1&&zn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ra(H,H.h),H.h=null))}if(w.G){const Io=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(w.wa=Io,Ke(w.J,w.G,Io))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var ee=u;if(w.na=yu(w,w.L?w.ba:null,w.W),ee.L){vi(w.h,ee);var Ae=ee,it=w.O;it&&(Ae.H=it),Ae.D&&(Jn(Ae),ts(Ae)),w.g=ee}else du(w);_.i.length>0&&ys(_)}else Ge[0]!="stop"&&Ge[0]!="close"||wi(_,7);else _.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?wi(_,7):gs(_):Ge[0]!="noop"&&_.l&&_.l.qa(Ge),_.A=0)}}er(4)}catch{}}var Ch=class{constructor(u,m){this.g=u,this.map=m}};function is(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function En(u){return u.h?1:u.g?u.g.size:0}function ss(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ra(u,m){u.g?u.g.add(m):u.h=m}function vi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}is.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return z(u.i)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const w=u[_].indexOf("=");let U,H=null;w>=0?(U=u[_].substring(0,w),H=u[_].substring(w+1)):U=u[_],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,ar(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,or(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(aa))?(this.l=!1,ar(this,m[1]||"",!0),this.o=os(m[2]||""),this.g=os(m[3]||"",!0),as(this,m[4]),this.h=os(m[5]||"",!0),or(this,m[6]||"",!0),this.m=os(m[7]||"")):(this.l=!1,this.i=new Tn(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nt(m,yo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nt(m,yo,!0),"@"),u.push(es(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Nt(_,_.charAt(0)=="/"?lr:_o,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Nt(_,ou)),u.join("")},Pn.prototype.resolve=function(u){const m=st(this);let _=!!u.j;_?ar(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var w=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=m.h.lastIndexOf("/");U!=-1&&(w=m.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ee=0;ee<U.length;){const Ae=U[ee++];Ae=="."?w&&ee==U.length&&H.push(""):Ae==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&ee==U.length&&H.push("")):(H.push(Ae),w=!0)}w=H.join("/")}else w=U}return _?m.h=w:_=u.i.toString()!=="",_?or(m,uu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function st(u){return new Pn(u)}function ar(u,m,_){u.j=_?os(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function or(u,m,_){m instanceof Tn?(u.i=m,To(u.i,u.l)):(_||(m=Nt(m,au)),u.i=new Tn(m,u.l))}function Ke(u,m,_){u.i.set(m,_)}function Ei(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function os(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nt(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,po),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,lr=/[#\?]/g,au=/[#\?@]/g,ou=/#/g;function Tn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ti(u){u.g||(u.g=new Map,u.h=0,u.i&&Dh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Tn.prototype,r.add=function(u,m){Ti(this),this.i=null,u=Ln(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function vo(u,m){Ti(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return Ti(u),m=Ln(u,m),u.g.has(m)}r.forEach=function(u,m){Ti(this),this.g.forEach(function(_,w){_.forEach(function(U){u.call(m,U,w,this)},this)},this)};function oa(u,m){Ti(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(Ln(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return Ti(this),this.i=null,u=Ln(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=oa(this,u),u.length>0?String(u[0]):m):m};function lu(u,m,_){vo(u,m),_.length>0&&(u.i=null,u.g.set(Ln(u,m),z(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var _=m[w];const U=es(_);_=oa(this,_);for(let H=0;H<_.length;H++){let ee=U;_[H]!==""&&(ee+="="+es(_[H])),u.push(ee)}}return this.i=u.join("&")};function uu(u){const m=new Tn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function To(u,m){m&&!u.j&&(Ti(u),u.i=null,u.g.forEach(function(_,w){const U=w.toLowerCase();w!=U&&(vo(this,w),lu(this,U,_))},u)),u.j=m}function bo(u,m){const _=new nr;if(f.Image){const w=new Image;w.onload=b(Zt,_,"TestLoadImage: loaded",!0,m,w),w.onerror=b(Zt,_,"TestLoadImage: error",!1,m,w),w.onabort=b(Zt,_,"TestLoadImage: abort",!1,m,w),w.ontimeout=b(Zt,_,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function ur(u,m){const _=new nr,w=new AbortController,U=setTimeout(()=>{w.abort(),Zt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(H=>{clearTimeout(U),H.ok?Zt(_,"TestPingServer: ok",!0,m):Zt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,m)})}function Zt(u,m,_,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(_)}catch{}}function cu(){this.g=new Rh}function ls(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ls,nu),ls.prototype.g=function(){return new us(this.i,this.h)};function us(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(us,bt),r=us.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,bi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jt(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function cr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jt(this):bi(this),this.readyState==3&&cr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Jt(this))},r.Na=function(u){this.g&&(this.response=u,Jt(this))},r.ga=function(){this.g&&Jt(this)};function Jt(u){u.readyState=4,u.l=null,u.j=null,u.B=null,bi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hr(u){let m="";return Re(u,function(_,w){m+=w,m+=":",m+=_,m+=`\r
`}),m}function bn(u,m,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=hr(_),typeof u=="string"?_!=null&&es(_):Ke(u,m,_))}function Je(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,bt);var la=/^https?$/i,hu=["POST","PUT"];r=Je.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_i.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){cs(this,H);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)_.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())_.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(hu,m,void 0)>=0)||w||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of _)this.g.setRequestHeader(H,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){cs(this,H)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,hs(u),wt(u)}function hs(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),wt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wt(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wo(this):this.Xa())},r.Xa=function(){wo(this)};function wo(u){if(u.h&&typeof c<"u"){if(u.v&&Gt(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Gt(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var w;if(w=H===0){let ee=String(u.D).match(aa)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),w=!la.test(ee?ee.toLowerCase():"")}_=w}if(_)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Gt(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",hs(u)}}finally{wt(u)}}}}function wt(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||It(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gt(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Wt(m)}};function fs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(u){const m={};u=(u.g&&Gt(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var _=Nh(u[w]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}C(m,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ua(u){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,u),this.Za=ms("retryDelaySeedMs",1e4,u),this.Ta=ms("forwardChannelMaxRetries",2,u),this.va=ms("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new is(u&&u.concurrentRequestLimit),this.Ba=new cu,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ua.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,w){ct(0),this.W=u,this.H=m||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=yu(this,null,this.W),ys(this)};function gs(u){if(ps(u),u.I==3){var m=u.V++,_=st(u.J);if(Ke(_,"SID",u.M),Ke(_,"RID",m),Ke(_,"TYPE","terminate"),_s(u,_),m=new kn(u,u.j,m),m.M=2,m.A=Ei(st(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.A,_=!0),_||(m.g=fa(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ts(m)}pu(u)}function ti(u){u.g&&(Ao(u),u.g.cancel(),u.g=null)}function ps(u){ti(u),u.v&&(f.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function ys(u){if(!rs(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||A(),ve||(re(),ve=!0),N.add(m,u),u.D=0}}function Oh(u,m){return En(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=tr(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new kn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=$(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ca(this,U,m),_=st(this.J),Ke(_,"RID",u),Ke(_,"CVER",22),this.G&&Ke(_,"X-HTTP-Session-Id",this.G),_s(this,_),H&&(this.R?m="headers="+es(hr(H))+"&"+m:this.u&&bn(_,this.u,H)),ra(this.h,U),this.Ra&&Ke(_,"TYPE","init"),this.S?(Ke(_,"$req",m),Ke(_,"SID","null"),U.U=!0,Wn(U,_,null)):Wn(U,_,m),this.I=2}}else this.I==3&&(u?fu(this,u):this.i.length==0||rs(this.h)||fu(this))};function fu(u,m){var _;m?_=m.l:_=u.V++;const w=st(u.J);Ke(w,"SID",u.M),Ke(w,"RID",_),Ke(w,"AID",u.K),_s(u,w),u.u&&u.o&&bn(w,u.u,u.o),_=new kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ca(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ra(u.h,_),Wn(_,w,m)}function _s(u,m){u.H&&Re(u.H,function(_,w){Ke(m,w,_)}),u.l&&Re({},function(_,w){Ke(m,w,_)})}function ca(u,m,_){_=Math.min(u.i.length,_);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ae=-1;for(;;){const it=["count="+_];Ae==-1?_>0?(Ae=U[0].g,it.push("ofs="+Ae)):Ae=0:it.push("ofs="+Ae);let Ge=!0;for(let dt=0;dt<_;dt++){var H=U[dt].g;const cn=U[dt].map;if(H-=Ae,H<0)Ae=Math.max(0,U[dt].g-100),Ge=!1;else try{H="req"+H+"_"||"";try{var ee=cn instanceof Map?cn:Object.entries(cn);for(const[ni,Un]of ee){let jn=Un;g(Un)&&(jn=_n(Un)),it.push(H+ni+"="+encodeURIComponent(jn))}}catch(ni){throw it.push(H+"type="+encodeURIComponent("_badmap")),ni}}catch{w&&w(cn)}}if(Ge){ee=it.join("&");break e}}ee=void 0}return u=u.i.splice(0,_),m.G=u,ee}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||A(),ve||(re(),ve=!0),N.add(m,u),u.A=0}}function So(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=tr(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=tr(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),ti(this),mu(this))};function Ao(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=st(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),_s(u,m),u.u&&u.o&&bn(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ei(st(m)),_.u=null,_.R=!0,rr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ti(this),So(this),ct(19))};function ha(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function xo(u,m){var _=null;if(u.g==m){ha(u),Ao(u),u.g=null;var w=2}else if(ss(u.h,m))_=m.G,vi(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;w=ea(),It(w,new ru(w,_)),ys(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(w==1&&Oh(u,m)||w==2&&So(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function gu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),w=u.Ua;const U=!w;w=new Pn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ar(w,"https"),Ei(w),U?bo(w.toString(),_):ur(w.toString(),_)}else ct(2);u.I=0,u.l&&u.l.pa(m),pu(u),ps(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=sa(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,_){var w=_ instanceof Pn?st(_):new Pn(_);if(w.g!="")m&&(w.g=m+"."+w.g),as(w,w.u);else{var U=f.location;w=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Pn(null);w&&ar(H,w),m&&(H.g=m),U&&as(H,U),_&&(H.h=_),w=H}return _=u.G,m=u.wa,_&&m&&Ke(w,_,m),Ke(w,"VER",u.ka),_s(u,w),w}function fa(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Je(new ls({ab:_})):new Je(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function da(){}da.prototype.g=function(u,m){return new en(u,m)};function en(u,m){bt.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}S(en,bt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){gs(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=_n(u),u=_);m.i.push(new Ch(m.Ya++,u)),m.I==3&&ys(m)},en.prototype.N=function(){this.g.l=null,delete this.j,gs(this.g),delete this.g,en.Z.N.call(this)};function Ro(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ro,Zi);function vu(){Vn.call(this),this.status=1}S(vu,Vn);function fr(u){this.g=u}S(fr,_u),fr.prototype.ra=function(){It(this.g,"a")},fr.prototype.qa=function(u){It(this.g,new Ro(u))},fr.prototype.pa=function(u){It(this.g,new vu)},fr.prototype.oa=function(){It(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,dE=function(){return new da},fE=function(){return ea()},hE=vn,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,Cc=ht,kt.COMPLETE="complete",cE=kt,iu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,El=iu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,uE=Je}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const gv="@firebase/firestore",pv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new _m("@firebase/firestore");function qa(){return Gs.logLevel}function oe(r,...e){if(Gs.logLevel<=Pe.DEBUG){const n=e.map(Dm);Gs.debug(`Firestore (${ro}): ${r}`,...n)}}function Gi(r,...e){if(Gs.logLevel<=Pe.ERROR){const n=e.map(Dm);Gs.error(`Firestore (${ro}): ${r}`,...n)}}function $a(r,...e){if(Gs.logLevel<=Pe.WARN){const n=e.map(Dm);Gs.warn(`Firestore (${ro}): ${r}`,...n)}}function Dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mE(r,s,n)}function mE(r,e,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Gi(s),new Error(s)}function He(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||mE(e,l,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Kt.UNAUTHENTICATED)))}shutdown(){}}class Rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ix{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new gE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class Nx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Nx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Ox(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Zd(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Ld(l)===Ld(c)?Le(l,c):Ld(l)?1:-1}return Le(r.length,e.length)}const Mx=55296,Vx=57343;function Ld(r){const e=r.charCodeAt(0);return e>=Mx&&e<=Vx}function Wa(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=li.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),l=li.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?li.extractNumericId(e).compare(li.extractNumericId(n)):Zd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class tt extends li{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends li{construct(e,n,s){return new zt(e,n,s)}static isValidIdentifier(e){return kx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new zt([_v])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Px(r,e,n,s){if(e===!0&&s===!0)throw new ae(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vv(r){if(!ge.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ev(r){if(ge.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(r);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function $l(r,e){if(!yE(r))throw new ae(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ae(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-62135596800,bv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bv);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Tv)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Tt("string",nt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new nt(0,0))}static max(){return new Se(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function Lx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Fr(l,ge.empty(),e)}function Ux(r){return new Fr(r.readTime,r.key,Ml)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(Se.min(),ge.empty(),Ml)}static max(){return new Fr(Se.max(),ge.empty(),Ml)}}function jx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==zx)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,s)=>{n(e)}))}static reject(e){return new X(((n,s)=>{s(e)}))}static waitFor(e){return new X(((n,s)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(p=>s(p)))})),f=!0,c===l&&n()}))}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next((l=>l?X.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(e,n){return new X(((s,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((b=>{f[y]=b,++g,g===c&&s(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new X(((s,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):s()};c()}))}}function qx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function uh(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function Hx(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="";function Gx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wv(e)),e=Fx(r.get(n),e);return wv(e)}function Fx(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case _E:n+="";break;default:n+=c}}return n}function wv(r){return r+_E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Qs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function vE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??jt.RED,this.left=l??jt.EMPTY,this.right=c??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new jt(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return jt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,l,c){return this}insert(e,n,s){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(e){return new Av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Rt(zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}})(e);return new qt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=Yx.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="server_timestamp",bE="__type__",wE="__previous_value__",SE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[bE]?.stringValue===TE}function ch(r){const e=r.mapValue.fields[wE];return Vm(e)?ch(e):e}function Vl(r){const e=Yr(r.mapValue.fields[SE].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,s,l,c,f,g,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Yc="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||Yc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__type__",Kx="__max__",wc={mapValue:{}},xE="__vector__",Qc="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:$x(r)?9007199254740991:Xx(r)?10:11:Te(28295,{value:r})}function gi(r,e){if(r===e)return!0;const n=Kr(r);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Yr(l.timestampValue),g=Yr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Qr(l.bytesValue).isEqual(Qr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=pt(l.doubleValue),g=pt(c.doubleValue);return f===g?Fc(f)===Fc(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Wa(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Sv(f)!==Sv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!gi(f[p],g[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Pl(r,e){return(r.values||[]).find((n=>gi(n,e)))!==void 0}function Za(r,e){if(r===e)return 0;const n=Kr(r),s=Kr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=pt(c.integerValue||c.doubleValue),p=pt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return xv(r.timestampValue,e.timestampValue);case 4:return xv(Vl(r),Vl(e));case 5:return Zd(r.stringValue,e.stringValue);case 6:return(function(c,f){const g=Qr(c),p=Qr(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const b=Le(g[y],p[y]);if(b!==0)return b}return Le(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Le(pt(c.latitude),pt(f.latitude));return g!==0?g:Le(pt(c.longitude),pt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rv(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},p=f.fields||{},y=g[Qc]?.arrayValue,b=p[Qc]?.arrayValue,S=Le(y?.values?.length||0,b?.values?.length||0);return S!==0?S:Rv(y,b)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===wc.mapValue&&f===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const D=Zd(p[S],b[S]);if(D!==0)return D;const z=Za(g[p[S]],y[b[S]]);if(z!==0)return z}return Le(p.length,b.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=Yr(r),s=Yr(e),l=Le(n.seconds,s.seconds);return l!==0?l:Le(n.nanos,s.nanos)}function Rv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Za(n[l],s[l]);if(c)return c}return Le(n.length,s.length)}function Ja(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Qr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Jd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Jd(n.fields[f])}`;return l+"}"})(r.mapValue):Te(61005,{value:r})}function Dc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(r);return e?16+Dc(e):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Qs(s.fields,((c,f)=>{l+=c.length+Dc(f)})),l})(r.mapValue);default:throw Te(13486,{value:r})}}function Iv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function em(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function Xx(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===xE}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(r.arrayValue.values[n]);return e}return{...r}}function $x(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=zt.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=xl(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Qs(n,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Cn(xl(this.value))}}function RE(r){const e=[];return Qs(r.fields,((n,s)=>{const l=new zt([n]);if(Oc(s)){const c=RE(s.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,l,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Xt(e,0,Se.min(),Se.min(),Se.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,l){return new Xt(e,1,n,Se.min(),s,l,0)}static newNoDocument(e,n){return new Xt(e,2,n,Se.min(),Se.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Se.min(),Se.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function Dv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],f=r.position[l];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Za(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{}class Et extends IE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Jx(e,n,s):n==="array-contains"?new nR(e,s):n==="in"?new iR(e,s):n==="not-in"?new rR(e,s):n==="array-contains-any"?new sR(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eR(e,s):new tR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends IE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return NE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(r){return r.op==="and"}function CE(r){return Zx(r)&&NE(r)}function Zx(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function tm(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(CE(r))return r.filters.map((e=>tm(e))).join(",");{const e=r.filters.map((n=>tm(n))).join(",");return`${r.op}(${e})`}}function DE(r,e){return r instanceof Et?(function(s,l){return l instanceof Et&&s.op===l.op&&s.field.isEqual(l.field)&&gi(s.value,l.value)})(r,e):r instanceof Qn?(function(s,l){return l instanceof Qn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,f,g)=>c&&DE(f,l.filters[g])),!0):!1})(r,e):void Te(19439)}function OE(r){return r instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`})(r):r instanceof Qn?(function(n){return n.op.toString()+" {"+n.getFilters().map(OE).join(" ,")+"}"})(r):"Filter"}class Jx extends Et{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class eR extends Et{constructor(e,n){super(e,"in",n),this.keys=ME("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tR extends Et{constructor(e,n){super(e,"not-in",n),this.keys=ME("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ME(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class nR extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return km(n)&&Pl(n.arrayValue,this.value)}}class iR extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class rR extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class sR extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!km(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n=null,s=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function Mv(r,e=null,n=[],s=[],l=null,c=null,f=null){return new aR(r,e,n,s,l,c,f)}function Pm(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>tm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ja(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ja(s))).join(",")),e.Te=n}return e.Te}function Lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Wx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!DE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ov(r.startAt,e.startAt)&&Ov(r.endAt,e.endAt)}function nm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,e,n,s,l,c,f,g){return new oo(r,e,n,s,l,c,f,g)}function Um(r){return new oo(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function VE(r){return r.collectionGroup!==null}function Rl(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Rt(zt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ll(c,s))})),n.has(zt.keyField().canonicalString())||e.Ie.push(new Ll(zt.keyField(),s))}return e.Ie}function hi(r){const e=xe(r);return e.Ee||(e.Ee=lR(e,Rl(r))),e.Ee}function lR(r,e){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ll(l.field,c)}));const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function im(r,e){const n=r.filters.concat([e]);return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xc(r,e,n){return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hh(r,e){return Lm(hi(r),hi(e))&&r.limitType===e.limitType}function kE(r){return`${Pm(hi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>OE(l))).join(", ")}]`),uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Ja(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Ja(l))).join(",")),`Target(${s})`})(hi(r))}; limitType=${r.limitType})`}function fh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Rl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const y=Dv(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,Rl(s),l)||s.endAt&&!(function(f,g,p){const y=Dv(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,Rl(s),l))})(r,e)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(e,n)=>{let s=!1;for(const l of Rl(r)){const c=cR(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function cR(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Za(p,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new ot(ge.comparator);function Fi(){return hR}const LE=new ot(ge.comparator);function Tl(...r){let e=LE;for(const n of r)e=e.insert(n.key,n);return e}function UE(r){let e=LE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ps(){return Il()}function jE(){return Il()}function Il(){return new Ks((r=>r.toString()),((r,e)=>r.isEqual(e)))}const fR=new ot(ge.comparator),dR=new Rt(ge.comparator);function Ue(...r){let e=dR;for(const n of r)e=e.add(n);return e}const mR=new Rt(Le);function gR(){return mR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function zE(r){return{integerValue:""+r}}function pR(r,e){return Hx(e)?zE(e):jm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function yR(r,e,n){return r instanceof Ul?(function(l,c){const f={fields:{[bE]:{stringValue:TE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=ch(c)),c&&(f.fields[wE]=c),{mapValue:f}})(n,e):r instanceof jl?qE(r,e):r instanceof zl?HE(r,e):(function(l,c){const f=BE(l,c),g=kv(f)+kv(l.Ae);return em(f)&&em(l.Ae)?zE(g):jm(l.serializer,g)})(r,e)}function _R(r,e,n){return r instanceof jl?qE(r,e):r instanceof zl?HE(r,e):n}function BE(r,e){return r instanceof $c?(function(s){return em(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Ul extends dh{}class jl extends dh{constructor(e){super(),this.elements=e}}function qE(r,e){const n=GE(e);for(const s of r.elements)n.some((l=>gi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class zl extends dh{constructor(e){super(),this.elements=e}}function HE(r,e){let n=GE(e);for(const s of r.elements)n=n.filter((l=>!gi(l,s)));return{arrayValue:{values:n}}}class $c extends dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kv(r){return pt(r.integerValue||r.doubleValue)}function GE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.field=e,this.transform=n}}function ER(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof jl&&l instanceof jl||s instanceof zl&&l instanceof zl?Wa(s.elements,l.elements,gi):s instanceof $c&&l instanceof $c?gi(s.Ae,l.Ae):s instanceof Ul&&l instanceof Ul})(r.transform,e.transform)}class TR{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mh{}function FE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new QE(r.key,Bi.none()):new Wl(r.key,r.data,Bi.none());{const n=r.data,s=Cn.empty();let l=new Rt(zt.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Xs(r.key,s,new Fn(l.toArray()),Bi.none())}}function bR(r,e,n){r instanceof Wl?(function(l,c,f){const g=l.value.clone(),p=Lv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Xs?(function(l,c,f){if(!Mc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Lv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(YE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Nl(r,e,n,s){return r instanceof Wl?(function(c,f,g,p){if(!Mc(c.precondition,f))return g;const y=c.value.clone(),b=Uv(c.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Xs?(function(c,f,g,p){if(!Mc(c.precondition,f))return g;const y=Uv(c.fieldTransforms,p,f),b=f.data;return b.setAll(YE(c)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(c,f,g){return Mc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function wR(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=BE(s.transform,l||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function Pv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Wa(s,l,((c,f)=>ER(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends mh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xs extends mh{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Lv(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=e.data.field(c.field);s.set(c.field,_R(f,g,n[l]))}return s}function Uv(r,e,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,yR(c,f,e))}return s}class QE extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&bR(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Nl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Nl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jE();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=FE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((n,s)=>Pv(n,s)))&&Wa(this.baseMutations,e.baseMutations,((n,s)=>Pv(n,s)))}}class zm{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return fR})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new zm(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ze;function IR(r){switch(r){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function KE(r){if(r===void 0)return Gi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case vt.OK:return Q.OK;case vt.CANCELLED:return Q.CANCELLED;case vt.UNKNOWN:return Q.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Q.INTERNAL;case vt.UNAVAILABLE:return Q.UNAVAILABLE;case vt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case vt.NOT_FOUND:return Q.NOT_FOUND;case vt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case vt.ABORTED:return Q.ABORTED;case vt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case vt.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=vt||(vt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Br([4294967295,4294967295],0);function jv(r){const e=NR().encode(r),n=new lE;return n.update(e),new Uint8Array(n.digest())}function zv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Br([n,s],0),new Br([l,c],0)]}class Bm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(Br.fromNumber(s)));return l.compare(CR)===1&&(l=new Br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jv(e),[s,l]=zv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Bm(c,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=jv(e),[s,l]=zv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gh(Se.min(),l,new ot(Le),Fi(),Ue())}}class Zl{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zl(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class XE{constructor(e,n){this.targetId=e,this.Ce=n}}class $E{constructor(e,n,s=qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Te(38017,{changeType:c})}})),new Zl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ot(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(nm(c))if(s===0){const f=new ge(c.path);this.et(n,f,Xt.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof EE)return $a("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Bm(f,l,c)}catch(p){return $a(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&nm(g.target)){const p=new ge(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Xt.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Ue();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new gh(e,n,this.Ye,this.je,s);return this.je=Fi(),this.Je=Sc(),this.He=Sc(),this.Ye=new ot(Le),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Bv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new ot(ge.comparator)}function qv(){return new ot(ge.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class kR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(r,e){return r.useProto3Json||uh(e)?e:{value:e}}function Wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PR(r,e){return Wc(r,e.toTimestamp())}function fi(r){return He(!!r,49232),Se.fromTimestamp((function(n){const s=Yr(n);return new nt(s.seconds,s.nanos)})(r))}function qm(r,e){return sm(r,e).canonicalString()}function sm(r,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ZE(r){const e=tt.fromString(r);return He(iT(e),10190,{key:e.toString()}),e}function am(r,e){return qm(r.databaseId,e.path)}function Ud(r,e){const n=ZE(e);if(n.get(1)!==r.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(eT(n))}function JE(r,e){return qm(r.databaseId,e)}function LR(r){const e=ZE(r);return e.length===4?tt.emptyPath():eT(e)}function om(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eT(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,e,n){return{name:am(r,e),fields:n.value.mapValue.fields}}function UR(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(He(b===void 0||typeof b=="string",58123),qt.fromBase64String(b||"")):(He(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),qt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const b=y.code===void 0?Q.UNKNOWN:KE(y.code);return new ae(b,y.message||"")})(f);n=new $E(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ud(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):Se.min(),g=new Cn({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(l,c,f,g),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Vc(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Ud(r,s.document),c=s.readTime?fi(s.readTime):Se.min(),f=Xt.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Vc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Ud(r,s.document),c=s.removedTargetIds||[];n=new Vc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new RR(l,c),g=s.targetId;n=new XE(g,f)}}return n}function jR(r,e){let n;if(e instanceof Wl)n={update:Hv(r,e.key,e.value)};else if(e instanceof QE)n={delete:am(r,e.key)};else if(e instanceof Xs)n={update:Hv(r,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof SR))return Te(16599,{Vt:e.type});n={verify:am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof Ul)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:PR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),n}function zR(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(l,c){let f=l.updateTime?fi(l.updateTime):fi(c);return f.isEqual(Se.min())&&(f=fi(c)),new TR(f,l.transformResults||[])})(n,e)))):[]}function BR(r,e){return{documents:[JE(r,e.path)]}}function qR(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JE(r,l);const c=(function(y){if(y.length!==0)return nT(Qn.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((b=>(function(D){return{field:Ga(D.field),direction:FR(D.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=rm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function HR(r){let e=LR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){He(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(S){const D=tT(S);return D instanceof Qn&&CE(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((D=>(function(W){return new Ll(Fa(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,uh(D)?null:D})(n.limit));let p=null;n.startAt&&(p=(function(S){const D=!!S.before,z=S.values||[];return new Kc(z,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const D=!S.before,z=S.values||[];return new Kc(z,D)})(n.endAt)),oR(e,l,f,c,g,"F",p,y)}function GR(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(n.unaryFilter.field);return Et.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(n.unaryFilter.field);return Et.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Et.create(Fa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Qn.create(n.compositeFilter.filters.map((s=>tT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function FR(r){return OR[r]}function YR(r){return MR[r]}function QR(r){return VR[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return zt.fromServerFormat(r.fieldPath)}function nT(r){return r instanceof Et?(function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:YR(n.op),value:n.value}}})(r):r instanceof Qn?(function(n){const s=n.getFilters().map((l=>nT(l)));return s.length===1?s[0]:{compositeFilter:{op:QR(n.op),filters:s}}})(r):Te(54877,{filter:r})}function KR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,l,c=Se.min(),f=Se.min(),g=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.yt=e}}function $R(r){const e=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Cn=new ZR}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Fr.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class ZR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Rt(tt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Rt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(rT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",JR=1048576;function Yv([r,e],[n,s]){const l=Le(r,n);return l===0?Le(e,s):l}class e2{constructor(e){this.Ir=e,this.buffer=new Rt(Yv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Yv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?oe(Fv,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Vr(3e5)}))}}class n2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(lh.ce);const s=new e2(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,c,f,g,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,n)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),qa()<=Pe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function i2(r,e){return new n2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new Ks((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Nl(s.mutation,l,Fn.empty(),nt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const l=Ps();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((c=>{let f=Tl();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let c=Fi();const f=Il(),g=(function(){return Il()})();return n.forEach(((p,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Xs)?c=c.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Nl(b.mutation,y,b.mutation.getFieldMask(),nt.now())):f.set(y.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>g.set(y,new s2(b,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Il();let l=new ot(((f,g)=>f-g)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=s.get(p)||Fn.empty();b=g.applyToLocalView(y,b),s.set(p,b);const S=(l.get(g.batchId)||Ue()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,b=p.value,S=jE();b.forEach((D=>{if(!c.has(D)){const z=FE(n.get(D),s.get(D));z!==null&&S.set(D,z),c=c.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):X.resolve(Ps());let g=Ml,p=c;return f.next((y=>X.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((D=>{p=p.insert(b,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Ue()))).next((b=>({batchId:g,changes:UE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(p=>{const y=(function(S,D){return new oo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((S,D)=>{f=f.insert(S,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l)))).next((f=>{c.forEach(((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Xt.newInvalidDocument(b)))}));let g=Tl();return f.forEach(((p,y)=>{const b=c.get(p);b!==void 0&&Nl(b.mutation,y,Fn.empty(),nt.now()),fh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:$R(l.bundledQuery),readTime:fi(l.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return X.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,c)=>{this.St(e,n,c)})),X.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const l=Ps(),c=n.length+1,f=new ge(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new ot(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=Ps(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Ps(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return X.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xR(n,s));let c=this.qr.get(n);c===void 0&&(c=Ue(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Qr=new Rt(Mt.$r),this.Ur=new Rt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new Mt(n,e),l=new Mt(n,e+1),c=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new Mt(n,e),l=new Mt(n,e+1);let c=Ue();return this.Ur.forEachInRange([s,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Mt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Mt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AR(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Mt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),l=new Mt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Le);return n.forEach((l=>{const c=new Mt(l,0),f=new Mt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{s=s.add(g.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const f=new Mt(new ge(c),0);let g=new Rt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),f),X.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(n.mutations,(l=>{const c=new Mt(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Mt(n,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Fi();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xt.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=Fi();const f=n.path,g=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jx(Ux(b),s)<=0||(l.has(b.key)||fh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Te(9500)}ii(e,n){return X.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new f2(this)}getSize(e){return X.resolve(this.size)}}class f2 extends r2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.persistence=e,this.si=new Ks((n=>Pm(n)),Lm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new u2,this.referenceDelegate=e(this),this.Pi=new d2(this),this.indexManager=new WR,this.remoteDocumentCache=(function(l){return new h2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new XR(n),this.Ii=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new c2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const l=new m2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class m2 extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Vi=null}static mi(e){return new Gm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=ge.fromPath(s);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zc{constructor(e,n){this.persistence=e,this.pi=new Ks((s=>Gx(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=i2(this,n)}static mi(e,n){return new Zc(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return X.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?X.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}br(e,n,s){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Ue(),l=Ue();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qw()?8:qx($t())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,l,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new g2;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(qa()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=Pe.DEBUG&&oe("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(qa()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):X.resolve())}ys(e,n){if(Vv(n))return X.resolve(null);let s=hi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Xc(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ue(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Xc(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,l){return Vv(n)||l.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,l)?X.resolve(null):(qa()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(n)),this.vs(e,f,n,Lx(l,Ml)).next((g=>g)))}))}Ds(e,n){let s=new Rt(PE(e));return n.forEach(((l,c)=>{fh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,s){return qa()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",y2=3e8;class _2{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ot(Le),this.xs=new Ks((c=>Pm(c)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function v2(r,e,n,s){return new _2(r,e,n,s)}async function aT(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let p=Ue();for(const y of l){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function E2(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,b){const S=y.batch,D=S.keys();let z=X.resolve();return D.forEach((W=>{z=z.next((()=>b.getEntry(p,W))).next((J=>{const Z=y.docVersions.get(W);He(Z!==null,48541),J.version.compareTo(Z)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),b.addEntry(J)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ue();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function oT(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function T2(r,e){const n=xe(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const D=l.get(S);if(!D)return;g.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,b.addedDocuments,S))));let z=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?z=z.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,s)),l=l.insert(S,z),(function(J,Z,le){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=y2?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(D,z,b)&&g.push(n.Pi.updateTargetData(c,z))}));let p=Fi(),y=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(b2(c,f,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!s.isEqual(Se.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(b)}return X.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function b2(r,e,n){let s=Ue(),l=Ue();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=Fi();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):oe(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function w2(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function S2(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((c=>c?(l=c,X.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function lm(r,e,n){const s=xe(r),l=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!ao(f))throw f;oe(Ym,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Qv(r,e,n){const s=xe(r);let l=Se.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,b){const S=xe(p),D=S.xs.get(b);return D!==void 0?X.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,b)})(s,f,hi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Se.min(),n?c:Ue()))).next((g=>(A2(s,uR(e),g),{documents:g,Qs:c})))))}function A2(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Kv{constructor(){this.activeTargetIds=gR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x2{constructor(){this.Mo=new Kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Kv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="ConnectivityMonitor";class $v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function um(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,c){const f=um(),g=this.zo(e,n.toUriEncodedString());oe(jd,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:y}=new URL(g),b=Ys(y);return this.Jo(e,g,p,s,b).then((S=>(oe(jd,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw $a(jd,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,n,s,l,c,f){return this.Go(e,n,s,l,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const s=I2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class D2 extends N2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,c){const f=um();return new Promise(((g,p)=>{const y=new uE;y.setWithCredentials(!0),y.listenOnce(cE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Cc.NO_ERROR:const S=y.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case Cc.TIMEOUT:oe(Qt,`RPC '${e}' ${f} timed out`),p(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const D=y.getStatus();if(oe(Qt,`RPC '${e}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const W=z?.error;if(W&&W.status&&W.message){const J=(function(le){const he=le.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(he)>=0?he:Q.UNKNOWN})(W.status);p(new ae(J,W.message))}else p(new ae(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);oe(Qt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const l=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dE(),g=fE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=c.join("");oe(Qt,`Creating RPC '${e}' stream ${l}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let D=!1,z=!1;const W=new C2({Yo:Z=>{z?oe(Qt,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(D||(oe(Qt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),oe(Qt,`RPC '${e}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),J=(Z,le,he)=>{Z.listen(le,(ce=>{try{he(ce)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return J(S,El.EventType.OPEN,(()=>{z||(oe(Qt,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),J(S,El.EventType.CLOSE,(()=>{z||(z=!0,oe(Qt,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),J(S,El.EventType.ERROR,(Z=>{z||(z=!0,$a(Qt,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new ae(Q.UNAVAILABLE,"The operation could not be completed")))})),J(S,El.EventType.MESSAGE,(Z=>{if(!z){const le=Z.data[0];He(!!le,16349);const he=le,ce=he?.error||he[0]?.error;if(ce){oe(Qt,`RPC '${e}' stream ${l} received error:`,ce);const Ce=ce.status;let re=(function(A){const I=vt[A];if(I!==void 0)return KE(I)})(Ce),ve=ce.message;re===void 0&&(re=Q.INTERNAL,ve="Unknown error status: "+Ce+" with message "+ce.message),z=!0,W.a_(new ae(re,ve)),S.close()}else oe(Qt,`RPC '${e}' stream ${l} received:`,le),W.u_(le)}})),J(g,hE.STAT_EVENT,(Z=>{Z.stat===Wd.PROXY?oe(Qt,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===Wd.NOPROXY&&oe(Qt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new kR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class uT{constructor(e,n,s,l,c,f,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends uT{constructor(e,n,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?fi(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=om(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=nm(p)?{documents:BR(c,p)}:{query:qR(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=WE(c,f.resumeToken);const y=rm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){g.readTime=Wc(c,f.snapshotVersion.toTimestamp());const y=rm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=GR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.q_(n)}}class M2 extends uT{constructor(e,n,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zR(e.writeResults,e.commitTime),s=fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=om(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jR(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{}class k2 extends V2{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,sm(n,s),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Q.UNKNOWN,c.toString())}))}Ho(e,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,sm(n,s),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(Q.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class L2{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(oe(Fs,"Restarting streams for network reachability change."),await(async function(p){const y=xe(p);y.Ea.add(4),await Jl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await yh(y)})(this))}))})),this.Ra=new P2(s,l)}}async function yh(r){if($s(r))for(const e of r.da)await e(!0)}async function Jl(r){for(const e of r.da)await e(!1)}function cT(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$m(n)?Xm(n):lo(n).O_()&&Km(n,e))}function Qm(r,e){const n=xe(r),s=lo(n);n.Ia.delete(e),s.O_()&&hT(n,e),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Ra.set("Unknown"))}function Km(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(r).Y_(e)}function hT(r,e){r.Va.Ue(e),lo(r).Z_(e)}function Xm(r){r.Va=new DR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function $m(r){return $s(r)&&!lo(r).x_()&&r.Ia.size>0}function $s(r){return xe(r).Ea.size===0}function fT(r){r.Va=void 0}async function U2(r){r.Ra.set("Online")}async function j2(r){r.Ia.forEach(((e,n)=>{Km(r,e)}))}async function z2(r,e){fT(r),$m(r)?(r.Ra.ha(e),Xm(r)):r.Ra.set("Unknown")}async function B2(r,e,n){if(r.Ra.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){oe(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jc(r,s)}else if(e instanceof Vc?r.Va.Ze(e):e instanceof XE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await oT(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(qt.EMPTY_BYTE_STRING,b.snapshotVersion)),hT(c,p);const S=new Ur(b.target,p,y,b.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){oe(Fs,"Failed to raise snapshot:",s),await Jc(r,s)}}async function Jc(r,e,n){if(!ao(e))throw e;r.Ea.add(1),await Jl(r),r.Ra.set("Offline"),n||(n=()=>oT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Fs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await yh(r)}))}function dT(r,e){return e().catch((n=>Jc(r,n,e)))}async function _h(r){const e=xe(r),n=Xr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;q2(e);)try{const l=await w2(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,H2(e,l)}catch(l){await Jc(e,l)}mT(e)&&gT(e)}function q2(r){return $s(r)&&r.Ta.length<10}function H2(r,e){r.Ta.push(e);const n=Xr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function mT(r){return $s(r)&&!Xr(r).x_()&&r.Ta.length>0}function gT(r){Xr(r).start()}async function G2(r){Xr(r).ra()}async function F2(r){const e=Xr(r);for(const n of r.Ta)e.ea(n.mutations)}async function Y2(r,e,n){const s=r.Ta.shift(),l=zm.from(s,e,n);await dT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _h(r)}async function Q2(r,e){e&&Xr(r).X_&&await(async function(s,l){if((function(f){return IR(f)&&f!==Q.ABORTED})(l.code)){const c=s.Ta.shift();Xr(s).B_(),await dT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(s)}})(r,e),mT(r)&&gT(r)}async function Zv(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),oe(Fs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await Jl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function K2(r,e){const n=xe(r);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(n,s,l){const c=xe(n);return c.sa(),new O2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:U2.bind(null,r),t_:j2.bind(null,r),r_:z2.bind(null,r),H_:B2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),fT(r))}))),r.ma}function Xr(r){return r.fa||(r.fa=(function(n,s,l){const c=xe(n);return c.sa(),new M2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:G2.bind(null,r),r_:Q2.bind(null,r),ta:F2.bind(null,r),na:Y2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _h(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const f=Date.now()+s,g=new Wm(e,n,f,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),ao(r))return new ae(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.ga=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class to{constructor(e,n,s,l,c,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new to(e,n,Xa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $2{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=xe(n),c=l.queries;l.queries=e0(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function e0(){return new Ks((r=>kE(r)),hh)}async function pT(r,e){const n=xe(r);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new X2,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Zm(f,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Jm(n)}async function yT(r,e){const n=xe(r),s=e.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function W2(r,e){const n=xe(r);let s=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&Jm(n)}function Z2(r,e,n){const s=xe(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(e)}function Jm(r){r.Ca.forEach((e=>{e.next()}))}var cm,t0;(t0=cm||(cm={})).Ma="default",t0.Cache="cache";class _T{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new to(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class J2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=PE(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Jv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const D=l.get(b),z=fh(this.query,S)?S:null,W=!!D&&this.mutatedKeys.has(D.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;D&&z?D.data.isEqual(z.data)?W!==J&&(s.track({type:3,doc:z}),Z=!0):this.su(D,z)||(s.track({type:2,doc:z}),Z=!0,(p&&this.eu(z,p)>0||y&&this.eu(z,y)<0)&&(g=!0)):!D&&z?(s.track({type:0,doc:z}),Z=!0):D&&!z&&(s.track({type:1,doc:D}),Z=!0,(p||y)&&(g=!0)),Z&&(z?(f=f.add(z),c=J?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(z,W){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:Z})}};return J(z)-J(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new to(this.query,e.tu,c,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ET(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new vT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class eI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tI{constructor(e){this.key=e,this.hu=!1}}class nI{constructor(e,n,s,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ks((g=>kE(g)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iI(r,e,n=!0){const s=xT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await TT(s,e,n,!0),l}async function rI(r,e){const n=xT(r);await TT(n,e,!0,!1)}async function TT(r,e,n,s){const l=await S2(r.localStore,hi(e)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await sI(r,e,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&cT(r.remoteStore,l),g}async function sI(r,e,n,s,l){r.pu=(S,D,z)=>(async function(J,Z,le,he){let ce=Z.view.ru(le);ce.Cs&&(ce=await Qv(J.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,ce))));const Ce=he&&he.targetChanges.get(Z.targetId),re=he&&he.targetMismatches.get(Z.targetId)!=null,ve=Z.view.applyChanges(ce,J.isPrimaryClient,Ce,re);return i0(J,Z.targetId,ve.au),ve.snapshot})(r,S,D,z);const c=await Qv(r.localStore,e,!0),f=new J2(e,c.Qs),g=f.ru(c.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(g,r.isPrimaryClient,p);i0(r,n,y.au);const b=new eI(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function aI(r,e,n){const s=xe(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((f=>!hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Qm(s.remoteStore,l.targetId),hm(s,l.targetId)})).catch(so)):(hm(s,l.targetId),await lm(s.localStore,l.targetId,!0))}async function oI(r,e){const n=xe(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qm(n.remoteStore,s.targetId))}async function lI(r,e,n){const s=gI(r);try{const l=await(function(f,g){const p=xe(f),y=nt.now(),b=g.reduce(((z,W)=>z.add(W.key)),Ue());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let W=Fi(),J=Ue();return p.Ns.getEntries(z,b).next((Z=>{W=Z,W.forEach(((le,he)=>{he.isValidDocument()||(J=J.add(le))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,W))).next((Z=>{S=Z;const le=[];for(const he of g){const ce=wR(he,S.get(he.key).overlayedDocument);ce!=null&&le.push(new Xs(he.key,ce,RE(ce.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,le,g)})).next((Z=>{D=Z;const le=Z.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(z,Z.batchId,le)}))})).then((()=>({batchId:D.batchId,changes:UE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ot(Le)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await eu(s,l.changes),await _h(s.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");n.reject(c)}}async function bT(r,e){const n=xe(r);try{const s=await T2(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?He(f.hu,14607):l.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await eu(n,s,e)}catch(s){await so(s)}}function n0(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=xe(f);p.onlineState=g;let y=!1;p.queries.forEach(((b,S)=>{for(const D of S.Sa)D.va(g)&&(y=!0)})),y&&Jm(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uI(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),c=l&&l.key;if(c){let f=new ot(ge.comparator);f=f.insert(c,Xt.newNoDocument(c,Se.min()));const g=Ue().add(c),p=new gh(Se.min(),new Map,new ot(Le),f,g);await bT(s,p),s.du=s.du.remove(c),s.Au.delete(e),tg(s)}else await lm(s.localStore,e,!1).then((()=>hm(s,e,n))).catch(so)}async function cI(r,e){const n=xe(r),s=e.batch.batchId;try{const l=await E2(n.localStore,e);ST(n,s,null),wT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,l)}catch(l){await so(l)}}async function hI(r,e,n){const s=xe(r);try{const l=await(function(f,g){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,g).next((S=>(He(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);ST(s,e,n),wT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await eu(s,l)}catch(l){await so(l)}}function wT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ST(r,e,n){const s=xe(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||AT(r,s)}))}function AT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Qm(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),tg(r))}function i0(r,e,n){for(const s of n)s instanceof vT?(r.Ru.addReference(s.key,e),fI(r,s)):s instanceof ET?(oe(eg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||AT(r,s.key)):Te(19791,{wu:s})}function fI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(eg,"New document in limbo: "+n),r.Eu.add(s),tg(r))}function tg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new tI(n)),r.du=r.du.insert(n,s),cT(r.remoteStore,new Ur(hi(Um(n.path)),s,"TargetPurposeLimboResolution",lh.ce))}}async function eu(r,e,n){const s=xe(r),l=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Fm.As(p.targetId,y);c.push(b)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,y){const b=xe(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(D=>X.forEach(D.Es,(z=>b.persistence.referenceDelegate.addReference(S,D.targetId,z))).next((()=>X.forEach(D.ds,(z=>b.persistence.referenceDelegate.removeReference(S,D.targetId,z)))))))))}catch(S){if(!ao(S))throw S;oe(Ym,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const z=b.Ms.get(D),W=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(D,J)}}})(s.localStore,c))}async function dI(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){oe(eg,"User change. New user:",e.toKey());const s=await aT(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new ae(Q.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Ls)}}function mI(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let l=Ue();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function xT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.Pu.H_=W2.bind(null,e.eventManager),e.Pu.yu=Z2.bind(null,e.eventManager),e}function gI(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return v2(this.persistence,new p2,e.initialUser,this.serializer)}Cu(e){return new sT(Gm.mi,this.serializer)}Du(e){return new x2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class pI extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new t2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new sT((s=>Zc.mi(s,n)),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>n0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),await K2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $2})()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),s=(function(c){return new D2(c)})(e.databaseInfo);return(function(c,f,g,p){return new k2(c,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,c,f,g){return new L2(s,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>n0(this.syncEngine,n,0)),(function(){return $v.v()?new $v:new R2})())}createSyncEngine(e,n){return(function(l,c,f,g,p,y,b){const S=new nI(l,c,f,g,p,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);oe(Fs,"RemoteStore shutting down."),s.Ea.add(5),await Jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class yI{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{oe($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Zm(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),oe($r,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await aT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function r0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _I(r);oe($r,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Zv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Zv(e.remoteStore,l))),r._onlineComponents=e}async function _I(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe($r,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new eh)}}else oe($r,"Using default OfflineComponentProvider"),await Bd(r,new pI(void 0));return r._offlineComponents}async function IT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe($r,"Using user provided OnlineComponentProvider"),await r0(r,r._uninitializedComponentsProvider._online)):(oe($r,"Using default OnlineComponentProvider"),await r0(r,new fm))),r._onlineComponents}function vI(r){return IT(r).then((e=>e.syncEngine))}async function dm(r){const e=await IT(r),n=e.eventManager;return n.onListen=iI.bind(null,e.syncEngine),n.onUnlisten=aI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oI.bind(null,e.syncEngine),n}function EI(r,e,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const b=new RT({next:D=>{b.Nu(),f.enqueueAndForget((()=>yT(c,S))),D.fromCache&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new _T(g,b,{includeMetadataChanges:!0,qa:!0});return pT(c,S)})(await dm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firestore.googleapis.com",a0=!0;class o0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JR)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xx;switch(s.type){case"firstParty":return new Cx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=s0.get(n);s&&(oe("ComponentProvider","Removing Datastore"),s0.delete(n),s.terminate())})(this),Promise.resolve()}}function TI(r,e,n,s={}){r=Ls(r,vh);const l=Ys(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(pm(`https://${g}`),ym("Firestore",!0)),c.host!==CT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:s};if(!zs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=Kt.MOCK_USER;else{y=Mw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Kt(S)}r._authCredentials=new Rx(new gE(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if($l(n,xt._jsonSchema))return new xt(e,s||null,new ge(tt.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Tt("string",xt._jsonSchemaVersion),referencePath:Tt("string")};class Hr extends $i{constructor(e,n,s){super(e,n,Um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ge(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Bl(r,e,...n){if(r=Bt(r),pE("collection","path",e),r instanceof vh){const s=tt.fromString(e,...n);return Ev(s),new Hr(r,null,s)}{if(!(r instanceof xt||r instanceof Hr))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Ev(s),new Hr(r.firestore,null,s)}}function bI(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Om.newId()),pE("doc","path",e),r instanceof vh){const s=tt.fromString(e,...n);return vv(s),new xt(r,null,new ge(s))}{if(!(r instanceof xt||r instanceof Hr))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return vv(s),new xt(r.firestore,r instanceof Hr?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lT(this,"async_queue_retry"),this._c=()=>{const s=zd();s&&oe(l0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;oe(l0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",c0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Wm.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function c0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ql extends vh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new u0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function wI(r,e){const n=typeof r=="object"?r:Em(),s=typeof r=="string"?r:Yc,l=ih(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=T0("firestore");c&&TI(l,...c)}return l}function ng(r){if(r._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const e=r._freezeSettings(),n=(function(l,c,f,g){return new Qx(l,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,NT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qt.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Tt("string",Dn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if($l(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Tt("string",di._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mi(e.vectorValues);throw new ae(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Tt("string",mi._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^__.*__$/;class xI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}function DT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class sg{constructor(e,n,s,l,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DT(this.Ac)&&AI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ph(e)}Cc(e,n,s,l=!1){return new sg({Ac:e,methodName:n,Dc:s,path:zt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OT(r){const e=r._freezeSettings(),n=ph(r._databaseId);return new RI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function II(r,e,n,s,l,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,l);kT("Data must be an object, but it was:",f,s);const g=MT(s,f);let p,y;if(c.merge)p=new Fn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const D=CI(e,S,n);if(!f.contains(D))throw new ae(Q.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);OI(b,D)||b.push(D)}p=new Fn(b),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new xI(new Cn(g),p,y)}class ag extends rg{_toFieldTransform(e){return new vR(e.path,new Ul)}isEqual(e){return e instanceof ag}}function NI(r,e,n,s=!1){return og(n,r.Cc(s?4:3,e))}function og(r,e){if(VT(r=Bt(r)))return kT("Unsupported field value:",e,r),MT(r,e);if(r instanceof rg)return(function(s,l){if(!DT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let f=0;for(const g of s){let p=og(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:Wc(l.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:WE(l.serializer,s._byteString)};if(s instanceof xt){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof mi)return(function(f,g){return{mapValue:{fields:{[AE]:{stringValue:xE},[Qc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return jm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${oh(s)}`)})(r,e)}function MT(r,e){const n={};return vE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,((s,l)=>{const c=og(l,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof di||r instanceof Dn||r instanceof xt||r instanceof rg||r instanceof mi)}function kT(r,e,n){if(!VT(n)||!yE(n)){const s=oh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function CI(r,e,n){if((e=Bt(e))instanceof ig)return e._internalPath;if(typeof e=="string")return PT(r,e);throw th("Field path arguments must be of type string or ",r,!1,void 0,n)}const DI=new RegExp("[~\\*/\\[\\]]");function PT(r,e,n){if(e.search(DI)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function th(r,e,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new ae(Q.INVALID_ARGUMENT,g+r+p)}function OI(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MI extends LT{data(){return super.data()}}function Eh(r,e){return typeof e=="string"?PT(r,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class ug extends lg{}function Th(r,e,...n){let s=[];e instanceof lg&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((p=>p instanceof cg)).length,g=c.filter((p=>p instanceof bh)).length;if(f>1||f>0&&g>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class bh extends ug{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bh(e,n,s)}_apply(e){const n=this._parse(e);return jT(e._query,n),new $i(e.firestore,e.converter,im(e._query,n))}_parse(e){const n=OT(e.firestore);return(function(c,f,g,p,y,b,S){let D;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){d0(S,b);const W=[];for(const J of S)W.push(f0(p,c,J));D={arrayValue:{values:W}}}else D=f0(p,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||d0(S,b),D=NI(g,f,S,b==="in"||b==="not-in");return Et.create(y,b,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VI(r,e,n){const s=e,l=Eh("where",r);return bh._create(l,s,n)}class cg extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)jT(f,p),f=im(f,p)})(e._query,n),new $i(e.firestore,e.converter,im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends ug{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hg(e,n)}_apply(e){const n=(function(l,c,f){if(l.startAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(c,f)})(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new oo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function wh(r,e="asc"){const n=e,s=Eh("orderBy",r);return hg._create(s,n)}class fg extends ug{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new fg(e,n,s)}_apply(e){return new $i(e.firestore,e.converter,Xc(e._query,this._limit,this._limitType))}}function kI(r){return fg._create("limit",r,"F")}function f0(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(e)&&n.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Iv(r,new ge(s))}if(n instanceof xt)return Iv(r,n._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function d0(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jT(r,e){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PI{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qs(e,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Qc].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new mi(n)}convertGeoPoint(e){return new di(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ch(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(iT(s),9688,{name:e});const l=new kl(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return l.isEqual(n)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends LT{constructor(e,n,s,l,c,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Eh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Tt("string",Us._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class kc extends Us{data(e={}){return super.data(e)}}class js{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kc(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:UI(g.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Tt("string",js._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class dg extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function jI(r){r=Ls(r,$i);const e=Ls(r.firestore,ql),n=ng(e),s=new dg(e);return UT(r._query),EI(n,r._query).then((l=>new js(e,s,r,l)))}function zI(r,e){const n=Ls(r.firestore,ql),s=bI(r),l=LI(r.converter,e);return BI(n,[II(OT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Bi.exists(!1))]).then((()=>s))}function mg(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||h0(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(h0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,f,g;if(r instanceof xt)f=Ls(r.firestore,ql),g=Um(r._key.path),c={next:p=>{e[s]&&e[s](qI(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Ls(r,$i);f=Ls(p.firestore,ql),g=p._query;const y=new dg(f);c={next:b=>{e[s]&&e[s](new js(f,y,p,b))},error:e[s+1],complete:e[s+2]},UT(r._query)}return(function(y,b,S,D){const z=new RT(D),W=new _T(b,z,S);return y.asyncQueue.enqueueAndForget((async()=>pT(await dm(y),W))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>yT(await dm(y),W)))}})(ng(f),g,l,c)}function BI(r,e){return(function(s,l){const c=new qr;return s.asyncQueue.enqueueAndForget((async()=>lI(await vI(s),l,c))),c.promise})(ng(r),e)}function qI(r,e,n){const s=n.docs.get(e._key),l=new dg(r);return new Us(r,l,e._key,s,new wl(n.hasPendingWrites,n.fromCache),e.converter)}function HI(){return new ag("serverTimestamp")}(function(e,n=!0){(function(l){ro=l})(no),Bs(new Gr("firestore",((s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new ql(new Ix(s.getProvider("auth-internal")),new Dx(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,b)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ui(gv,pv,e),ui(gv,pv,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,s,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="us-central1";class FI{constructor(e,n,s,l,c=mm,f=(...g)=>fetch(...g)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new GI(e,n,s,l),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=mm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function YI(r,e,n){const s=Ys(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(pm(r.emulatorOrigin+"/backends"),ym("Functions",!0))}const m0="@firebase/functions",g0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="auth-internal",KI="app-check-internal",XI="messaging-internal";function $I(r){const e=(n,{instanceIdentifier:s})=>{const l=n.getProvider("app").getImmediate(),c=n.getProvider(QI),f=n.getProvider(XI),g=n.getProvider(KI);return new FI(l,c,f,g,s)};Bs(new Gr(zT,e,"PUBLIC").setMultipleInstances(!0)),ui(m0,g0,r),ui(m0,g0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r=Em(),e=mm){const s=ih(Bt(r),zT).getImmediate({identifier:e}),l=T0("functions");return l&&ZI(s,...l),s}function ZI(r,e,n){YI(Bt(r),e,n)}$I();const JI={apiKey:"AIzaSyC-OiVgHjTsTzxcHz1pps7zRVxJ4sjlylI",authDomain:"mind-mosaic-472120.firebaseapp.com",projectId:"mind-mosaic-472120",storageBucket:"mind-mosaic-472120.firebasestorage.app",messagingSenderId:"768584416956",appId:"1:768584416956:web:f933be7b430fa8fb4e5ab9"},gg=x0(JI),nn=Sx(gg),eN=new Li,Hl=wI(gg);WI(gg);const qd=r=>{switch(r){case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password. Try again.";case"auth/invalid-email":return"Invalid email address.";case"auth/email-already-in-use":return"This email is already in use. Try logging in.";case"auth/weak-password":return"Password too weak. Use at least 6 characters.";case"auth/popup-closed-by-user":return"Sign-in popup closed. Try again.";case"auth/cancelled-popup-request":return"Google sign-in cancelled.";case"auth/too-many-requests":return"Too many attempts. Try again later.";case"auth/network-request-failed":return"Network error. Check your connection.";default:return"Something went wrong. Please try again."}},p0=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),tN=()=>{const[r,e]=pe.useState(""),[n,s]=pe.useState(""),[l,c]=pe.useState(!1),[f,g]=pe.useState(!1),[p,y]=pe.useState(null),[b,S]=pe.useState(null),[D,z]=pe.useState(!1);pe.useEffect(()=>{if(!p)return;const le=setTimeout(()=>y(null),6e3);return()=>clearTimeout(le)},[p]),pe.useEffect(()=>{if(!b)return;const le=setTimeout(()=>S(null),5e3);return()=>clearTimeout(le)},[b]);const W=async le=>{if(le.preventDefault(),y(null),S(null),!p0(r)){y("Please enter a valid email address.");return}if(n.length<6){y("Password must be at least 6 characters.");return}g(!0);try{let he;l?(he=await u1(nn,r,n),S(`Account created — welcome, ${he.user.email}`)):(he=await c1(nn,r,n),S(`Logged in as ${he.user.email}`))}catch(he){y(qd(he?.code)),console.error("Auth error:",he)}finally{g(!1)}},J=async()=>{y(null),S(null),g(!0);try{await M1(nn,eN)}catch(le){y(qd(le?.code)),console.error("Google sign-in error:",le)}finally{g(!1)}},Z=async()=>{if(y(null),S(null),!p0(r)){y("Enter the email you used to register.");return}g(!0);try{await l1(nn,r),S("If an account exists, a reset email has been sent.")}catch(le){y(qd(le?.code)),console.error("Password reset error:",le)}finally{g(!1)}};return E.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-md border border-gray-700",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:l?"Create Account":"Welcome back"})}),p&&E.jsx("div",{className:"mb-4 text-sm text-white bg-red-600 px-4 py-3 rounded-lg border border-red-500",children:p}),b&&E.jsx("div",{className:"mb-4 text-sm text-white bg-green-600 px-4 py-3 rounded-lg border border-green-500",children:b}),E.jsxs("form",{onSubmit:W,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),E.jsx("input",{type:"email",placeholder:"you@example.com",value:r,onChange:le=>e(le.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:D?"text":"password",placeholder:"Enter password",value:n,onChange:le=>s(le.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all duration-300 pr-12"}),E.jsx("button",{type:"button",onClick:()=>z(!D),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors",children:D?"Hide":"Show"})]})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsx("span",{className:"text-gray-400",children:l?"Create a new account":"Sign in to continue"}),E.jsx("button",{type:"button",onClick:Z,disabled:f,className:"text-teal-400 hover:text-teal-300 transition-colors",children:"Forgot password?"})]}),E.jsx("button",{type:"submit",disabled:f,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 ${f?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-teal-600 hover:bg-teal-500 text-white shadow-lg hover:shadow-xl transform hover:scale-[1.02]"}`,children:f?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),E.jsx("span",{children:l?"Creating account...":"Signing in..."})]}):E.jsx("span",{children:l?"Create Account":"Login"})})]}),E.jsx("div",{className:"mt-6 text-center",children:E.jsx("span",{className:"text-gray-400 text-sm",children:"or"})}),E.jsxs("button",{onClick:J,disabled:f,className:"w-full mt-4 py-3 px-4 border border-gray-600 rounded-lg text-gray-300 bg-gray-700 hover:bg-gray-600 font-medium transition-all duration-300 flex items-center justify-center space-x-2 shadow-sm hover:shadow-md",children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),E.jsx("span",{children:"Continue with Google"})]}),E.jsx("div",{className:"text-center mt-6",children:E.jsx("button",{onClick:()=>{c(!l),y(null),S(null)},className:"text-teal-400 hover:text-teal-300 transition-colors text-sm",children:l?"Already have an account? Sign In":"Don't have an account? Register"})})]})})},nN=({onConsent:r})=>{const[e,n]=pe.useState(!1);return E.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-2xl w-full border border-gray-700",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Data Privacy Consent"})}),E.jsx("div",{className:"space-y-4 text-gray-300 mb-8",children:E.jsx("p",{className:"leading-relaxed",children:"We value your privacy and are committed to protecting your personal information. By agreeing, you consent to our data usage practices as outlined in our privacy policy. Your data will be used solely to improve your experience and will never be shared with third parties without your explicit consent."})}),E.jsx("div",{className:"border border-gray-600 rounded-lg p-4 mb-8 bg-gray-700",children:E.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:e,onChange:s=>n(s.target.checked),className:"w-4 h-4 text-teal-600 bg-gray-700 border-gray-500 rounded focus:ring-teal-500 focus:ring-2 mt-0.5"}),E.jsx("span",{className:"text-sm text-gray-300 leading-relaxed",children:"I agree to the privacy policy and understand how my data will be collected, used, and protected in accordance with applicable privacy laws."})]})}),E.jsx("button",{onClick:r,disabled:!e,className:`w-full py-3 rounded-lg font-medium transition-all duration-300 ${e?"bg-teal-600 hover:bg-teal-500 text-white shadow-lg hover:shadow-xl transform hover:scale-[1.02]":"bg-gray-600 cursor-not-allowed text-gray-400"}`,children:"Continue"})]})})},iN=()=>{const[r,e]=pe.useState([]),[n,s]=pe.useState(!0),[l,c]=pe.useState("week");pe.useEffect(()=>{(async()=>{if(nn.currentUser)try{s(!0);const y=l==="week"?7:30,b=new Date;b.setDate(b.getDate()-y);const S=Th(Bl(Hl,"users",nn.currentUser.uid,"journals"),VI("timestamp",">=",nt.fromDate(b)),wh("timestamp","desc")),z=(await jI(S)).docs.map(W=>{const J=W.data();return{date:J.timestamp?.toDate()?.toLocaleDateString()||"Unknown",mood:J.mood,sentiment:J.sentiment,score:J.score||0,isCrisis:J.isCrisis||!1}});e(z)}catch(y){console.error("Error fetching trend data:",y)}finally{s(!1)}})()},[l]);const f=r.length>0?r.reduce((p,y)=>p+y.score,0)/r.length:0,g=p=>({Happy:"bg-green-900/30 text-green-400 border-green-700",Sad:"bg-blue-900/30 text-blue-400 border-blue-700",Neutral:"bg-gray-700/30 text-gray-400 border-gray-600",Angry:"bg-red-900/30 text-red-400 border-red-700",Anxious:"bg-yellow-900/30 text-yellow-400 border-yellow-700"})[p]||"bg-gray-700/30 text-gray-400 border-gray-600";return E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-6 mb-6 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center",children:[E.jsx("span",{className:"mr-2",children:"📊"}),"Your Mood Trends"]}),E.jsxs("div",{className:"space-x-2",children:[E.jsx("button",{onClick:()=>c("week"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="week"?"bg-green-600 text-white shadow-lg shadow-green-600/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Week"}),E.jsx("button",{onClick:()=>c("month"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l==="month"?"bg-green-600 text-white shadow-lg shadow-green-600/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"This Month"})]})]}),n?E.jsxs("div",{className:"flex items-center justify-center py-8",children:[E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-green-400 border-t-transparent"}),E.jsx("span",{className:"ml-2 text-gray-400",children:"Loading trends..."})]}):r.length===0?E.jsxs("div",{className:"text-center py-8",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:"📈"}),E.jsx("p",{className:"text-gray-400 text-lg",children:"No data for selected period."}),E.jsx("p",{className:"text-gray-500 text-sm",children:"Journal more to see your mood trends!"})]}):E.jsxs("div",{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[E.jsxs("div",{className:"bg-gradient-to-r from-blue-900/40 to-blue-800/40 p-4 rounded-lg border border-blue-700",children:[E.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-1",children:"Total Entries"}),E.jsx("p",{className:"text-2xl font-bold text-blue-300",children:r.length})]}),E.jsxs("div",{className:"bg-gradient-to-r from-green-900/40 to-green-800/40 p-4 rounded-lg border border-green-700",children:[E.jsx("h4",{className:"text-sm font-semibold text-green-400 mb-1",children:"Average Sentiment"}),E.jsxs("p",{className:"text-2xl font-bold text-green-300",children:[f>0?"+":"",f.toFixed(2)]}),E.jsx("p",{className:"text-xs text-green-400",children:f>.3?"😊 Positive":f<-.3?"😔 Needs attention":"😐 Neutral"})]}),E.jsxs("div",{className:"bg-gradient-to-r from-purple-900/40 to-purple-800/40 p-4 rounded-lg border border-purple-700",children:[E.jsx("h4",{className:"text-sm font-semibold text-purple-400 mb-1",children:"Crisis Events"}),E.jsx("p",{className:"text-2xl font-bold text-purple-300",children:r.filter(p=>p.isCrisis).length})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Daily Breakdown"}),r.map((p,y)=>E.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg border border-gray-600",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("span",{className:"text-sm text-gray-400 w-20",children:p.date}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${g(p.mood)}`,children:p.mood}),p.isCrisis&&E.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded-full text-xs animate-pulse",children:"🆘 Crisis"})]}),E.jsx("div",{className:"flex items-center space-x-2",children:E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx("div",{className:`w-16 h-3 rounded-full ${p.score>.3?"bg-green-500":p.score<-.3?"bg-red-500":"bg-yellow-500"}`}),E.jsxs("span",{className:"text-xs text-gray-400 w-12",children:[p.score>0?"+":"",p.score.toFixed(2)]})]})})]},y))]})]})]})},rN=({onMoodChange:r})=>{const[e,n]=pe.useState(""),[s,l]=pe.useState(""),[c,f]=pe.useState(""),[g,p]=pe.useState(!1),[y,b]=pe.useState([]),[S,D]=pe.useState(null),[z,W]=pe.useState("response"),[J,Z]=pe.useState(!1),[le,he]=pe.useState(0),[ce,Ce]=pe.useState(!1),[re,ve]=pe.useState("Neutral");pe.useEffect(()=>{let ne;return ce&&J&&z==="response"&&(ne=setInterval(()=>{he(Ve=>(Ve+1)%4)},4e3)),()=>{ne&&clearInterval(ne)}},[ce,J,z]),pe.useEffect(()=>{N()},[]);const N=async()=>{if(nn.currentUser)try{const ne=Bl(Hl,"users",nn.currentUser.uid,"journals"),Ve=Th(ne,wh("timestamp","desc"));return mg(Ve,te=>{const fe=te.docs.map(Re=>({id:Re.id,...Re.data()}));b(fe)})}catch(ne){console.error("Error loading entries:",ne)}},A=()=>{p(!1),f("")},I=async()=>{if(!nn.currentUser){alert("Please log in first!");return}if(!e||!s.trim()){alert("Please select a mood and write something.");return}try{p(!0),f("🤖 Analyzing your thoughts and generating personalized response..."),Z(!1);const ne=e,Ve=s;ve(ne),await new Promise($=>setTimeout($,2e3));const G={Happy:`🌟 **Wonderful to see you feeling positive!** Your joy is contagious and inspiring!

🎮 **Try This Game:** Write down 3 specific things that made you smile today, then share one with someone you care about!

🏃 **Wellness Boost:** Do a little victory dance for 30 seconds - celebrate your happiness!

✨ Keep nurturing this beautiful energy! You deserve all this joy! 🌈💫`,Sad:`💙 **I hear you, and your feelings are completely valid.** You're not alone in this journey.

🎮 **Gentle Activity:** Create a comfort kit - gather 3 small things that bring you peace

🏃 **Healing Exercise:** Take 5 slow, deep breaths. With each exhale, imagine releasing sadness.

🌤️ You're stronger than you know. Brighter days are coming. 🤗💪`,Anxious:`🫁 **Anxiety is tough, but you're tougher.** Let's ground you in this moment.

🎮 **Grounding Game:** Look around and name: 5 things you can SEE, 4 you can HEAR, 3 you can TOUCH, 2 you can SMELL, 1 you can TASTE

🏃 **Calm Breathing:** Breathe in for 4 counts, hold for 4, out for 6. Repeat 5 times.

📦 You've got this! One breath at a time. 💪✨`,Angry:`🔥 **Your anger is valid** - it shows you care deeply. Let's channel this energy positively.

🎮 **Release Game:** Write your frustration on paper, then safely tear it up or crumple it.

🏃 **Power Move:** Do 15 jumping jacks or punch the air 20 times. Transform that fire into strength!

⚡ You have the power to turn this energy into positive change! 💪🌟`,Neutral:`🌱 **Reflection time is precious** - you're taking excellent care of your mental wellness.

🎮 **Awareness Game:** Set a 3-minute timer and notice everything around you without judgment.

🏃 **Energy Spark:** Do 5 different stretches or make silly faces in the mirror.

✨ Sometimes neutral is exactly what we need. You're doing great! 😊🌿`},te=G[ne]||G.Neutral,Re={Happy:.8,Neutral:.1,Sad:-.6,Anxious:-.4,Angry:-.3}[ne]||0,C=Re>.2?"positive":Re<-.2?"negative":"neutral";await zI(Bl(Hl,"users",nn.currentUser.uid,"journals"),{mood:ne,text:Ve,sentiment:C,aiResponse:te,score:Re,magnitude:Math.abs(Re),isCrisis:Re<-.5,timestamp:HI()}),f(te),Z(!0),W("response"),he(0),setTimeout(()=>{Ce(!0)},3e3),n(""),l(""),r&&r(ne)}catch(ne){console.error("Error:",ne),f(`✅ **Your ${e.toLowerCase()} entry has been recorded!** Thank you for sharing with Mind Mosaic.

💙 Keep taking care of your mental wellness! ✨🌟`),Z(!0),Ce(!1),n(""),l("")}finally{p(!1)}},V=(ne,Ve)=>{const G={Happy:[`🎯 **AI is analyzing your happiness patterns...**

✨ I notice you're in a fantastic mood! Here's what I recommend:

• **Amplify Joy**: Share your good news with 2 people today
• **Gratitude Practice**: Write 5 specific things you're grateful for
• **Energy Boost**: Dance to your favorite song right now

💫 Your positive energy is contagious - spread it!`,`🧠 **Real-time mood enhancement suggestions:**

🌟 Based on your happy state, try these activities:

• **Creative Expression**: Start a new project or hobby
• **Social Connection**: Plan something fun with friends
• **Mindful Savoring**: Take 5 minutes to fully enjoy this feeling

🎨 Happiness is best when shared and celebrated!`,`💎 **Advanced wellness recommendation:**

🌈 Your joy levels are optimal! Let's maintain this:

• **Victory Journal**: Record what led to this happiness
• **Pay It Forward**: Do one random act of kindness
• **Future Planning**: Set a positive goal while motivated

✨ Capture this energy for future difficult days!`,`🚀 **AI wellness boost activated:**

🎊 Perfect time for growth activities:

• **Skill Building**: Learn something new for 15 minutes
• **Relationship Building**: Send appreciation messages
• **Self-Care Upgrade**: Treat yourself to something special

🌟 Happiness is your superpower - use it wisely!`],Sad:[`🫂 **AI comfort protocol activated...**

💙 I'm here with you through this difficult moment:

• **Gentle Self-Care**: Wrap yourself in something soft
• **Emotional Release**: It's okay to cry - tears are healing
• **Support Connection**: Reach out to someone who cares

🌤️ This feeling will pass, and you're not alone.`,`🌊 **Healing suggestions for your current state:**

💚 Let's focus on gentle recovery:

• **Nature Therapy**: Step outside for 5 minutes if possible
• **Comfort Ritual**: Make warm tea or take a bath
• **Memory Palace**: Look at photos that bring warmth

🤗 Small acts of self-love add up to big healing.`,`🕯️ **Compassionate AI guidance:**

🌸 Your sadness is valid and temporary:

• **Body Care**: Do gentle stretches or yoga
• **Creative Outlet**: Draw, write, or listen to music
• **Professional Help**: Consider reaching out if this persists

💙 You deserve support and will feel better again.`,`🌱 **Gentle recovery recommendations:**

🦋 Focus on tiny steps forward:

• **Breathing Space**: Try box breathing for 2 minutes
• **Nourishment**: Eat something healthy and satisfying
• **Future Self**: Write a kind note to read tomorrow

🌻 Every small step counts toward feeling better.`],Anxious:[`🧘 **AI anxiety management activated...**

🌊 Let's calm your nervous system together:

• **Immediate Relief**: Try 4-7-8 breathing right now
• **Grounding Technique**: Name 5 blue objects you can see
• **Body Release**: Tense and release each muscle group

🕯️ You are safe in this moment. Focus on right now.`,`📱 **Real-time anxiety intervention:**

🌿 Your mind is racing - let's slow it down:

• **Thought Stopping**: Say "STOP" out loud, then breathe
• **Reality Check**: What's actually happening right now?
• **Comfort Items**: Hold something soft or familiar

💚 Anxiety feels big, but you are bigger. You can handle this.`,`🎯 **Targeted calm-down protocol:**

🌀 Breaking the anxiety cycle:

• **Cold Water**: Splash cold water on your wrists
• **Gentle Movement**: Do slow shoulder rolls
• **Positive Mantras**: "I am safe, this will pass"

🦋 Your anxiety is temporary. Your strength is permanent.`,`⚡ **Advanced anxiety relief:**

🌸 Sophisticated calming techniques:

• **Visualization**: Imagine your calm, safe place
• **Progressive Relaxation**: Start with your toes, work up
• **Future Self**: Remember times you overcame anxiety

🌟 You have survived 100% of your anxious moments before.`],Angry:[`💪 **AI anger transformation mode...**

🔥 Your anger has power - let's direct it wisely:

• **Physical Release**: Do 20 jumping jacks or push-ups
• **Ice Therapy**: Hold ice cubes or drink cold water
• **Power Breathing**: Inhale strength, exhale frustration

⚡ Transform this fire into positive change!`,`🎯 **Intelligent anger management:**

🌋 Channel this energy constructively:

• **Problem Solving**: What can you actually control here?
• **Perspective Shift**: How will this matter in 5 years?
• **Action Planning**: What positive step can you take?

🔨 Use anger as fuel for positive action, not destruction.`,`🧠 **Advanced emotional regulation:**

❄️ Cooling down your system:

• **Cognitive Reframe**: Find one different way to view this
• **Empathy Exercise**: Try to understand the other perspective
• **Boundary Setting**: What needs to change going forward?

🌊 Wisdom comes from managing emotions, not eliminating them.`,`🚀 **Anger-to-energy conversion:**

💎 Transform rage into results:

• **Goal Setting**: What do you want to achieve?
• **Energy Redirect**: Clean, organize, or create something
• **Communication Plan**: How will you address this constructively?

⭐ Great leaders use anger as fuel for positive change.`],Neutral:[`⚖️ **AI balance optimization...**

🌱 Neutral is a perfect launching pad:

• **Exploration**: Try something slightly new today
• **Mindfulness**: Notice small details you usually miss
• **Intention Setting**: Choose one meaningful focus

✨ Balance is not boring - it's the foundation for growth.`,`🔍 **Curiosity enhancement protocol:**

🎯 Make neutral moments meaningful:

• **Learning**: Read about something that interests you
• **Connection**: Have a deeper conversation with someone
• **Creativity**: Doodle, write, or brainstorm ideas

🌟 Neutral times are perfect for gentle self-discovery.`,`🎨 **Gentle energy activation:**

🌈 Add color to your neutral day:

• **Music Exploration**: Listen to a new genre
• **Movement**: Try gentle yoga or stretching
• **Gratitude**: Notice 3 things working well in your life

💫 Sometimes the best days start quietly.`,`🌊 **Peaceful productivity mode:**

🕯️ Use this calm energy wisely:

• **Organization**: Tidy one small space mindfully
• **Planning**: Set intentions for tomorrow
• **Self-Care**: Do something nurturing for yourself

🌸 Neutral days are gifts - embrace the peace.`]};return G[Ve]?.[ne]||G.Neutral[ne]},O=(ne,Ve)=>{const G={daily:{Happy:`📅 **Daily Wellness for Your Happy Mood:**

• **Morning**: Start with gratitude journaling - write 3 wins from yesterday
• **Midday**: Share your positive energy - compliment a colleague or friend
• **Evening**: Practice loving-kindness meditation for 5 minutes
• **Bonus**: Create a "joy jar" - write happy moments on paper slips

✨ Your happiness is contagious - spread it wisely!`,Sad:`📅 **Daily Wellness for Healing:**

• **Morning**: Gentle self-care routine - warm shower, soft music, nourishing breakfast
• **Midday**: Nature connection - step outside, feel sunlight, breathe fresh air
• **Evening**: Comfort activities - cozy blanket, herbal tea, favorite book
• **Bonus**: Call someone who makes you feel loved and supported

🤗 Be patient with yourself - healing takes time.`,Anxious:`📅 **Daily Wellness for Calming Anxiety:**

• **Morning**: 5-minute breathing meditation before starting your day
• **Midday**: Grounding break - name 5 things you see, 4 you hear, 3 you touch
• **Evening**: Write worries on paper, then fold and put away
• **Bonus**: Create a "calm kit" - essential oils, stress ball, soothing playlist

📦 You have tools to find your center anytime.`,Angry:`📅 **Daily Wellness for Transforming Anger:**

• **Morning**: Physical release - do jumping jacks or punch pillows
• **Midday**: Perspective practice - write situation from 3 different viewpoints
• **Evening**: Cooling activities - cold shower, ice water, calming music
• **Bonus**: Channel energy into something productive - cleaning, organizing

⚡ Your fire can fuel positive change when directed wisely.`,Neutral:`📅 **Daily Wellness for Balance:**

• **Morning**: Set one small, meaningful intention for the day
• **Midday**: Mindful moment - eat lunch without distractions
• **Evening**: Reflect on small wins and moments of beauty
• **Bonus**: Try something slightly new - different route, new song, new food

🌱 Neutral days are perfect for gentle growth and self-discovery.`},mood:{Happy:`🎭 **Mood-Specific Activities:**

🎯 **Energy Boosters:**
• Dance to 3 favorite songs
• Call someone to share good news
• Start a creative project
• Plan something fun for this week

🌟 **Happiness Amplifiers:**
• Practice "savoring" - fully enjoy this feeling
• Document this mood in photos/journal
• Do acts of kindness for others
• Set positive goals while motivated`,Sad:`🎭 **Mood-Specific Activities:**

🫂 **Comfort Zone:**
• Wrap yourself in soft blankets
• Listen to understanding music
• Look through happy photos
• Practice self-compassion phrases

💙 **Gentle Healing:**
• Take a warm, relaxing bath
• Write feelings in a journal
• Watch uplifting movies/videos
• Connect with supportive people`,Anxious:`🎭 **Mood-Specific Activities:**

🧘 **Calming Techniques:**
• 4-7-8 breathing (inhale 4, hold 7, exhale 8)
• Progressive muscle relaxation
• Grounding with 5-4-3-2-1 method
• Listen to nature sounds

🌊 **Anxiety Soothers:**
• Organize something small
• Color or draw mindfully
• Gentle stretching or yoga
• Repeat calming affirmations`,Angry:`🎭 **Mood-Specific Activities:**

💪 **Physical Release:**
• High-intensity exercise
• Punch pillows or scream in car
• Cold shower or ice on wrists
• Vigorous cleaning/organizing

🧠 **Mental Processing:**
• Write angry letter (don't send)
• Talk to neutral friend
• Practice perspective shifts
• Use "I feel" statements`,Neutral:`🎭 **Mood-Specific Activities:**

🎯 **Exploration:**
• Try meditation apps
• Explore new music/podcasts
• Take mindful walk
• Practice gratitude exercises

⚡ **Gentle Energizers:**
• Light stretching routine
• Organize living space
• Learn something new online
• Connect with friends casually`},quick:{Happy:`⚡ **Quick 5-Minute Boosters:**

• **Victory Dance**: Put on energetic music and dance
• **Gratitude Speed Round**: List 10 things you're grateful for
• **Smile Meditation**: Hold a genuine smile for 2 minutes
• **Joy Texting**: Send 3 positive messages to friends
• **Happy Memory**: Relive a favorite moment in detail`,Sad:`⚡ **Quick 5-Minute Comfort:**

• **Self Hug**: Wrap arms around yourself, rock gently
• **Comfort Breathing**: Slow, deep belly breaths
• **Kind Words**: Say 5 compassionate things to yourself
• **Soothing Sounds**: Play calming music or nature sounds
• **Gentle Movement**: Slow, caring stretches`,Anxious:`⚡ **Quick 5-Minute Calm:**

• **Box Breathing**: 4 counts in, hold, out, hold
• **5-4-3-2-1 Grounding**: Use all your senses
• **Worry Time**: Set timer, worry for 5 min only
• **Calm Visualization**: Imagine peaceful place
• **Anxiety Shaking**: Literally shake out the tension`,Angry:`⚡ **Quick 5-Minute Release:**

• **Anger Push-ups**: Do as many as you can
• **Ice Therapy**: Hold ice cubes or cold water
• **Loud Release**: Scream into pillow
• **Anger Writing**: Furiously scribble feelings
• **Count & Cool**: Count backwards from 100`,Neutral:`⚡ **Quick 5-Minute Spark:**

• **Energy Shake**: Shake whole body for 30 seconds
• **Intention Setting**: Choose one focus for today
• **Mindful Breathing**: Just focus on breath
• **Gentle Stretch**: Reach up, touch toes
• **Beauty Hunt**: Find 3 beautiful things nearby`}};return G[ne][Ve]||G[ne].Neutral},P=ne=>{n(ne),r&&r(ne)},R=ne=>{switch(ne){case"positive":return"bg-green-500/20 text-green-300 border-green-500/30";case"negative":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"}};return E.jsxs("div",{className:"space-y-8 p-4",children:[E.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/20 rounded-3xl shadow-2xl p-8 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-blue-500/10 to-green-500/10 rounded-3xl"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center",children:[E.jsx("span",{className:"mr-3",children:"🧠"}),"How are you feeling today?"]}),E.jsx("p",{className:"text-white/70 mb-8 text-lg",children:"Take a moment to reflect on your emotions and thoughts 💭❤️"}),E.jsxs("div",{className:"mb-8",children:[E.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[E.jsx("span",{className:"mr-3",children:"🎭"}),"Select your mood"]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{mood:"Happy",emoji:"😊",gradient:"from-green-400 to-emerald-500"},{mood:"Sad",emoji:"😔",gradient:"from-blue-400 to-indigo-500"},{mood:"Neutral",emoji:"😐",gradient:"from-gray-400 to-slate-500"},{mood:"Angry",emoji:"😠",gradient:"from-red-400 to-rose-500"},{mood:"Anxious",emoji:"😰",gradient:"from-yellow-400 to-orange-500"}].map(({mood:ne,emoji:Ve,gradient:G})=>E.jsxs("button",{onClick:()=>P(ne),className:`p-6 rounded-2xl text-center transition-all duration-500 transform hover:scale-105 hover:-translate-y-1 backdrop-blur-lg border ${e===ne?`bg-gradient-to-br ${G} text-white shadow-2xl border-white/30 scale-105`:"bg-white/10 text-white/80 border-white/20 hover:bg-white/20"}`,children:[E.jsx("span",{className:"text-4xl block mb-3",children:Ve}),E.jsx("span",{className:"text-sm font-medium",children:ne})]},ne))})]}),E.jsxs("div",{className:"mb-8",children:[E.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[E.jsx("span",{className:"mr-3",children:"🍃"}),"Write your thoughts"]}),E.jsx("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-1",children:E.jsx("textarea",{value:s,onChange:ne=>l(ne.target.value),placeholder:"What's on your mind? Share your thoughts, feelings, or what happened today...",className:"w-full h-40 p-6 bg-transparent text-white placeholder-white/50 resize-none focus:outline-none text-lg leading-relaxed",maxLength:1e3})}),E.jsxs("div",{className:"flex justify-between items-center mt-4",children:[E.jsxs("span",{className:"text-white/60 text-sm",children:[s.length," characters ",e&&E.jsxs("span",{className:"ml-4",children:["| Mood: ",e," ",e==="Happy"?"😊":e==="Sad"?"😔":e==="Anxious"?"😰":e==="Angry"?"😠":"😐"]})]}),E.jsxs("span",{className:"text-white/40 text-xs",children:[s.length,"/1000"]})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:I,disabled:g||!e||!s.trim(),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 disabled:from-gray-500 disabled:to-gray-600 text-white font-semibold py-4 px-8 rounded-2xl transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-2xl disabled:cursor-not-allowed backdrop-blur-lg border border-white/20",children:g?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"animate-spin mr-3 text-xl",children:"⏳"}),"Processing..."]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"mr-3 text-xl",children:"📝"}),"Save Entry"]})}),g&&E.jsxs("button",{onClick:A,className:"bg-red-500/80 hover:bg-red-400 text-white font-semibold py-4 px-6 rounded-2xl transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-2xl backdrop-blur-lg border border-red-300/30",children:[E.jsx("span",{className:"mr-2",children:"🛑"}),"Stop"]})]})]})]}),c&&E.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/20 rounded-3xl shadow-2xl p-8 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 via-blue-500/10 to-purple-500/10 rounded-3xl"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[E.jsx("span",{className:"mr-3",children:"🤖"}),"AI Wellness Support"]}),ce&&z==="response"&&E.jsxs("div",{className:"flex items-center text-green-400 text-sm",children:[E.jsx("span",{className:"animate-pulse mr-2",children:"●"}),"Real-time suggestions"]})]}),J&&E.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[E.jsxs("button",{onClick:()=>{W("response"),Ce(!0),he(0)},className:`px-4 py-2 rounded-2xl font-medium transition-all duration-300 flex items-center ${z==="response"?"bg-green-500 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[E.jsx("span",{className:"mr-2",children:"🤖"}),"AI Live",ce&&z==="response"&&E.jsx("span",{className:"ml-2 animate-pulse text-xs",children:"●"})]}),E.jsx("button",{onClick:()=>{W("daily"),Ce(!1)},className:`px-4 py-2 rounded-2xl font-medium transition-all duration-300 ${z==="daily"?"bg-green-500 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"📅 Daily Routine"}),E.jsx("button",{onClick:()=>{W("mood"),Ce(!1)},className:`px-4 py-2 rounded-2xl font-medium transition-all duration-300 ${z==="mood"?"bg-green-500 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"🎭 Mood-Based"}),E.jsx("button",{onClick:()=>{W("quick"),Ce(!1)},className:`px-4 py-2 rounded-2xl font-medium transition-all duration-300 ${z==="quick"?"bg-green-500 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:"⚡ Quick Fixes"})]}),E.jsxs("div",{className:"backdrop-blur-lg bg-green-500/10 border border-green-400/30 rounded-2xl p-6 relative",children:[E.jsx("div",{className:`transition-all duration-500 ${ce&&z==="response"?"animate-pulse":""}`,children:E.jsx("p",{className:"text-green-100 leading-relaxed whitespace-pre-line text-lg",children:z==="response"&&ce?V(le,re):z==="response"?c:O(z,re)})}),ce&&z==="response"&&E.jsxs("div",{className:"absolute top-4 right-4 bg-green-500/20 rounded-full px-3 py-1 text-xs text-green-300",children:[le+1,"/4"]})]}),J&&E.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[z==="response"&&E.jsx("button",{onClick:()=>Ce(!ce),className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${ce?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"}`,children:ce?"⏸️ Pause Auto-Suggestions":"▶️ Resume Auto-Suggestions"}),z!=="response"&&E.jsx("button",{onClick:()=>{W("response"),Ce(!0)},className:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-6 rounded-xl transition-all duration-300",children:"← Back to AI Live"})]})]})]}),E.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/20 rounded-3xl shadow-2xl p-8 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-3xl"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[E.jsx("span",{className:"mr-3",children:"📚"}),"Previous Entries (",y.length,")"]}),E.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:y.length>0?y.map(ne=>E.jsxs("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-2xl p-6",children:[E.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>D(S===ne.id?null:ne.id),children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("span",{className:"text-3xl",children:ne.mood==="Happy"?"😊":ne.mood==="Sad"?"😔":ne.mood==="Anxious"?"😰":ne.mood==="Angry"?"😠":"😐"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-white font-semibold text-lg",children:ne.mood}),E.jsxs("p",{className:"text-white/60 text-sm",children:[ne.timestamp?.toDate().toLocaleDateString()," at"," ",ne.timestamp?.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${R(ne.sentiment)}`,children:[ne.sentiment," (",ne.score?.toFixed(1),")"]}),E.jsx("button",{className:"text-white/60 hover:text-white text-xl",children:S===ne.id?"▼":"▶"})]})]}),S===ne.id&&E.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h5",{className:"text-white font-medium mb-3",children:"Your Thoughts:"}),E.jsxs("p",{className:"text-white/80 leading-relaxed backdrop-blur-lg bg-white/5 p-4 rounded-xl border border-white/10",children:['"',ne.text,'"']})]}),E.jsxs("div",{className:"backdrop-blur-lg bg-green-500/10 border border-green-400/30 rounded-xl p-4",children:[E.jsxs("h5",{className:"text-green-300 font-medium mb-3 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"🤖"}),"AI Support:"]}),E.jsx("p",{className:"text-green-100 text-sm leading-relaxed whitespace-pre-line",children:ne.aiResponse})]}),ne.isCrisis&&E.jsxs("div",{className:"mt-4 backdrop-blur-lg bg-red-500/10 border border-red-400/30 rounded-xl p-4",children:[E.jsx("h5",{className:"text-red-300 font-medium mb-2",children:"⚠️ Support Resources:"}),E.jsx("p",{className:"text-red-100 text-sm",children:"Need immediate support? Call 988 (Crisis Lifeline) or text HOME to 741741."})]})]})]},ne.id)):E.jsxs("div",{className:"text-center py-12",children:[E.jsx("span",{className:"text-8xl block mb-6",children:"📖"}),E.jsx("p",{className:"text-white/70 text-xl mb-2",children:"No entries yet"}),E.jsx("p",{className:"text-white/50",children:"Your wellness journey starts with your first entry above!"})]})})]})]})]})},sN=({journals:r})=>{const[e,n]=pe.useState([]),[s,l]=pe.useState("all"),c=[{id:"1",title:"Deep Breathing Exercise",description:"Practice 4-7-8 breathing technique to reduce anxiety and promote calm",icon:"🫁",category:"breathing",difficulty:"easy",duration:"5 min"},{id:"2",title:"Gentle Yoga Flow",description:"Light stretching and movement to release tension and improve mood",icon:"🧘",category:"movement",difficulty:"easy",duration:"15 min"},{id:"3",title:"Gratitude Meditation",description:"Focus on three things you're grateful for to shift perspective",icon:"🙏",category:"mindfulness",difficulty:"easy",duration:"10 min"},{id:"4",title:"Connect with a Friend",description:"Reach out to someone you care about for social support",icon:"📞",category:"social",difficulty:"medium",duration:"20 min"},{id:"5",title:"Creative Expression",description:"Draw, write, or create something to process emotions",icon:"🎨",category:"creative",difficulty:"medium",duration:"30 min"},{id:"6",title:"Progressive Muscle Relaxation",description:"Systematically tense and relax muscle groups for stress relief",icon:"💪",category:"self-care",difficulty:"medium",duration:"20 min"},{id:"7",title:"Nature Walk",description:"Spend time outdoors to boost mood and reduce stress",icon:"🌳",category:"movement",difficulty:"easy",duration:"25 min"},{id:"8",title:"Mindful Journaling",description:"Write about your thoughts and feelings with non-judgmental awareness",icon:"📝",category:"mindfulness",difficulty:"medium",duration:"15 min"}];pe.useEffect(()=>{const b=r.slice(-7).reduce((D,z)=>(D[z.mood]=(D[z.mood]||0)+1,D),{});let S=[...c];(b.stressed>2||b.anxious>2)&&(S=S.sort((D,z)=>D.category==="breathing"||D.category==="mindfulness"?-1:z.category==="breathing"||z.category==="mindfulness"?1:0)),(b.sad>2||b.lonely>1)&&(S=S.sort((D,z)=>D.category==="social"||D.category==="creative"?-1:z.category==="social"||z.category==="creative"?1:0)),n(S)},[r]);const f=[{value:"all",label:"All",icon:"🌟"},{value:"breathing",label:"Breathing",icon:"🫁"},{value:"movement",label:"Movement",icon:"🏃"},{value:"mindfulness",label:"Mindfulness",icon:"🧘"},{value:"social",label:"Social",icon:"👥"},{value:"creative",label:"Creative",icon:"🎨"},{value:"self-care",label:"Self-Care",icon:"💆"}],g=s==="all"?e:e.filter(y=>y.category===s),p=y=>{switch(y){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"advanced":return"text-red-400";default:return"text-gray-400"}};return E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700 mb-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"💡 Wellness Suggestions"}),E.jsx("div",{className:"text-sm text-gray-400",children:"Personalized for your recent mood patterns"})]}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:f.map(y=>E.jsxs("button",{onClick:()=>l(y.value),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${s===y.value?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[y.icon," ",y.label]},y.value))}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>E.jsx("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors cursor-pointer border border-gray-600 hover:border-purple-500",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"text-2xl",children:y.icon}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"font-semibold text-white mb-1",children:y.title}),E.jsx("p",{className:"text-gray-300 text-sm mb-3",children:y.description}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs text-gray-400",children:y.duration}),E.jsx("span",{className:`text-xs font-medium ${p(y.difficulty)}`,children:y.difficulty})]})]})]})},y.id))}),g.length===0&&E.jsxs("div",{className:"text-center py-8 text-gray-400",children:[E.jsx("div",{className:"text-3xl mb-2",children:"🔍"}),E.jsx("p",{children:"No suggestions found for this category."})]}),E.jsx("div",{className:"mt-6 p-3 bg-gray-900 rounded-lg border border-gray-600",children:E.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💭 These are general wellness suggestions. Please consult a healthcare professional for personalized advice."})})]})},aN=({journals:r,currentMood:e})=>{const[n,s]=pe.useState([]),[l,c]=pe.useState(!1),[f,g]=pe.useState(0),[p,y]=pe.useState(0),[b,S]=pe.useState(!1);pe.useEffect(()=>{D()},[r,e]);const D=()=>{const re=r.slice(0,5).map(A=>A.mood),ve=r.reduce((A,I)=>A+(I.score||0),0)/r.length;let N=[];N.push({title:"Center Yourself",description:"Ground yourself in the present moment",duration:30,instructions:["Sit comfortably with feet flat on the floor","Close your eyes or soften your gaze","Take three deep, natural breaths","Notice how your body feels right now"],icon:"🌸",type:"mindfulness"}),e==="Anxious"||re.filter(A=>A==="Anxious").length>2?N.push({title:"Calming Breath",description:"Regulate your nervous system",duration:90,instructions:["Breathe in slowly for 4 counts","Hold your breath for 4 counts","Exhale slowly for 8 counts","Repeat this pattern until the timer ends","Notice how your body relaxes with each exhale"],icon:"🫁",type:"breathing"}):e==="Sad"||ve<-.3?N.push({title:"Self-Compassion",description:"Offer yourself kindness",duration:90,instructions:["Place your hand on your heart","Feel the warmth and gentle pressure","Say silently: 'This is a moment of difficulty'","Say: 'Difficulty is part of life'","Say: 'May I be kind to myself in this moment'"],icon:"💝",type:"affirmation"}):e==="Angry"||re.includes("Angry")?N.push({title:"Release Tension",description:"Let go of physical stress",duration:90,instructions:["Clench your fists tightly for 5 seconds","Release and shake out your hands","Tense your shoulders, then drop them","Scrunch your face, then relax completely","Notice the contrast between tension and relaxation"],icon:"💪",type:"movement"}):N.push({title:"Gratitude Flow",description:"Appreciate this moment",duration:90,instructions:["Think of three things you're grateful for today","Let yourself really feel the appreciation","Include something about your body","Include something about a person in your life","Include something simple, like your next breath"],icon:"🙏",type:"affirmation"}),N.push({title:"Set Your Intention",description:"Carry this peace forward",duration:60,instructions:["Take a moment to notice how you feel now","Set a gentle intention for the rest of your day","It could be: 'I will be patient with myself'","Or: 'I will take things one step at a time'","Take three more conscious breaths","When ready, slowly open your eyes"],icon:"✨",type:"mindfulness"}),s(N)},z=()=>{c(!0),g(0),y(n[0]?.duration||0),S(!1)},W=()=>{S(!b)},J=()=>{c(!1),g(0),y(0),S(!1)},Z=()=>{if(f<n.length-1){const re=f+1;g(re),y(n[re].duration)}else c(!1),g(0)};pe.useEffect(()=>{let re;return l&&p>0&&!b&&(re=setInterval(()=>{y(ve=>ve<=1?(Z(),0):ve-1)},1e3)),()=>clearInterval(re)},[l,p,b,f]);const le=re=>{const ve=Math.floor(re/60),N=re%60;return`${ve}:${N.toString().padStart(2,"0")}`},he=()=>n.reduce((re,ve)=>re+ve.duration,0);if(!l)return E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-6 mb-6 backdrop-blur-sm",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"⏰"}),"Your 3-Minute Routine"]}),n.length>0?E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"text-gray-300 mb-6",children:["A personalized routine based on your recent mood patterns. Total time: ",Math.ceil(he()/60)," minutes."]}),E.jsx("div",{className:"space-y-3 mb-6",children:n.map((re,ve)=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700/30 rounded-lg",children:[E.jsx("span",{className:"text-2xl",children:re.icon}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h4",{className:"font-medium text-white",children:re.title}),E.jsx("p",{className:"text-sm text-gray-400",children:re.description})]}),E.jsx("span",{className:"text-xs text-green-400 bg-green-900/30 px-2 py-1 rounded",children:le(re.duration)})]},ve))}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:z,className:"py-3 px-8 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-400 hover:to-teal-400 text-white rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Start Your Routine ▶️"})})]}):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:"🧘"}),E.jsx("p",{className:"text-gray-400 text-lg",children:"Add some journal entries to get your personalized routine!"})]})]});const ce=n[f],Ce=(he()-p-n.slice(f+1).reduce((re,ve)=>re+ve.duration,0))/he()*100;return E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-8 mb-6 backdrop-blur-sm",children:[E.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-6",children:E.jsx("div",{className:"bg-gradient-to-r from-green-400 to-teal-400 h-2 rounded-full transition-all duration-1000",style:{width:`${Ce}%`}})}),E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-8xl mb-4",children:ce?.icon}),E.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:ce?.title}),E.jsx("p",{className:"text-gray-300 text-lg mb-4",children:ce?.description}),E.jsx("div",{className:"text-6xl font-mono text-green-400 mb-6",children:le(p)}),E.jsxs("p",{className:"text-gray-400",children:["Step ",f+1," of ",n.length]})]}),E.jsx("div",{className:"bg-gray-700/30 rounded-lg p-6 mb-8",children:E.jsx("ul",{className:"space-y-3",children:ce?.instructions.map((re,ve)=>E.jsxs("li",{className:"flex items-start space-x-3",children:[E.jsx("span",{className:"text-green-400 mt-1",children:"•"}),E.jsx("span",{className:"text-gray-300 leading-relaxed",children:re})]},ve))})}),E.jsxs("div",{className:"flex justify-center space-x-4",children:[E.jsx("button",{onClick:W,className:"py-2 px-6 bg-gray-600 hover:bg-gray-500 text-white rounded-lg font-medium transition-colors",children:b?"▶️ Resume":"⏸️ Pause"}),E.jsx("button",{onClick:Z,className:"py-2 px-6 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors",children:"Next Step ⏭️"}),E.jsx("button",{onClick:J,className:"py-2 px-6 bg-red-600 hover:bg-red-500 text-white rounded-lg font-medium transition-colors",children:"Stop ⏹️"})]})]})},oN=()=>{const[r,e]=pe.useState("all"),[n,s]=pe.useState(null),l=[{id:"box-breathing",title:"4-4-4-4 Box Breathing",description:"Square breathing pattern for instant calm and focus",duration:"5-10 minutes",difficulty:"beginner",category:"breathing",icon:"📦",benefits:["Reduces anxiety","Improves focus","Balances nervous system"],instructions:["Sit comfortably with straight spine","Breathe in for 4 counts","Hold for 4 counts","Exhale for 4 counts","Hold empty for 4 counts","Repeat for duration"]},{id:"body-scan",title:"Progressive Body Scan",description:"Systematic relaxation of every body part",duration:"10-20 minutes",difficulty:"beginner",category:"meditation",icon:"🫧",benefits:["Deep relaxation","Body awareness","Stress relief"],instructions:["Lie down comfortably","Start with your toes","Notice sensations without judgment","Slowly move attention up your body","Relax each part as you go","End at the crown of your head"]},{id:"loving-kindness",title:"Loving-Kindness Meditation",description:"Cultivate compassion for yourself and others",duration:"10-15 minutes",difficulty:"intermediate",category:"meditation",icon:"💖",benefits:["Increases empathy","Reduces self-criticism","Improves relationships"],instructions:["Sit quietly and breathe naturally",'Start with yourself: "May I be happy"','Repeat: "May I be healthy, may I be at peace"',"Extend to loved ones","Include neutral people","Finally include difficult people"]},{id:"safe-place-visualization",title:"Safe Place Visualization",description:"Create a mental sanctuary for peace and comfort",duration:"8-12 minutes",difficulty:"beginner",category:"visualization",icon:"🏝️",benefits:["Emotional regulation","Anxiety relief","Inner peace"],instructions:["Close eyes and breathe deeply","Imagine a place where you feel completely safe","Use all five senses to build the scene","Notice colors, sounds, smells, textures","Feel the safety and peace in your body","Know you can return here anytime"]},{id:"mindful-observation",title:"5-4-3-2-1 Grounding",description:"Use your senses to anchor in the present moment",duration:"3-5 minutes",difficulty:"beginner",category:"focus",icon:"👁️",benefits:["Grounds anxiety","Improves presence","Quick reset"],instructions:["Notice 5 things you can see","Notice 4 things you can touch","Notice 3 things you can hear","Notice 2 things you can smell","Notice 1 thing you can taste","Take three conscious breaths"]},{id:"sleep-preparation",title:"Sleep Preparation Sequence",description:"Prepare mind and body for restful sleep",duration:"12-20 minutes",difficulty:"beginner",category:"sleep",icon:"🌙",benefits:["Better sleep quality","Reduced racing thoughts","Physical relaxation"],instructions:["Dim lights and get comfortable in bed","Do gentle neck and shoulder rolls","Practice 4-7-8 breathing (inhale 4, hold 7, exhale 8)","Tense and release each muscle group","Visualize your day melting away","Set intention for peaceful rest"]}],c=[{id:"all",name:"All Workouts",icon:"🧠"},{id:"breathing",name:"Breathing",icon:"🫁"},{id:"meditation",name:"Meditation",icon:"🧘"},{id:"visualization",name:"Visualization",icon:"💭"},{id:"focus",name:"Focus",icon:"🎯"},{id:"sleep",name:"Sleep",icon:"🌙"}],f=r==="all"?l:l.filter(p=>p.category===r),g=p=>{switch(p){case"beginner":return"text-green-400 bg-green-900/30";case"intermediate":return"text-yellow-400 bg-yellow-900/30";case"advanced":return"text-red-400 bg-red-900/30";default:return"text-gray-400 bg-gray-900/30"}};return n?E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-8 mb-6 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[E.jsx("span",{children:"←"}),E.jsx("span",{children:"Back to Workouts"})]}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g(n.difficulty)}`,children:n.difficulty})]}),E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-8xl mb-4",children:n.icon}),E.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:n.title}),E.jsx("p",{className:"text-gray-300 text-lg mb-4",children:n.description}),E.jsx("p",{className:"text-green-400 font-medium",children:n.duration})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Benefits"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:n.benefits.map((p,y)=>E.jsx("span",{className:"px-3 py-1 bg-blue-900/30 text-blue-300 rounded-full text-sm",children:p},y))})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Instructions"}),E.jsx("div",{className:"bg-gray-700/30 rounded-lg p-6",children:E.jsx("ol",{className:"space-y-3",children:n.instructions.map((p,y)=>E.jsxs("li",{className:"flex items-start space-x-3",children:[E.jsx("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mt-0.5",children:y+1}),E.jsx("span",{className:"text-gray-300 leading-relaxed",children:p})]},y))})})]}),E.jsx("div",{className:"text-center",children:E.jsx("button",{className:"py-3 px-8 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-400 hover:to-teal-400 text-white rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Start Workout ▶️"})})]}):E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl p-6 mb-6 backdrop-blur-sm",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"🧠"}),"Mind Workouts"]}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:c.map(p=>E.jsxs("button",{onClick:()=>e(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center space-x-2 ${r===p.id?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[E.jsx("span",{children:p.icon}),E.jsx("span",{children:p.name})]},p.id))}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>E.jsxs("div",{className:"bg-gradient-to-br from-gray-700/50 to-gray-600/50 border border-gray-600 rounded-xl p-6 hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>s(p),children:[E.jsxs("div",{className:"text-center mb-4",children:[E.jsx("span",{className:"text-5xl block mb-3",children:p.icon}),E.jsx("h4",{className:"font-semibold text-white text-lg mb-2",children:p.title}),E.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:p.description})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs text-green-400 bg-green-900/30 px-2 py-1 rounded-full",children:p.duration}),E.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g(p.difficulty)}`,children:p.difficulty})]}),E.jsx("div",{className:"pt-2",children:E.jsx("button",{className:"w-full text-green-400 hover:text-green-300 transition-colors text-sm font-medium border border-green-700 rounded-lg py-2 hover:bg-green-900/20",children:"Try This Workout →"})})]})]},p.id))})]})},lN=()=>{const[r,e]=pe.useState("Neutral"),[n,s]=pe.useState(null),[l,c]=pe.useState([]),[f]=pe.useState("In 4 hours");pe.useEffect(()=>{if(!nn.currentUser)return;const y=Bl(Hl,"users",nn.currentUser.uid,"journals"),b=Th(y,wh("timestamp","desc"),kI(5)),S=mg(b,D=>{const z=D.docs.map(W=>({id:W.id,...W.data()}));c(z),z.length>0&&(e(z[0].mood||"Neutral"),s(z[0].timestamp?.toDate()||new Date))});return()=>S()},[]);const g=y=>{switch(y.toLowerCase()){case"happy":return"😊";case"sad":return"😔";case"anxious":return"😰";case"angry":return"😠";default:return"😐"}},p=y=>{if(!y)return"Never";const S=new Date().getTime()-y.getTime(),D=Math.floor(S/(1e3*60)),z=Math.floor(D/60);return D<1?"Just now":D<60?`${D}m ago`:z<24?`${z}h ago`:y.toLocaleDateString()};return E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-6 shadow-xl",children:[E.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"📊"}),"Today's Mood"]}),E.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[E.jsx("span",{className:"text-4xl",children:g(r)}),E.jsxs("div",{children:[E.jsx("p",{className:"text-2xl font-bold text-white",children:r}),E.jsxs("p",{className:"text-sm text-gray-400",children:["Last updated: ",p(n)]})]})]})]}),E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-6 shadow-xl",children:[E.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"📝"}),"Recent Activity"]}),E.jsx("div",{className:"space-y-3",children:l.length>0?l.slice(0,3).map(y=>E.jsxs("div",{className:"text-sm text-gray-300 leading-relaxed",children:[y.mood," mood entry - ",p(y.timestamp?.toDate())]},y.id)):E.jsx("div",{className:"text-sm text-gray-400 italic",children:"Start journaling to see your activity here"})})]}),E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-6 shadow-xl",children:[E.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[E.jsx("span",{className:"mr-2",children:"⏰"}),"Next Check-in"]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-3xl font-bold text-green-400 mb-2",children:f}),E.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"We'll gently remind you to check in with yourself"}),E.jsx("button",{className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-sm transition-colors",children:"Check in now"})]})]})]})},uN=()=>E.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 shadow-xl mb-6",children:[E.jsx("h3",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Mental Wellness Chatbot Architecture"}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 border-2 border-blue-400 bg-transparent rounded"}),E.jsx("span",{className:"text-white font-medium",children:"Frontend"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 bg-pink-500 rounded-full"}),E.jsx("span",{className:"text-white font-medium",children:"Backend"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 bg-green-500 transform rotate-45"}),E.jsx("span",{className:"text-white font-medium",children:"Services"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 bg-gray-500 rounded-sm"}),E.jsx("span",{className:"text-white font-medium",children:"Storage"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full"}),E.jsx("span",{className:"text-white font-medium",children:"AI/ML"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-6 h-6 bg-purple-500",children:E.jsx("svg",{className:"w-full h-full text-white",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),E.jsx("span",{className:"text-white font-medium",children:"External"})]})]}),E.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[E.jsxs("svg",{className:"absolute inset-0 w-full h-full",style:{zIndex:1},children:[E.jsx("defs",{children:E.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:E.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),E.jsx("line",{x1:"15%",y1:"20%",x2:"50%",y2:"30%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"15%",y1:"35%",x2:"50%",y2:"30%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"60%",y1:"30%",x2:"30%",y2:"65%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"60%",y1:"30%",x2:"70%",y2:"65%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"60%",y1:"30%",x2:"85%",y2:"65%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"30%",y1:"75%",x2:"50%",y2:"85%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"30%",y1:"75%",x2:"15%",y2:"85%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),E.jsx("line",{x1:"85%",y1:"75%",x2:"85%",y2:"85%",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"})]}),E.jsxs("div",{className:"relative grid grid-cols-12 gap-4",style:{zIndex:2,minHeight:"500px"},children:[E.jsxs("div",{className:"col-span-3 row-start-2 flex flex-col space-y-4",children:[E.jsxs("div",{className:"border-2 border-blue-400 bg-gray-800 rounded-lg p-4 text-center shadow-lg",children:[E.jsx("div",{className:"text-2xl mb-2",children:"📱"}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"Mobile App"}),E.jsx("div",{className:"text-blue-400 text-xs",children:"Frontend"})]}),E.jsxs("div",{className:"border-2 border-blue-400 bg-gray-800 rounded-lg p-4 text-center shadow-lg",children:[E.jsx("div",{className:"text-2xl mb-2",children:"🌐"}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"React Frontend"}),E.jsx("div",{className:"text-blue-400 text-xs",children:"Frontend"})]})]}),E.jsx("div",{className:"col-span-3 col-start-6 row-start-3 flex justify-center",children:E.jsxs("div",{className:"bg-pink-500 rounded-full p-6 text-center shadow-lg w-32 h-32 flex flex-col items-center justify-center",children:[E.jsx("div",{className:"text-3xl mb-1",children:"⚙️"}),E.jsx("div",{className:"text-white font-semibold text-xs",children:"Backend API"}),E.jsx("div",{className:"text-white text-xs",children:"Server"})]})}),E.jsxs("div",{className:"col-span-12 row-start-6 grid grid-cols-3 gap-6",children:[E.jsx("div",{className:"bg-green-500 transform rotate-45 p-4 text-center shadow-lg w-24 h-24 mx-auto flex items-center justify-center",children:E.jsxs("div",{className:"transform -rotate-45",children:[E.jsx("div",{className:"text-xl",children:"🎭"}),E.jsx("div",{className:"text-white text-xs font-medium",children:"Emotion Engine"})]})}),E.jsx("div",{className:"bg-green-500 transform rotate-45 p-4 text-center shadow-lg w-24 h-24 mx-auto flex items-center justify-center",children:E.jsxs("div",{className:"transform -rotate-45",children:[E.jsx("div",{className:"text-xl",children:"🔔"}),E.jsx("div",{className:"text-white text-xs font-medium",children:"Notification"})]})}),E.jsx("div",{className:"bg-green-500 transform rotate-45 p-4 text-center shadow-lg w-24 h-24 mx-auto flex items-center justify-center",children:E.jsxs("div",{className:"transform -rotate-45",children:[E.jsx("div",{className:"text-xl",children:"📡"}),E.jsx("div",{className:"text-white text-xs font-medium",children:"Push Service"})]})})]}),E.jsxs("div",{className:"col-span-12 row-start-8 grid grid-cols-4 gap-6",children:[E.jsxs("div",{className:"bg-yellow-500 rounded-full p-6 text-center shadow-lg",children:[E.jsx("div",{className:"text-2xl mb-2",children:"🤖"}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"ML Models"}),E.jsx("div",{className:"text-white text-xs",children:"AI/ML"})]}),E.jsxs("div",{className:"bg-gray-500 rounded p-6 text-center shadow-lg",children:[E.jsx("div",{className:"text-2xl mb-2",children:"🗄️"}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"Database"}),E.jsx("div",{className:"text-white text-xs",children:"Storage"})]}),E.jsxs("div",{className:"bg-purple-500 text-center shadow-lg p-4 relative",children:[E.jsx("svg",{className:"w-full h-16 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"Crisis Support"}),E.jsx("div",{className:"text-white text-xs",children:"External"})]}),E.jsxs("div",{className:"bg-purple-500 text-center shadow-lg p-4 relative",children:[E.jsx("svg",{className:"w-full h-16 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),E.jsx("div",{className:"text-white font-semibold text-sm",children:"Push Service"}),E.jsx("div",{className:"text-white text-xs",children:"External"})]})]})]})]}),E.jsxs("div",{className:"mt-12 text-center",children:[E.jsx("h4",{className:"text-xl font-semibold text-white mb-4",children:"Data Flow Direction"}),E.jsx("div",{className:"text-gray-300 max-w-4xl mx-auto text-lg",children:E.jsx("strong",{children:"Frontend → Backend → Services → Storage/External"})}),E.jsx("div",{className:"text-sm text-gray-400 mt-4 max-w-3xl mx-auto leading-relaxed",children:"User interactions flow from mobile/web frontend through the backend API server, which processes requests using emotion recognition, notification, and push services, ultimately storing data and interfacing with external crisis support systems."})]})]});function cN(r){const e=nn.currentUser;if(!e)throw new Error("Not authenticated");const n=Th(Bl(Hl,"users",e.uid,"journals"),wh("timestamp","desc"));return mg(n,s=>{const l=s.docs.map(c=>({id:c.id,...c.data()}));r(l)})}const hN=()=>{const[r,e]=pe.useState(null),[n,s]=pe.useState(!0),[l,c]=pe.useState(!1),[f,g]=pe.useState("journal"),[p,y]=pe.useState([]);return pe.useEffect(()=>{const b=d1(nn,S=>{e(S),s(!1)});return()=>b()},[]),pe.useEffect(()=>{if(r){const b=cN(S=>{y(S)});return()=>b()}},[r]),n?E.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black min-h-screen flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-green-400 border-t-transparent mb-4 mx-auto"}),E.jsx("p",{className:"text-green-400 text-lg",children:"Loading Mind Mosaic..."})]})}):r?l?E.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-black min-h-screen",children:[E.jsx("div",{className:"bg-gray-800 border-b border-gray-700 shadow-lg",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Mind Mosaic"}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>g("journal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="journal"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"📝 Journal"}),E.jsx("button",{onClick:()=>g("analytics"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="analytics"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"📊 Analytics"}),E.jsx("button",{onClick:()=>g("wellness"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="wellness"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"💡 Wellness"}),E.jsx("button",{onClick:()=>g("workouts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="workouts"?"bg-teal-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"🧠 Workouts"}),E.jsx("button",{onClick:()=>g("architecture"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="architecture"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"🏗️ Architecture"})]})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("span",{className:"text-gray-300 text-sm",children:["Welcome, ",r.email]}),E.jsx("button",{onClick:()=>nn.signOut(),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg text-sm transition-colors",children:"Sign Out"})]})]})})}),E.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:r&&E.jsxs(E.Fragment,{children:[E.jsx(lN,{}),f==="journal"&&E.jsx(E.Fragment,{children:E.jsx(rN,{})}),f==="analytics"&&E.jsx(E.Fragment,{children:E.jsx(iN,{})}),f==="wellness"&&E.jsxs(E.Fragment,{children:[E.jsx(aN,{journals:p}),E.jsx(sN,{journals:p})]}),f==="workouts"&&E.jsx(E.Fragment,{children:E.jsx(oN,{})}),f==="architecture"&&E.jsx(E.Fragment,{children:E.jsx(uN,{})})]})}),E.jsxs("div",{className:"text-center py-4 text-xs text-gray-500 border-t border-gray-700 mt-8",children:[E.jsx("p",{children:"⚠️ This tool is not a replacement for professional medical care."}),E.jsx("p",{children:"If you are in immediate danger, please call local emergency services."})]})]}):E.jsx(nN,{onConsent:()=>c(!0)}):E.jsx(tN,{})};ww.createRoot(document.getElementById("root")).render(E.jsx(pe.StrictMode,{children:E.jsx(hN,{})}));
